function fg(m,g){for(var t=0;t<g.length;t++){const r=g[t];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in m)){const a=Object.getOwnPropertyDescriptor(r,l);a&&Object.defineProperty(m,l,a.get?a:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}))}(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=t(l);fetch(l.href,a)}})();var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gd(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var _d={exports:{}},bc={},xd={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function my(){if(_p)return Ft;_p=1;var m=Symbol.for("react.element"),g=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,D={};function F(j,se,ue){this.props=j,this.context=se,this.refs=D,this.updater=ue||R}F.prototype.isReactComponent={},F.prototype.setState=function(j,se){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,se,"setState")},F.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function z(){}z.prototype=F.prototype;function q(j,se,ue){this.props=j,this.context=se,this.refs=D,this.updater=ue||R}var ee=q.prototype=new z;ee.constructor=q,L(ee,F.prototype),ee.isPureReactComponent=!0;var Le=Array.isArray,Se=Object.prototype.hasOwnProperty,Z={current:null},we={key:!0,ref:!0,__self:!0,__source:!0};function N(j,se,ue){var Ne,He={},Xe=null,lt=null;if(se!=null)for(Ne in se.ref!==void 0&&(lt=se.ref),se.key!==void 0&&(Xe=""+se.key),se)Se.call(se,Ne)&&!we.hasOwnProperty(Ne)&&(He[Ne]=se[Ne]);var Me=arguments.length-2;if(Me===1)He.children=ue;else if(1<Me){for(var Ke=Array(Me),Et=0;Et<Me;Et++)Ke[Et]=arguments[Et+2];He.children=Ke}if(j&&j.defaultProps)for(Ne in Me=j.defaultProps,Me)He[Ne]===void 0&&(He[Ne]=Me[Ne]);return{$$typeof:m,type:j,key:Xe,ref:lt,props:He,_owner:Z.current}}function U(j,se){return{$$typeof:m,type:j.type,key:se,ref:j.ref,props:j.props,_owner:j._owner}}function te(j){return typeof j=="object"&&j!==null&&j.$$typeof===m}function ve(j){var se={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return se[ue]})}var ce=/\/+/g;function Fe(j,se){return typeof j=="object"&&j!==null&&j.key!=null?ve(""+j.key):se.toString(36)}function Ge(j,se,ue,Ne,He){var Xe=typeof j;(Xe==="undefined"||Xe==="boolean")&&(j=null);var lt=!1;if(j===null)lt=!0;else switch(Xe){case"string":case"number":lt=!0;break;case"object":switch(j.$$typeof){case m:case g:lt=!0}}if(lt)return lt=j,He=He(lt),j=Ne===""?"."+Fe(lt,0):Ne,Le(He)?(ue="",j!=null&&(ue=j.replace(ce,"$&/")+"/"),Ge(He,se,ue,"",function(Et){return Et})):He!=null&&(te(He)&&(He=U(He,ue+(!He.key||lt&&lt.key===He.key?"":(""+He.key).replace(ce,"$&/")+"/")+j)),se.push(He)),1;if(lt=0,Ne=Ne===""?".":Ne+":",Le(j))for(var Me=0;Me<j.length;Me++){Xe=j[Me];var Ke=Ne+Fe(Xe,Me);lt+=Ge(Xe,se,ue,Ke,He)}else if(Ke=T(j),typeof Ke=="function")for(j=Ke.call(j),Me=0;!(Xe=j.next()).done;)Xe=Xe.value,Ke=Ne+Fe(Xe,Me++),lt+=Ge(Xe,se,ue,Ke,He);else if(Xe==="object")throw se=String(j),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return lt}function yt(j,se,ue){if(j==null)return j;var Ne=[],He=0;return Ge(j,Ne,"","",function(Xe){return se.call(ue,Xe,He++)}),Ne}function dt(j){if(j._status===-1){var se=j._result;se=se(),se.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=se)}if(j._status===1)return j._result.default;throw j._result}var Oe={current:null},pe={transition:null},ye={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:pe,ReactCurrentOwner:Z};function Re(){throw Error("act(...) is not supported in production builds of React.")}return Ft.Children={map:yt,forEach:function(j,se,ue){yt(j,function(){se.apply(this,arguments)},ue)},count:function(j){var se=0;return yt(j,function(){se++}),se},toArray:function(j){return yt(j,function(se){return se})||[]},only:function(j){if(!te(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ft.Component=F,Ft.Fragment=t,Ft.Profiler=l,Ft.PureComponent=q,Ft.StrictMode=r,Ft.Suspense=h,Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ft.act=Re,Ft.cloneElement=function(j,se,ue){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Ne=L({},j.props),He=j.key,Xe=j.ref,lt=j._owner;if(se!=null){if(se.ref!==void 0&&(Xe=se.ref,lt=Z.current),se.key!==void 0&&(He=""+se.key),j.type&&j.type.defaultProps)var Me=j.type.defaultProps;for(Ke in se)Se.call(se,Ke)&&!we.hasOwnProperty(Ke)&&(Ne[Ke]=se[Ke]===void 0&&Me!==void 0?Me[Ke]:se[Ke])}var Ke=arguments.length-2;if(Ke===1)Ne.children=ue;else if(1<Ke){Me=Array(Ke);for(var Et=0;Et<Ke;Et++)Me[Et]=arguments[Et+2];Ne.children=Me}return{$$typeof:m,type:j.type,key:He,ref:Xe,props:Ne,_owner:lt}},Ft.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Ft.createElement=N,Ft.createFactory=function(j){var se=N.bind(null,j);return se.type=j,se},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(j){return{$$typeof:p,render:j}},Ft.isValidElement=te,Ft.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:dt}},Ft.memo=function(j,se){return{$$typeof:f,type:j,compare:se===void 0?null:se}},Ft.startTransition=function(j){var se=pe.transition;pe.transition={};try{j()}finally{pe.transition=se}},Ft.unstable_act=Re,Ft.useCallback=function(j,se){return Oe.current.useCallback(j,se)},Ft.useContext=function(j){return Oe.current.useContext(j)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(j){return Oe.current.useDeferredValue(j)},Ft.useEffect=function(j,se){return Oe.current.useEffect(j,se)},Ft.useId=function(){return Oe.current.useId()},Ft.useImperativeHandle=function(j,se,ue){return Oe.current.useImperativeHandle(j,se,ue)},Ft.useInsertionEffect=function(j,se){return Oe.current.useInsertionEffect(j,se)},Ft.useLayoutEffect=function(j,se){return Oe.current.useLayoutEffect(j,se)},Ft.useMemo=function(j,se){return Oe.current.useMemo(j,se)},Ft.useReducer=function(j,se,ue){return Oe.current.useReducer(j,se,ue)},Ft.useRef=function(j){return Oe.current.useRef(j)},Ft.useState=function(j){return Oe.current.useState(j)},Ft.useSyncExternalStore=function(j,se,ue){return Oe.current.useSyncExternalStore(j,se,ue)},Ft.useTransition=function(){return Oe.current.useTransition()},Ft.version="18.3.1",Ft}var xp;function qd(){return xp||(xp=1,xd.exports=my()),xd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function vy(){if(Tp)return bc;Tp=1;var m=qd(),g=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,l=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(p,h,f){var v,w={},T=null,R=null;f!==void 0&&(T=""+f),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(R=h.ref);for(v in h)r.call(h,v)&&!a.hasOwnProperty(v)&&(w[v]=h[v]);if(p&&p.defaultProps)for(v in h=p.defaultProps,h)w[v]===void 0&&(w[v]=h[v]);return{$$typeof:g,type:p,key:T,ref:R,props:w,_owner:l.current}}return bc.Fragment=t,bc.jsx=u,bc.jsxs=u,bc}var Sp;function yy(){return Sp||(Sp=1,_d.exports=vy()),_d.exports}var ie=yy(),De=qd();const Fo=Gd(De),wy=fg({__proto__:null,default:Fo},[De]);var lf={},Td={exports:{}},Ui={},Sd={exports:{}},Ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function _y(){return Ep||(Ep=1,function(m){function g(pe,ye){var Re=pe.length;pe.push(ye);e:for(;0<Re;){var j=Re-1>>>1,se=pe[j];if(0<l(se,ye))pe[j]=ye,pe[Re]=se,Re=j;else break e}}function t(pe){return pe.length===0?null:pe[0]}function r(pe){if(pe.length===0)return null;var ye=pe[0],Re=pe.pop();if(Re!==ye){pe[0]=Re;e:for(var j=0,se=pe.length,ue=se>>>1;j<ue;){var Ne=2*(j+1)-1,He=pe[Ne],Xe=Ne+1,lt=pe[Xe];if(0>l(He,Re))Xe<se&&0>l(lt,He)?(pe[j]=lt,pe[Xe]=Re,j=Xe):(pe[j]=He,pe[Ne]=Re,j=Ne);else if(Xe<se&&0>l(lt,Re))pe[j]=lt,pe[Xe]=Re,j=Xe;else break e}}return ye}function l(pe,ye){var Re=pe.sortIndex-ye.sortIndex;return Re!==0?Re:pe.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;m.unstable_now=function(){return a.now()}}else{var u=Date,p=u.now();m.unstable_now=function(){return u.now()-p}}var h=[],f=[],v=1,w=null,T=3,R=!1,L=!1,D=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(pe){for(var ye=t(f);ye!==null;){if(ye.callback===null)r(f);else if(ye.startTime<=pe)r(f),ye.sortIndex=ye.expirationTime,g(h,ye);else break;ye=t(f)}}function Le(pe){if(D=!1,ee(pe),!L)if(t(h)!==null)L=!0,dt(Se);else{var ye=t(f);ye!==null&&Oe(Le,ye.startTime-pe)}}function Se(pe,ye){L=!1,D&&(D=!1,z(N),N=-1),R=!0;var Re=T;try{for(ee(ye),w=t(h);w!==null&&(!(w.expirationTime>ye)||pe&&!ve());){var j=w.callback;if(typeof j=="function"){w.callback=null,T=w.priorityLevel;var se=j(w.expirationTime<=ye);ye=m.unstable_now(),typeof se=="function"?w.callback=se:w===t(h)&&r(h),ee(ye)}else r(h);w=t(h)}if(w!==null)var ue=!0;else{var Ne=t(f);Ne!==null&&Oe(Le,Ne.startTime-ye),ue=!1}return ue}finally{w=null,T=Re,R=!1}}var Z=!1,we=null,N=-1,U=5,te=-1;function ve(){return!(m.unstable_now()-te<U)}function ce(){if(we!==null){var pe=m.unstable_now();te=pe;var ye=!0;try{ye=we(!0,pe)}finally{ye?Fe():(Z=!1,we=null)}}else Z=!1}var Fe;if(typeof q=="function")Fe=function(){q(ce)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,yt=Ge.port2;Ge.port1.onmessage=ce,Fe=function(){yt.postMessage(null)}}else Fe=function(){F(ce,0)};function dt(pe){we=pe,Z||(Z=!0,Fe())}function Oe(pe,ye){N=F(function(){pe(m.unstable_now())},ye)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(pe){pe.callback=null},m.unstable_continueExecution=function(){L||R||(L=!0,dt(Se))},m.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<pe?Math.floor(1e3/pe):5},m.unstable_getCurrentPriorityLevel=function(){return T},m.unstable_getFirstCallbackNode=function(){return t(h)},m.unstable_next=function(pe){switch(T){case 1:case 2:case 3:var ye=3;break;default:ye=T}var Re=T;T=ye;try{return pe()}finally{T=Re}},m.unstable_pauseExecution=function(){},m.unstable_requestPaint=function(){},m.unstable_runWithPriority=function(pe,ye){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Re=T;T=pe;try{return ye()}finally{T=Re}},m.unstable_scheduleCallback=function(pe,ye,Re){var j=m.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?j+Re:j):Re=j,pe){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Re+se,pe={id:v++,callback:ye,priorityLevel:pe,startTime:Re,expirationTime:se,sortIndex:-1},Re>j?(pe.sortIndex=Re,g(f,pe),t(h)===null&&pe===t(f)&&(D?(z(N),N=-1):D=!0,Oe(Le,Re-j))):(pe.sortIndex=se,g(h,pe),L||R||(L=!0,dt(Se))),pe},m.unstable_shouldYield=ve,m.unstable_wrapCallback=function(pe){var ye=T;return function(){var Re=T;T=ye;try{return pe.apply(this,arguments)}finally{T=Re}}}}(Ed)),Ed}var Cp;function xy(){return Cp||(Cp=1,Sd.exports=_y()),Sd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function Ty(){if(Rp)return Ui;Rp=1;var m=qd(),g=xy();function t(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,l={};function a(e,n){u(e,n),u(e+"Capture",n)}function u(e,n){for(l[e]=n,e=0;e<n.length;e++)r.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(e){return h.call(w,e)?!0:h.call(v,e)?!1:f.test(e)?w[e]=!0:(v[e]=!0,!1)}function R(e,n,o,c){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L(e,n,o,c){if(n===null||typeof n>"u"||R(e,n,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(e,n,o,c,y,_,b){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=y,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=_,this.removeEmptyString=b}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];F[n]=new D(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(z,q);F[n]=new D(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(z,q);F[n]=new D(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(z,q);F[n]=new D(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function ee(e,n,o,c){var y=F.hasOwnProperty(n)?F[n]:null;(y!==null?y.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(L(n,o,y,c)&&(o=null),c||y===null?T(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):y.mustUseProperty?e[y.propertyName]=o===null?y.type===3?!1:"":o:(n=y.attributeName,c=y.attributeNamespace,o===null?e.removeAttribute(n):(y=y.type,o=y===3||y===4&&o===!0?"":""+o,c?e.setAttributeNS(c,n,o):e.setAttribute(n,o))))}var Le=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),Z=Symbol.for("react.portal"),we=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ve=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),pe=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,j;function se(e){if(j===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);j=n&&n[1]||""}return`
`+j+e}var ue=!1;function Ne(e,n){if(!e||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(oe){var c=oe}Reflect.construct(e,[],n)}else{try{n.call()}catch(oe){c=oe}e.call(n.prototype)}else{try{throw Error()}catch(oe){c=oe}e()}}catch(oe){if(oe&&c&&typeof oe.stack=="string"){for(var y=oe.stack.split(`
`),_=c.stack.split(`
`),b=y.length-1,B=_.length-1;1<=b&&0<=B&&y[b]!==_[B];)B--;for(;1<=b&&0<=B;b--,B--)if(y[b]!==_[B]){if(b!==1||B!==1)do if(b--,B--,0>B||y[b]!==_[B]){var W=`
`+y[b].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=b&&0<=B);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?se(e):""}function He(e){switch(e.tag){case 5:return se(e.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return e=Ne(e.type,!1),e;case 11:return e=Ne(e.type.render,!1),e;case 1:return e=Ne(e.type,!0),e;default:return""}}function Xe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case we:return"Fragment";case Z:return"Portal";case U:return"Profiler";case N:return"StrictMode";case Fe:return"Suspense";case Ge:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ve:return(e.displayName||"Context")+".Consumer";case te:return(e._context.displayName||"Context")+".Provider";case ce:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yt:return n=e.displayName||null,n!==null?n:Xe(e.type)||"Memo";case dt:n=e._payload,e=e._init;try{return Xe(e(n))}catch{}}return null}function lt(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xe(n);case 8:return n===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ke(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Et(e){var n=Ke(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var y=o.get,_=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return y.call(this)},set:function(b){c=""+b,_.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ye(e){e._valueTracker||(e._valueTracker=Et(e))}function Ct(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return e&&(c=Ke(e)?e.checked?"true":"false":e.value),e=c,e!==o?(n.setValue(e),!0):!1}function Bt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tt(e,n){var o=n.checked;return Re({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function pt(e,n){var o=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;o=Me(n.value!=null?n.value:o),e._wrapperState={initialChecked:c,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function gt(e,n){n=n.checked,n!=null&&ee(e,"checked",n,!1)}function S(e,n){gt(e,n);var o=Me(n.value),c=n.type;if(o!=null)c==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?K(e,n.type,o):n.hasOwnProperty("defaultValue")&&K(e,n.type,Me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function k(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function K(e,n,o){(n!=="number"||Bt(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var he=Array.isArray;function xe(e,n,o,c){if(e=e.options,n){n={};for(var y=0;y<o.length;y++)n["$"+o[y]]=!0;for(o=0;o<e.length;o++)y=n.hasOwnProperty("$"+e[o].value),e[o].selected!==y&&(e[o].selected=y),y&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Me(o),n=null,y=0;y<e.length;y++){if(e[y].value===o){e[y].selected=!0,c&&(e[y].defaultSelected=!0);return}n!==null||e[y].disabled||(n=e[y])}n!==null&&(n.selected=!0)}}function Ie(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(t(91));return Re({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function de(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(t(92));if(he(o)){if(1<o.length)throw Error(t(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:Me(o)}}function We(e,n){var o=Me(n.value),c=Me(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),c!=null&&(e.defaultValue=""+c)}function ut(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function ct(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?ct(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ht,C=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,c,y){MSApp.execUnsafeLocalFunction(function(){return e(n,o,c,y)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ht=ht||document.createElement("div"),ht.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ht.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function E(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var I={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M=["Webkit","ms","Moz","O"];Object.keys(I).forEach(function(e){M.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),I[n]=I[e]})});function le(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||I.hasOwnProperty(e)&&I[e]?(""+n).trim():n+"px"}function Ee(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var c=o.indexOf("--")===0,y=le(o,n[o],c);o==="float"&&(o="cssFloat"),c?e.setProperty(o,y):e[o]=y}}var nt=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ot(e,n){if(n){if(nt[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(t(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(t(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(t(61))}if(n.style!=null&&typeof n.style!="object")throw Error(t(62))}}function it(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fn=null;function tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ri=null,si=null,Ei=null;function Hr(e){if(e=Un(e)){if(typeof ri!="function")throw Error(t(280));var n=e.stateNode;n&&(n=cl(n),ri(e.stateNode,e.type,n))}}function Aa(e){si?Ei?Ei.push(e):Ei=[e]:si=e}function Ao(){if(si){var e=si,n=Ei;if(Ei=si=null,Hr(e),n)for(e=0;e<n.length;e++)Hr(n[e])}}function gs(e,n){return e(n)}function Ur(){}var Mo=!1;function Ma(e,n,o){if(Mo)return e(n,o);Mo=!0;try{return gs(e,n,o)}finally{Mo=!1,(si!==null||Ei!==null)&&(Ur(),Ao())}}function V(e,n){var o=e.stateNode;if(o===null)return null;var c=cl(o);if(c===null)return null;o=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(t(231,n,typeof o));return o}var Q=!1;if(p)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){Q=!0}}),window.addEventListener("test",ae,ae),window.removeEventListener("test",ae,ae)}catch{Q=!1}function _e(e,n,o,c,y,_,b,B,W){var oe=Array.prototype.slice.call(arguments,3);try{n.apply(o,oe)}catch(Ce){this.onError(Ce)}}var Ae=!1,tt=null,mt=!1,qe=null,Je={onError:function(e){Ae=!0,tt=e}};function Ze(e,n,o,c,y,_,b,B,W){Ae=!1,tt=null,_e.apply(Je,arguments)}function st(e,n,o,c,y,_,b,B,W){if(Ze.apply(this,arguments),Ae){if(Ae){var oe=tt;Ae=!1,tt=null}else throw Error(t(198));mt||(mt=!0,qe=oe)}}function St(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function kt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function wn(e){if(St(e)!==e)throw Error(t(188))}function Zt(e){var n=e.alternate;if(!n){if(n=St(e),n===null)throw Error(t(188));return n!==e?null:e}for(var o=e,c=n;;){var y=o.return;if(y===null)break;var _=y.alternate;if(_===null){if(c=y.return,c!==null){o=c;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===o)return wn(y),e;if(_===c)return wn(y),n;_=_.sibling}throw Error(t(188))}if(o.return!==c.return)o=y,c=_;else{for(var b=!1,B=y.child;B;){if(B===o){b=!0,o=y,c=_;break}if(B===c){b=!0,c=y,o=_;break}B=B.sibling}if(!b){for(B=_.child;B;){if(B===o){b=!0,o=_,c=y;break}if(B===c){b=!0,c=_,o=y;break}B=B.sibling}if(!b)throw Error(t(189))}}if(o.alternate!==c)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?e:n}function Mt(e){return e=Zt(e),e!==null?nn(e):null}function nn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=nn(e);if(n!==null)return n;e=e.sibling}return null}var xr=g.unstable_scheduleCallback,jr=g.unstable_cancelCallback,oi=g.unstable_shouldYield,Ci=g.unstable_requestPaint,Xt=g.unstable_now,ms=g.unstable_getCurrentPriorityLevel,Wi=g.unstable_ImmediatePriority,vs=g.unstable_UserBlockingPriority,rr=g.unstable_NormalPriority,It=g.unstable_LowPriority,Qt=g.unstable_IdlePriority,Vi=null,Nn=null;function dn(e){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Vi,e,void 0,(e.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:Uc,zo=Math.log,za=Math.LN2;function Uc(e){return e>>>=0,e===0?32:31-(zo(e)/za|0)|0}var qs=64,Na=4194304;function Zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ys(e,n){var o=e.pendingLanes;if(o===0)return 0;var c=0,y=e.suspendedLanes,_=e.pingedLanes,b=o&268435455;if(b!==0){var B=b&~y;B!==0?c=Zs(B):(_&=b,_!==0&&(c=Zs(_)))}else b=o&~y,b!==0?c=Zs(b):_!==0&&(c=Zs(_));if(c===0)return 0;if(n!==0&&n!==c&&!(n&y)&&(y=c&-c,_=n&-n,y>=_||y===16&&(_&4194240)!==0))return n;if(c&4&&(c|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)o=31-bn(n),y=1<<o,c|=e[o],n&=~y;return c}function jc(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(e,n){for(var o=e.suspendedLanes,c=e.pingedLanes,y=e.expirationTimes,_=e.pendingLanes;0<_;){var b=31-bn(_),B=1<<b,W=y[b];W===-1?(!(B&o)||B&c)&&(y[b]=jc(B,n)):W<=n&&(e.expiredLanes|=B),_&=~B}}function Ba(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hu(){var e=qs;return qs<<=1,!(qs&4194240)&&(qs=64),e}function No(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Bo(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-bn(n),e[n]=o}function Wc(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<o;){var y=31-bn(o),_=1<<y;n[y]=0,c[y]=-1,e[y]=-1,o&=~_}}function Ho(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var c=31-bn(o),y=1<<c;y&n|e[c]&n&&(e[c]|=n),o&=~y}}var Wt=0;function ws(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fu,Ha,Vc,du,pu,Ua=!1,Uo=[],Wr=null,Vr=null,Gr=null,Xs=new Map,jo=new Map,qr=[],Rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gc(e,n){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Xs.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jo.delete(n.pointerId)}}function _s(e,n,o,c,y,_){return e===null||e.nativeEvent!==_?(e={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:_,targetContainers:[y]},n!==null&&(n=Un(n),n!==null&&Ha(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,y!==null&&n.indexOf(y)===-1&&n.push(y),e)}function Pf(e,n,o,c,y){switch(n){case"focusin":return Wr=_s(Wr,e,n,o,c,y),!0;case"dragenter":return Vr=_s(Vr,e,n,o,c,y),!0;case"mouseover":return Gr=_s(Gr,e,n,o,c,y),!0;case"pointerover":var _=y.pointerId;return Xs.set(_,_s(Xs.get(_)||null,e,n,o,c,y)),!0;case"gotpointercapture":return _=y.pointerId,jo.set(_,_s(jo.get(_)||null,e,n,o,c,y)),!0}return!1}function qc(e){var n=lr(e.target);if(n!==null){var o=St(n);if(o!==null){if(n=o.tag,n===13){if(n=kt(o),n!==null){e.blockedOn=n,pu(e.priority,function(){Vc(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ja(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Ga(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);fn=c,o.target.dispatchEvent(c),fn=null}else return n=Un(o),n!==null&&Ha(n),e.blockedOn=o,!1;n.shift()}return!0}function Zc(e,n,o){ja(e)&&o.delete(n)}function Df(){Ua=!1,Wr!==null&&ja(Wr)&&(Wr=null),Vr!==null&&ja(Vr)&&(Vr=null),Gr!==null&&ja(Gr)&&(Gr=null),Xs.forEach(Zc),jo.forEach(Zc)}function qt(e,n){e.blockedOn===n&&(e.blockedOn=null,Ua||(Ua=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,Df)))}function Gt(e){function n(y){return qt(y,e)}if(0<Uo.length){qt(Uo[0],e);for(var o=1;o<Uo.length;o++){var c=Uo[o];c.blockedOn===e&&(c.blockedOn=null)}}for(Wr!==null&&qt(Wr,e),Vr!==null&&qt(Vr,e),Gr!==null&&qt(Gr,e),Xs.forEach(n),jo.forEach(n),o=0;o<qr.length;o++)c=qr[o],c.blockedOn===e&&(c.blockedOn=null);for(;0<qr.length&&(o=qr[0],o.blockedOn===null);)qc(o),o.blockedOn===null&&qr.shift()}var Ks=Le.ReactCurrentBatchConfig,Wa=!0;function bf(e,n,o,c){var y=Wt,_=Ks.transition;Ks.transition=null;try{Wt=1,gu(e,n,o,c)}finally{Wt=y,Ks.transition=_}}function Lf(e,n,o,c){var y=Wt,_=Ks.transition;Ks.transition=null;try{Wt=4,gu(e,n,o,c)}finally{Wt=y,Ks.transition=_}}function gu(e,n,o,c){if(Wa){var y=Ga(e,n,o,c);if(y===null)ku(e,n,c,Va,o),Gc(e,c);else if(Pf(y,e,n,o,c))c.stopPropagation();else if(Gc(e,c),n&4&&-1<Rf.indexOf(e)){for(;y!==null;){var _=Un(y);if(_!==null&&fu(_),_=Ga(e,n,o,c),_===null&&ku(e,n,c,Va,o),_===y)break;y=_}y!==null&&c.stopPropagation()}else ku(e,n,c,null,o)}}var Va=null;function Ga(e,n,o,c){if(Va=null,e=tn(c),e=lr(e),e!==null)if(n=St(e),n===null)e=null;else if(o=n.tag,o===13){if(e=kt(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Va=e,null}function Xc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ms()){case Wi:return 1;case vs:return 4;case rr:case It:return 16;case Qt:return 536870912;default:return 16}default:return 16}}var an=null,Wo=null,sr=null;function mu(){if(sr)return sr;var e,n=Wo,o=n.length,c,y="value"in an?an.value:an.textContent,_=y.length;for(e=0;e<o&&n[e]===y[e];e++);var b=o-e;for(c=1;c<=b&&n[o-c]===y[_-c];c++);return sr=y.slice(e,1<c?1-c:void 0)}function Ys(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function vu(){return!1}function ai(e){function n(o,c,y,_,b){this._reactName=o,this._targetInst=y,this.type=c,this.nativeEvent=_,this.target=b,this.currentTarget=null;for(var B in e)e.hasOwnProperty(B)&&(o=e[B],this[B]=o?o(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Kn:vu,this.isPropagationStopped=vu,this}return Re(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=ai(xs),Qs=Re({},xs,{view:0,detail:0}),Kc=ai(Qs),Yn,yu,Bn,Za=Re({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bn&&(Bn&&e.type==="mousemove"?(Yn=e.screenX-Bn.screenX,yu=e.screenY-Bn.screenY):yu=Yn=0,Bn=e),Yn)},movementY:function(e){return"movementY"in e?e.movementY:yu}}),wu=ai(Za),Zr=Re({},Za,{dataTransfer:0}),Xa=ai(Zr),_u=Re({},Qs,{relatedTarget:0}),Jt=ai(_u),Xr=Re({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),xu=ai(Xr),Of=Re({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=ai(Of),kf=Re({},xs,{data:0}),Yc=ai(kf),Ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ka={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Js(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ka[e])?!!n[e]:!1}function Su(){return Js}var Jc=Re({},Qs,{key:function(e){if(e.key){var n=Ff[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$c=ai(Jc),Eu=Re({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ya=ai(Eu),eh=Re({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),If=ai(eh),Cu=Re({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=ai(Cu),Af=Re({},Za,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),th=ai(Af),gi=[9,13,27,32],Vo=p&&"CompositionEvent"in window,Tr=null;p&&"documentMode"in document&&(Tr=document.documentMode);var nh=p&&"TextEvent"in window&&!Tr,Pu=p&&(!Vo||Tr&&8<Tr&&11>=Tr),ih=" ",rh=!1;function sh(e,n){switch(e){case"keyup":return gi.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $s=!1;function eo(e,n){switch(e){case"compositionend":return oh(n);case"keypress":return n.which!==32?null:(rh=!0,ih);case"textInput":return e=n.data,e===ih&&rh?null:e;default:return null}}function Mf(e,n){if($s)return e==="compositionend"||!Vo&&sh(e,n)?(e=mu(),sr=Wo=an=null,$s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pu&&n.locale!=="ko"?null:n.data;default:return null}}var zf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zf[e.type]:n==="textarea"}function Du(e,n,o,c){Aa(c),n=ol(n,"onChange"),0<n.length&&(o=new qa("onChange","change",null,o,c),e.push({event:o,listeners:n}))}var Ri=null,Kr=null;function Nf(e){dh(e,0)}function Ja(e){var n=Rt(e);if(Ct(n))return e}function Bf(e,n){if(e==="change")return n}var Ts=!1;if(p){var mi;if(p){var $a="oninput"in document;if(!$a){var ah=document.createElement("div");ah.setAttribute("oninput","return;"),$a=typeof ah.oninput=="function"}mi=$a}else mi=!1;Ts=mi&&(!document.documentMode||9<document.documentMode)}function lh(){Ri&&(Ri.detachEvent("onpropertychange",uh),Kr=Ri=null)}function uh(e){if(e.propertyName==="value"&&Ja(Kr)){var n=[];Du(n,Kr,e,tn(e)),Ma(Nf,n)}}function Hf(e,n,o){e==="focusin"?(lh(),Ri=n,Kr=o,Ri.attachEvent("onpropertychange",uh)):e==="focusout"&&lh()}function Uf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ja(Kr)}function to(e,n){if(e==="click")return Ja(n)}function Y(e,n){if(e==="input"||e==="change")return Ja(n)}function fe(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var re=typeof Object.is=="function"?Object.is:fe;function Ue(e,n){if(re(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var y=o[c];if(!h.call(n,y)||!re(e[y],n[y]))return!1}return!0}function xt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ht(e,n){var o=xt(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=n&&c>=n)return{node:o,offset:n-e};e=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xt(o)}}function _n(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_n(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Kt(){for(var e=window,n=Bt();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Bt(e.document)}return n}function Go(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function jf(e){var n=Kt(),o=e.focusedElem,c=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&_n(o.ownerDocument.documentElement,o)){if(c!==null&&Go(o)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var y=o.textContent.length,_=Math.min(c.start,y);c=c.end===void 0?_:Math.min(c.end,y),!e.extend&&_>c&&(y=c,c=_,_=y),y=Ht(o,_);var b=Ht(o,c);y&&b&&(e.rangeCount!==1||e.anchorNode!==y.node||e.anchorOffset!==y.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(y.node,y.offset),e.removeAllRanges(),_>c?(e.addRange(n),e.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pi=p&&"documentMode"in document&&11>=document.documentMode,Sr=null,bu=null,or=null,no=!1;function qo(e,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;no||Sr==null||Sr!==Bt(c)||(c=Sr,"selectionStart"in c&&Go(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),or&&Ue(or,c)||(or=c,c=ol(bu,"onSelect"),0<c.length&&(n=new qa("onSelect","select",null,n,o),e.push({event:n,listeners:c}),n.target=Sr)))}function Ut(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var io={animationend:Ut("Animation","AnimationEnd"),animationiteration:Ut("Animation","AnimationIteration"),animationstart:Ut("Animation","AnimationStart"),transitionend:Ut("Transition","TransitionEnd")},el={},Zo={};p&&(Zo=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function tl(e){if(el[e])return el[e];if(!io[e])return e;var n=io[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Zo)return el[e]=n[o];return e}var ch=tl("animationend"),hh=tl("animationiteration"),Xo=tl("animationstart"),Er=tl("transitionend"),Ko=new Map,Lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(e,n){Ko.set(e,n),a(n,[e])}for(var nl=0;nl<Lu.length;nl++){var il=Lu[nl],rl=il.toLowerCase(),fh=il[0].toUpperCase()+il.slice(1);Gi(rl,"on"+fh)}Gi(ch,"onAnimationEnd"),Gi(hh,"onAnimationIteration"),Gi(Xo,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Er,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ss=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Yo(e,n,o){var c=e.type||"unknown-event";e.currentTarget=o,st(c,n,void 0,e),e.currentTarget=null}function dh(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],y=c.event;c=c.listeners;e:{var _=void 0;if(n)for(var b=c.length-1;0<=b;b--){var B=c[b],W=B.instance,oe=B.currentTarget;if(B=B.listener,W!==_&&y.isPropagationStopped())break e;Yo(y,B,oe),_=W}else for(b=0;b<c.length;b++){if(B=c[b],W=B.instance,oe=B.currentTarget,B=B.listener,W!==_&&y.isPropagationStopped())break e;Yo(y,B,oe),_=W}}}if(mt)throw e=qe,mt=!1,qe=null,e}function rn(e,n){var o=n[ul];o===void 0&&(o=n[ul]=new Set);var c=e+"__bubble";o.has(c)||(sl(n,e,2,!1),o.add(c))}function Ou(e,n,o){var c=0;n&&(c|=4),sl(o,e,c,n)}var Es="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Es]){e[Es]=!0,r.forEach(function(o){o!=="selectionchange"&&(Ss.has(o)||Ou(o,!1,e),Ou(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Es]||(n[Es]=!0,Ou("selectionchange",!1,n))}}function sl(e,n,o,c){switch(Xc(n)){case 1:var y=bf;break;case 4:y=Lf;break;default:y=gu}o=y.bind(null,n,o,e),y=void 0,!Q||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(y=!0),c?y!==void 0?e.addEventListener(n,o,{capture:!0,passive:y}):e.addEventListener(n,o,!0):y!==void 0?e.addEventListener(n,o,{passive:y}):e.addEventListener(n,o,!1)}function ku(e,n,o,c,y){var _=c;if(!(n&1)&&!(n&2)&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var B=c.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(b===4)for(b=c.return;b!==null;){var W=b.tag;if((W===3||W===4)&&(W=b.stateNode.containerInfo,W===y||W.nodeType===8&&W.parentNode===y))return;b=b.return}for(;B!==null;){if(b=lr(B),b===null)return;if(W=b.tag,W===5||W===6){c=_=b;continue e}B=B.parentNode}}c=c.return}Ma(function(){var oe=_,Ce=tn(o),be=[];e:{var Te=Ko.get(e);if(Te!==void 0){var je=qa,Qe=e;switch(e){case"keypress":if(Ys(o)===0)break e;case"keydown":case"keyup":je=$c;break;case"focusin":Qe="focus",je=Jt;break;case"focusout":Qe="blur",je=Jt;break;case"beforeblur":case"afterblur":je=Jt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=Xa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=If;break;case ch:case hh:case Xo:je=xu;break;case Er:je=Ru;break;case"scroll":je=Kc;break;case"wheel":je=th;break;case"copy":case"cut":case"paste":je=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Ya}var $e=(n&4)!==0,gn=!$e&&e==="scroll",$=$e?Te!==null?Te+"Capture":null:Te;$e=[];for(var X=oe,ne;X!==null;){ne=X;var ke=ne.stateNode;if(ne.tag===5&&ke!==null&&(ne=ke,$!==null&&(ke=V(X,$),ke!=null&&$e.push(ro(X,ke,ne)))),gn)break;X=X.return}0<$e.length&&(Te=new je(Te,Qe,null,o,Ce),be.push({event:Te,listeners:$e}))}}if(!(n&7)){e:{if(Te=e==="mouseover"||e==="pointerover",je=e==="mouseout"||e==="pointerout",Te&&o!==fn&&(Qe=o.relatedTarget||o.fromElement)&&(lr(Qe)||Qe[vi]))break e;if((je||Te)&&(Te=Ce.window===Ce?Ce:(Te=Ce.ownerDocument)?Te.defaultView||Te.parentWindow:window,je?(Qe=o.relatedTarget||o.toElement,je=oe,Qe=Qe?lr(Qe):null,Qe!==null&&(gn=St(Qe),Qe!==gn||Qe.tag!==5&&Qe.tag!==6)&&(Qe=null)):(je=null,Qe=oe),je!==Qe)){if($e=wu,ke="onMouseLeave",$="onMouseEnter",X="mouse",(e==="pointerout"||e==="pointerover")&&($e=Ya,ke="onPointerLeave",$="onPointerEnter",X="pointer"),gn=je==null?Te:Rt(je),ne=Qe==null?Te:Rt(Qe),Te=new $e(ke,X+"leave",je,o,Ce),Te.target=gn,Te.relatedTarget=ne,ke=null,lr(Ce)===oe&&($e=new $e($,X+"enter",Qe,o,Ce),$e.target=ne,$e.relatedTarget=gn,ke=$e),gn=ke,je&&Qe)t:{for($e=je,$=Qe,X=0,ne=$e;ne;ne=so(ne))X++;for(ne=0,ke=$;ke;ke=so(ke))ne++;for(;0<X-ne;)$e=so($e),X--;for(;0<ne-X;)$=so($),ne--;for(;X--;){if($e===$||$!==null&&$e===$.alternate)break t;$e=so($e),$=so($)}$e=null}else $e=null;je!==null&&xn(be,Te,je,$e,!1),Qe!==null&&gn!==null&&xn(be,gn,Qe,$e,!0)}}e:{if(Te=oe?Rt(oe):window,je=Te.nodeName&&Te.nodeName.toLowerCase(),je==="select"||je==="input"&&Te.type==="file")var et=Bf;else if(Qa(Te))if(Ts)et=Y;else{et=Uf;var ot=Hf}else(je=Te.nodeName)&&je.toLowerCase()==="input"&&(Te.type==="checkbox"||Te.type==="radio")&&(et=to);if(et&&(et=et(e,oe))){Du(be,et,o,Ce);break e}ot&&ot(e,Te,oe),e==="focusout"&&(ot=Te._wrapperState)&&ot.controlled&&Te.type==="number"&&K(Te,"number",Te.value)}switch(ot=oe?Rt(oe):window,e){case"focusin":(Qa(ot)||ot.contentEditable==="true")&&(Sr=ot,bu=oe,or=null);break;case"focusout":or=bu=Sr=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,qo(be,o,Ce);break;case"selectionchange":if(Pi)break;case"keydown":case"keyup":qo(be,o,Ce)}var at;if(Vo)e:{switch(e){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else $s?sh(e,o)&&(vt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(vt="onCompositionStart");vt&&(Pu&&o.locale!=="ko"&&($s||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&$s&&(at=mu()):(an=Ce,Wo="value"in an?an.value:an.textContent,$s=!0)),ot=ol(oe,vt),0<ot.length&&(vt=new Yc(vt,e,null,o,Ce),be.push({event:vt,listeners:ot}),at?vt.data=at:(at=oh(o),at!==null&&(vt.data=at)))),(at=nh?eo(e,o):Mf(e,o))&&(oe=ol(oe,"onBeforeInput"),0<oe.length&&(Ce=new Yc("onBeforeInput","beforeinput",null,o,Ce),be.push({event:Ce,listeners:oe}),Ce.data=at))}dh(be,n)})}function ro(e,n,o){return{instance:e,listener:n,currentTarget:o}}function ol(e,n){for(var o=n+"Capture",c=[];e!==null;){var y=e,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=V(e,o),_!=null&&c.unshift(ro(e,_,y)),_=V(e,n),_!=null&&c.push(ro(e,_,y))),e=e.return}return c}function so(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xn(e,n,o,c,y){for(var _=n._reactName,b=[];o!==null&&o!==c;){var B=o,W=B.alternate,oe=B.stateNode;if(W!==null&&W===c)break;B.tag===5&&oe!==null&&(B=oe,y?(W=V(o,_),W!=null&&b.unshift(ro(o,W,B))):y||(W=V(o,_),W!=null&&b.push(ro(o,W,B)))),o=o.return}b.length!==0&&e.push({event:n,listeners:b})}var Hn=/\r\n?/g,Wf=/\u0000|\uFFFD/g;function ph(e){return(typeof e=="string"?e:""+e).replace(Hn,`
`).replace(Wf,"")}function Qo(e,n,o){if(n=ph(n),ph(e)!==n&&o)throw Error(t(425))}function al(){}var Jo=null,Cs=null;function $o(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qr=typeof setTimeout=="function"?setTimeout:void 0,ea=typeof clearTimeout=="function"?clearTimeout:void 0,oo=typeof Promise=="function"?Promise:void 0,ll=typeof queueMicrotask=="function"?queueMicrotask:typeof oo<"u"?function(e){return oo.resolve(null).then(e).catch(ao)}:Qr;function ao(e){setTimeout(function(){throw e})}function Fu(e,n){var o=n,c=0;do{var y=o.nextSibling;if(e.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(c===0){e.removeChild(y),Gt(n);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=y}while(o);Gt(n)}function Jr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function gh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var lo=Math.random().toString(36).slice(2),ar="__reactFiber$"+lo,$r="__reactProps$"+lo,vi="__reactContainer$"+lo,ul="__reactEvents$"+lo,O="__reactListeners$"+lo,uo="__reactHandles$"+lo;function lr(e){var n=e[ar];if(n)return n;for(var o=e.parentNode;o;){if(n=o[vi]||o[ar]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=gh(e);e!==null;){if(o=e[ar])return o;e=gh(e)}return n}e=o,o=e.parentNode}return null}function Un(e){return e=e[ar]||e[vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(t(33))}function cl(e){return e[$r]||null}var Iu=[],co=-1;function li(e){return{current:e}}function sn(e){0>co||(e.current=Iu[co],Iu[co]=null,co--)}function $t(e,n){co++,Iu[co]=e.current,e.current=n}var es={},jn=li(es),ui=li(!1),Qn=es;function ho(e,n){var o=e.type.contextTypes;if(!o)return es;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in o)y[_]=n[_];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=y),y}function ci(e){return e=e.childContextTypes,e!=null}function hl(){sn(ui),sn(jn)}function mh(e,n,o){if(jn.current!==es)throw Error(t(168));$t(jn,n),$t(ui,o)}function vh(e,n,o){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var y in c)if(!(y in n))throw Error(t(108,lt(e)||"Unknown",y));return Re({},o,c)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||es,Qn=jn.current,$t(jn,e),$t(ui,ui.current),!0}function yh(e,n,o){var c=e.stateNode;if(!c)throw Error(t(169));o?(e=vh(e,n,Qn),c.__reactInternalMemoizedMergedChildContext=e,sn(ui),sn(jn),$t(jn,e)):sn(ui),$t(ui,o)}var Rr=null,fl=!1,Au=!1;function wh(e){Rr===null?Rr=[e]:Rr.push(e)}function Rs(e){fl=!0,wh(e)}function ts(){if(!Au&&Rr!==null){Au=!0;var e=0,n=Wt;try{var o=Rr;for(Wt=1;e<o.length;e++){var c=o[e];do c=c(!0);while(c!==null)}Rr=null,fl=!1}catch(y){throw Rr!==null&&(Rr=Rr.slice(e+1)),xr(Wi,ts),y}finally{Wt=n,Au=!1}}return null}var fo=[],Wn=0,dl=null,pl=0,bi=[],Li=0,Ps=null,ur=1,cr="";function Ds(e,n){fo[Wn++]=pl,fo[Wn++]=dl,dl=e,pl=n}function _h(e,n,o){bi[Li++]=ur,bi[Li++]=cr,bi[Li++]=Ps,Ps=e;var c=ur;e=cr;var y=32-bn(c)-1;c&=~(1<<y),o+=1;var _=32-bn(n)+y;if(30<_){var b=y-y%5;_=(c&(1<<b)-1).toString(32),c>>=b,y-=b,ur=1<<32-bn(n)+y|o<<y|c,cr=_+e}else ur=1<<_|o<<y|c,cr=e}function ta(e){e.return!==null&&(Ds(e,1),_h(e,1,0))}function bs(e){for(;e===dl;)dl=fo[--Wn],fo[Wn]=null,pl=fo[--Wn],fo[Wn]=null;for(;e===Ps;)Ps=bi[--Li],bi[Li]=null,cr=bi[--Li],bi[Li]=null,ur=bi[--Li],bi[Li]=null}var Vn=null,yi=null,on=!1,qi=null;function hr(e,n){var o=zi(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function gl(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Vn=e,yi=Jr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Vn=e,yi=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=Ps!==null?{id:ur,overflow:cr}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=zi(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,Vn=e,yi=null,!0):!1;default:return!1}}function Pr(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hi(e){if(on){var n=yi;if(n){var o=n;if(!gl(e,n)){if(Pr(e))throw Error(t(418));n=Jr(o.nextSibling);var c=Vn;n&&gl(e,n)?hr(c,o):(e.flags=e.flags&-4097|2,on=!1,Vn=e)}}else{if(Pr(e))throw Error(t(418));e.flags=e.flags&-4097|2,on=!1,Vn=e}}}function xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vn=e}function na(e){if(e!==Vn)return!1;if(!on)return xh(e),on=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!$o(e.type,e.memoizedProps)),n&&(n=yi)){if(Pr(e))throw Mu(),Error(t(418));for(;n;)hr(e,n),n=Jr(n.nextSibling)}if(xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(t(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){yi=Jr(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}yi=null}}else yi=Vn?Jr(e.stateNode.nextSibling):null;return!0}function Mu(){for(var e=yi;e;)e=Jr(e.nextSibling)}function fr(){yi=Vn=null,on=!1}function dr(e){qi===null?qi=[e]:qi.push(e)}var Th=Le.ReactCurrentBatchConfig;function ia(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var c=o.stateNode}if(!c)throw Error(t(147,e));var y=c,_=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===_?n.ref:(n=function(b){var B=y.refs;b===null?delete B[_]:B[_]=b},n._stringRef=_,n)}if(typeof e!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,e))}return e}function Ls(e,n){throw e=Object.prototype.toString.call(n),Error(t(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Sh(e){var n=e._init;return n(e._payload)}function zu(e){function n($,X){if(e){var ne=$.deletions;ne===null?($.deletions=[X],$.flags|=16):ne.push(X)}}function o($,X){if(!e)return null;for(;X!==null;)n($,X),X=X.sibling;return null}function c($,X){for($=new Map;X!==null;)X.key!==null?$.set(X.key,X):$.set(X.index,X),X=X.sibling;return $}function y($,X){return $=$i($,X),$.index=0,$.sibling=null,$}function _($,X,ne){return $.index=ne,e?(ne=$.alternate,ne!==null?(ne=ne.index,ne<X?($.flags|=2,X):ne):($.flags|=2,X)):($.flags|=1048576,X)}function b($){return e&&$.alternate===null&&($.flags|=2),$}function B($,X,ne,ke){return X===null||X.tag!==6?(X=Sc(ne,$.mode,ke),X.return=$,X):(X=y(X,ne),X.return=$,X)}function W($,X,ne,ke){var et=ne.type;return et===we?Ce($,X,ne.props.children,ke,ne.key):X!==null&&(X.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===dt&&Sh(et)===X.type)?(ke=y(X,ne.props),ke.ref=ia($,X,ne),ke.return=$,ke):(ke=Yl(ne.type,ne.key,ne.props,null,$.mode,ke),ke.ref=ia($,X,ne),ke.return=$,ke)}function oe($,X,ne,ke){return X===null||X.tag!==4||X.stateNode.containerInfo!==ne.containerInfo||X.stateNode.implementation!==ne.implementation?(X=Ec(ne,$.mode,ke),X.return=$,X):(X=y(X,ne.children||[]),X.return=$,X)}function Ce($,X,ne,ke,et){return X===null||X.tag!==7?(X=Us(ne,$.mode,ke,et),X.return=$,X):(X=y(X,ne),X.return=$,X)}function be($,X,ne){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Sc(""+X,$.mode,ne),X.return=$,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Se:return ne=Yl(X.type,X.key,X.props,null,$.mode,ne),ne.ref=ia($,null,X),ne.return=$,ne;case Z:return X=Ec(X,$.mode,ne),X.return=$,X;case dt:var ke=X._init;return be($,ke(X._payload),ne)}if(he(X)||ye(X))return X=Us(X,$.mode,ne,null),X.return=$,X;Ls($,X)}return null}function Te($,X,ne,ke){var et=X!==null?X.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return et!==null?null:B($,X,""+ne,ke);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Se:return ne.key===et?W($,X,ne,ke):null;case Z:return ne.key===et?oe($,X,ne,ke):null;case dt:return et=ne._init,Te($,X,et(ne._payload),ke)}if(he(ne)||ye(ne))return et!==null?null:Ce($,X,ne,ke,null);Ls($,ne)}return null}function je($,X,ne,ke,et){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return $=$.get(ne)||null,B(X,$,""+ke,et);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case Se:return $=$.get(ke.key===null?ne:ke.key)||null,W(X,$,ke,et);case Z:return $=$.get(ke.key===null?ne:ke.key)||null,oe(X,$,ke,et);case dt:var ot=ke._init;return je($,X,ne,ot(ke._payload),et)}if(he(ke)||ye(ke))return $=$.get(ne)||null,Ce(X,$,ke,et,null);Ls(X,ke)}return null}function Qe($,X,ne,ke){for(var et=null,ot=null,at=X,vt=X=0,Rn=null;at!==null&&vt<ne.length;vt++){at.index>vt?(Rn=at,at=null):Rn=at.sibling;var jt=Te($,at,ne[vt],ke);if(jt===null){at===null&&(at=Rn);break}e&&at&&jt.alternate===null&&n($,at),X=_(jt,X,vt),ot===null?et=jt:ot.sibling=jt,ot=jt,at=Rn}if(vt===ne.length)return o($,at),on&&Ds($,vt),et;if(at===null){for(;vt<ne.length;vt++)at=be($,ne[vt],ke),at!==null&&(X=_(at,X,vt),ot===null?et=at:ot.sibling=at,ot=at);return on&&Ds($,vt),et}for(at=c($,at);vt<ne.length;vt++)Rn=je(at,$,vt,ne[vt],ke),Rn!==null&&(e&&Rn.alternate!==null&&at.delete(Rn.key===null?vt:Rn.key),X=_(Rn,X,vt),ot===null?et=Rn:ot.sibling=Rn,ot=Rn);return e&&at.forEach(function(ds){return n($,ds)}),on&&Ds($,vt),et}function $e($,X,ne,ke){var et=ye(ne);if(typeof et!="function")throw Error(t(150));if(ne=et.call(ne),ne==null)throw Error(t(151));for(var ot=et=null,at=X,vt=X=0,Rn=null,jt=ne.next();at!==null&&!jt.done;vt++,jt=ne.next()){at.index>vt?(Rn=at,at=null):Rn=at.sibling;var ds=Te($,at,jt.value,ke);if(ds===null){at===null&&(at=Rn);break}e&&at&&ds.alternate===null&&n($,at),X=_(ds,X,vt),ot===null?et=ds:ot.sibling=ds,ot=ds,at=Rn}if(jt.done)return o($,at),on&&Ds($,vt),et;if(at===null){for(;!jt.done;vt++,jt=ne.next())jt=be($,jt.value,ke),jt!==null&&(X=_(jt,X,vt),ot===null?et=jt:ot.sibling=jt,ot=jt);return on&&Ds($,vt),et}for(at=c($,at);!jt.done;vt++,jt=ne.next())jt=je(at,$,vt,jt.value,ke),jt!==null&&(e&&jt.alternate!==null&&at.delete(jt.key===null?vt:jt.key),X=_(jt,X,vt),ot===null?et=jt:ot.sibling=jt,ot=jt);return e&&at.forEach(function(ld){return n($,ld)}),on&&Ds($,vt),et}function gn($,X,ne,ke){if(typeof ne=="object"&&ne!==null&&ne.type===we&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Se:e:{for(var et=ne.key,ot=X;ot!==null;){if(ot.key===et){if(et=ne.type,et===we){if(ot.tag===7){o($,ot.sibling),X=y(ot,ne.props.children),X.return=$,$=X;break e}}else if(ot.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===dt&&Sh(et)===ot.type){o($,ot.sibling),X=y(ot,ne.props),X.ref=ia($,ot,ne),X.return=$,$=X;break e}o($,ot);break}else n($,ot);ot=ot.sibling}ne.type===we?(X=Us(ne.props.children,$.mode,ke,ne.key),X.return=$,$=X):(ke=Yl(ne.type,ne.key,ne.props,null,$.mode,ke),ke.ref=ia($,X,ne),ke.return=$,$=ke)}return b($);case Z:e:{for(ot=ne.key;X!==null;){if(X.key===ot)if(X.tag===4&&X.stateNode.containerInfo===ne.containerInfo&&X.stateNode.implementation===ne.implementation){o($,X.sibling),X=y(X,ne.children||[]),X.return=$,$=X;break e}else{o($,X);break}else n($,X);X=X.sibling}X=Ec(ne,$.mode,ke),X.return=$,$=X}return b($);case dt:return ot=ne._init,gn($,X,ot(ne._payload),ke)}if(he(ne))return Qe($,X,ne,ke);if(ye(ne))return $e($,X,ne,ke);Ls($,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,X!==null&&X.tag===6?(o($,X.sibling),X=y(X,ne),X.return=$,$=X):(o($,X),X=Sc(ne,$.mode,ke),X.return=$,$=X),b($)):o($,X)}return gn}var pn=zu(!0),ml=zu(!1),ra=li(null),wi=null,ns=null,po=null;function Dr(){po=ns=wi=null}function vl(e){var n=ra.current;sn(ra),e._currentValue=n}function Fn(e,n,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===o)break;e=e.return}}function is(e,n){wi=e,po=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&($n=!0),e.firstContext=null)}function Oi(e){var n=e._currentValue;if(po!==e)if(e={context:e,memoizedValue:n,next:null},ns===null){if(wi===null)throw Error(t(308));ns=e,wi.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return n}var Os=null;function Nu(e){Os===null?Os=[e]:Os.push(e)}function yl(e,n,o,c){var y=n.interleaved;return y===null?(o.next=o,Nu(n)):(o.next=y.next,y.next=o),n.interleaved=o,br(e,c)}function br(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var ki=!1;function wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Fi(e,n,o){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,zt&2){var y=c.pending;return y===null?n.next=n:(n.next=y.next,y.next=n),c.pending=n,br(e,o)}return y=c.interleaved,y===null?(n.next=n,Nu(c)):(n.next=y.next,y.next=n),c.interleaved=n,br(e,o)}function _l(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,Ho(e,o)}}function Ch(e,n){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var y=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};_===null?y=_=b:_=_.next=b,o=o.next}while(o!==null);_===null?y=_=n:_=_.next=n}else y=_=n;o={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:c.shared,effects:c.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function go(e,n,o,c){var y=e.updateQueue;ki=!1;var _=y.firstBaseUpdate,b=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var W=B,oe=W.next;W.next=null,b===null?_=oe:b.next=oe,b=W;var Ce=e.alternate;Ce!==null&&(Ce=Ce.updateQueue,B=Ce.lastBaseUpdate,B!==b&&(B===null?Ce.firstBaseUpdate=oe:B.next=oe,Ce.lastBaseUpdate=W))}if(_!==null){var be=y.baseState;b=0,Ce=oe=W=null,B=_;do{var Te=B.lane,je=B.eventTime;if((c&Te)===Te){Ce!==null&&(Ce=Ce.next={eventTime:je,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Qe=e,$e=B;switch(Te=n,je=o,$e.tag){case 1:if(Qe=$e.payload,typeof Qe=="function"){be=Qe.call(je,be,Te);break e}be=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=$e.payload,Te=typeof Qe=="function"?Qe.call(je,be,Te):Qe,Te==null)break e;be=Re({},be,Te);break e;case 2:ki=!0}}B.callback!==null&&B.lane!==0&&(e.flags|=64,Te=y.effects,Te===null?y.effects=[B]:Te.push(B))}else je={eventTime:je,lane:Te,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ce===null?(oe=Ce=je,W=be):Ce=Ce.next=je,b|=Te;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;Te=B,B=Te.next,Te.next=null,y.lastBaseUpdate=Te,y.shared.pending=null}}while(!0);if(Ce===null&&(W=be),y.baseState=W,y.firstBaseUpdate=oe,y.lastBaseUpdate=Ce,n=y.shared.interleaved,n!==null){y=n;do b|=y.lane,y=y.next;while(y!==n)}else _===null&&(y.shared.lanes=0);ls|=b,e.lanes=b,e.memoizedState=be}}function Bu(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],y=c.callback;if(y!==null){if(c.callback=null,c=o,typeof y!="function")throw Error(t(191,y));y.call(c)}}}var sa={},pr=li(sa),oa=li(sa),mo=li(sa);function Or(e){if(e===sa)throw Error(t(174));return e}function Hu(e,n){switch($t(mo,n),$t(oa,e),$t(pr,sa),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ze(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ze(n,e)}sn(pr),$t(pr,n)}function rs(){sn(pr),sn(oa),sn(mo)}function Uu(e){Or(mo.current);var n=Or(pr.current),o=ze(n,e.type);n!==o&&($t(oa,e),$t(pr,o))}function xl(e){oa.current===e&&(sn(pr),sn(oa))}var ln=li(0);function ks(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ju=[];function Tl(){for(var e=0;e<ju.length;e++)ju[e]._workInProgressVersionPrimary=null;ju.length=0}var aa=Le.ReactCurrentDispatcher,Wu=Le.ReactCurrentBatchConfig,ss=0,cn=null,vn=null,En=null,vo=!1,la=!1,Fs=0,Dt=0;function Gn(){throw Error(t(321))}function Vu(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!re(e[o],n[o]))return!1;return!0}function Is(e,n,o,c,y,_){if(ss=_,cn=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,aa.current=e===null||e.memoizedState===null?Gf:bl,e=o(c,y),la){_=0;do{if(la=!1,Fs=0,25<=_)throw Error(t(301));_+=1,En=vn=null,n.updateQueue=null,aa.current=xo,e=o(c,y)}while(la)}if(aa.current=Dl,n=vn!==null&&vn.next!==null,ss=0,En=vn=cn=null,vo=!1,n)throw Error(t(300));return e}function Sl(){var e=Fs!==0;return Fs=0,e}function gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?cn.memoizedState=En=e:En=En.next=e,En}function Ii(){if(vn===null){var e=cn.alternate;e=e!==null?e.memoizedState:null}else e=vn.next;var n=En===null?cn.memoizedState:En.next;if(n!==null)En=n,vn=e;else{if(e===null)throw Error(t(310));vn=e,e={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},En===null?cn.memoizedState=En=e:En=En.next=e}return En}function qn(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=Ii(),o=n.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=e;var c=vn,y=c.baseQueue,_=o.pending;if(_!==null){if(y!==null){var b=y.next;y.next=_.next,_.next=b}c.baseQueue=y=_,o.pending=null}if(y!==null){_=y.next,c=c.baseState;var B=b=null,W=null,oe=_;do{var Ce=oe.lane;if((ss&Ce)===Ce)W!==null&&(W=W.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),c=oe.hasEagerState?oe.eagerState:e(c,oe.action);else{var be={lane:Ce,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};W===null?(B=W=be,b=c):W=W.next=be,cn.lanes|=Ce,ls|=Ce}oe=oe.next}while(oe!==null&&oe!==_);W===null?b=c:W.next=B,re(c,n.memoizedState)||($n=!0),n.memoizedState=c,n.baseState=b,n.baseQueue=W,o.lastRenderedState=c}if(e=o.interleaved,e!==null){y=e;do _=y.lane,cn.lanes|=_,ls|=_,y=y.next;while(y!==e)}else y===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function yo(e){var n=Ii(),o=n.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=e;var c=o.dispatch,y=o.pending,_=n.memoizedState;if(y!==null){o.pending=null;var b=y=y.next;do _=e(_,b.action),b=b.next;while(b!==y);re(_,n.memoizedState)||($n=!0),n.memoizedState=_,n.baseQueue===null&&(n.baseState=_),o.lastRenderedState=_}return[_,c]}function El(){}function qu(e,n){var o=cn,c=Ii(),y=n(),_=!re(c.memoizedState,y);if(_&&(c.memoizedState=y,$n=!0),c=c.queue,mr(kr.bind(null,o,c,e),[e]),c.getSnapshot!==n||_||En!==null&&En.memoizedState.tag&1){if(o.flags|=2048,wo(9,fi.bind(null,o,c,y,n),void 0,null),On===null)throw Error(t(349));ss&30||Zu(o,n,y)}return y}function Zu(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=cn.updateQueue,n===null?(n={lastEffect:null,stores:null},cn.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function fi(e,n,o,c){n.value=o,n.getSnapshot=c,Cl(n)&&Xu(e)}function kr(e,n,o){return o(function(){Cl(n)&&Xu(e)})}function Cl(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!re(e,o)}catch{return!0}}function Xu(e){var n=br(e,1);n!==null&&Ji(n,e,1,-1)}function ua(e){var n=gr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:e},n.queue=e,e=e.dispatch=Oh.bind(null,cn,e),[n.memoizedState,e]}function wo(e,n,o,c){return e={tag:e,create:n,destroy:o,deps:c,next:null},n=cn.updateQueue,n===null?(n={lastEffect:null,stores:null},cn.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,n.lastEffect=e)),e}function Rl(){return Ii().memoizedState}function ca(e,n,o,c){var y=gr();cn.flags|=e,y.memoizedState=wo(1|n,o,void 0,c===void 0?null:c)}function _o(e,n,o,c){var y=Ii();c=c===void 0?null:c;var _=void 0;if(vn!==null){var b=vn.memoizedState;if(_=b.destroy,c!==null&&Vu(c,b.deps)){y.memoizedState=wo(n,o,_,c);return}}cn.flags|=e,y.memoizedState=wo(1|n,o,_,c)}function Pl(e,n){return ca(8390656,8,e,n)}function mr(e,n){return _o(2048,8,e,n)}function Rh(e,n){return _o(4,2,e,n)}function Fr(e,n){return _o(4,4,e,n)}function Ku(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yu(e,n,o){return o=o!=null?o.concat([e]):null,_o(4,4,Ku.bind(null,n,e),o)}function ha(){}function Ph(e,n){var o=Ii();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&Vu(n,c[1])?c[0]:(o.memoizedState=[e,n],e)}function Dh(e,n){var o=Ii();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&Vu(n,c[1])?c[0]:(e=e(),o.memoizedState=[e,n],e)}function bh(e,n,o){return ss&21?(re(o,n)||(o=hu(),cn.lanes|=o,ls|=o,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=o)}function Lh(e,n){var o=Wt;Wt=o!==0&&4>o?o:4,e(!0);var c=Wu.transition;Wu.transition={};try{e(!1),n()}finally{Wt=o,Wu.transition=c}}function Qu(){return Ii().memoizedState}function Vf(e,n,o){var c=hs(e);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e))Jn(n,o);else if(o=yl(e,n,o,c),o!==null){var y=ni();Ji(o,e,c,y),Zi(o,n,c)}}function Oh(e,n,o){var c=hs(e),y={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Jn(n,y);else{var _=e.alternate;if(e.lanes===0&&(_===null||_.lanes===0)&&(_=n.lastRenderedReducer,_!==null))try{var b=n.lastRenderedState,B=_(b,o);if(y.hasEagerState=!0,y.eagerState=B,re(B,b)){var W=n.interleaved;W===null?(y.next=y,Nu(n)):(y.next=W.next,W.next=y),n.interleaved=y;return}}catch{}finally{}o=yl(e,n,y,c),o!==null&&(y=ni(),Ji(o,e,c,y),Zi(o,n,c))}}function Ju(e){var n=e.alternate;return e===cn||n!==null&&n===cn}function Jn(e,n){la=vo=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Zi(e,n,o){if(o&4194240){var c=n.lanes;c&=e.pendingLanes,o|=c,n.lanes=o,Ho(e,o)}}var Dl={readContext:Oi,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},Gf={readContext:Oi,useCallback:function(e,n){return gr().memoizedState=[e,n===void 0?null:n],e},useContext:Oi,useEffect:Pl,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,ca(4194308,4,Ku.bind(null,n,e),o)},useLayoutEffect:function(e,n){return ca(4194308,4,e,n)},useInsertionEffect:function(e,n){return ca(4,2,e,n)},useMemo:function(e,n){var o=gr();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var c=gr();return n=o!==void 0?o(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=Vf.bind(null,cn,e),[c.memoizedState,e]},useRef:function(e){var n=gr();return e={current:e},n.memoizedState=e},useState:ua,useDebugValue:ha,useDeferredValue:function(e){return gr().memoizedState=e},useTransition:function(){var e=ua(!1),n=e[0];return e=Lh.bind(null,e[1]),gr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var c=cn,y=gr();if(on){if(o===void 0)throw Error(t(407));o=o()}else{if(o=n(),On===null)throw Error(t(349));ss&30||Zu(c,n,o)}y.memoizedState=o;var _={value:o,getSnapshot:n};return y.queue=_,Pl(kr.bind(null,c,_,e),[e]),c.flags|=2048,wo(9,fi.bind(null,c,_,o,n),void 0,null),o},useId:function(){var e=gr(),n=On.identifierPrefix;if(on){var o=cr,c=ur;o=(c&~(1<<32-bn(c)-1)).toString(32)+o,n=":"+n+"R"+o,o=Fs++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=Dt++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},bl={readContext:Oi,useCallback:Ph,useContext:Oi,useEffect:mr,useImperativeHandle:Yu,useInsertionEffect:Rh,useLayoutEffect:Fr,useMemo:Dh,useReducer:Gu,useRef:Rl,useState:function(){return Gu(qn)},useDebugValue:ha,useDeferredValue:function(e){var n=Ii();return bh(n,vn.memoizedState,e)},useTransition:function(){var e=Gu(qn)[0],n=Ii().memoizedState;return[e,n]},useMutableSource:El,useSyncExternalStore:qu,useId:Qu,unstable_isNewReconciler:!1},xo={readContext:Oi,useCallback:Ph,useContext:Oi,useEffect:mr,useImperativeHandle:Yu,useInsertionEffect:Rh,useLayoutEffect:Fr,useMemo:Dh,useReducer:yo,useRef:Rl,useState:function(){return yo(qn)},useDebugValue:ha,useDeferredValue:function(e){var n=Ii();return vn===null?n.memoizedState=e:bh(n,vn.memoizedState,e)},useTransition:function(){var e=yo(qn)[0],n=Ii().memoizedState;return[e,n]},useMutableSource:El,useSyncExternalStore:qu,useId:Qu,unstable_isNewReconciler:!1};function Ai(e,n){if(e&&e.defaultProps){n=Re({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function Ll(e,n,o,c){n=e.memoizedState,o=o(c,n),o=o==null?n:Re({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Ol={isMounted:function(e){return(e=e._reactInternals)?St(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var c=ni(),y=hs(e),_=Lr(c,y);_.payload=n,o!=null&&(_.callback=o),n=Fi(e,_,y),n!==null&&(Ji(n,e,y,c),_l(n,e,y))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var c=ni(),y=hs(e),_=Lr(c,y);_.tag=1,_.payload=n,o!=null&&(_.callback=o),n=Fi(e,_,y),n!==null&&(Ji(n,e,y,c),_l(n,e,y))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=ni(),c=hs(e),y=Lr(o,c);y.tag=2,n!=null&&(y.callback=n),n=Fi(e,y,c),n!==null&&(Ji(n,e,c,o),_l(n,e,c))}};function $u(e,n,o,c,y,_,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,_,b):n.prototype&&n.prototype.isPureReactComponent?!Ue(o,c)||!Ue(y,_):!0}function As(e,n,o){var c=!1,y=es,_=n.contextType;return typeof _=="object"&&_!==null?_=Oi(_):(y=ci(n)?Qn:jn.current,c=n.contextTypes,_=(c=c!=null)?ho(e,y):es),n=new n(o,_),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ol,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=y,e.__reactInternalMemoizedMaskedChildContext=_),n}function To(e,n,o,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==e&&Ol.enqueueReplaceState(n,n.state,null)}function ec(e,n,o,c){var y=e.stateNode;y.props=o,y.state=e.memoizedState,y.refs={},wl(e);var _=n.contextType;typeof _=="object"&&_!==null?y.context=Oi(_):(_=ci(n)?Qn:jn.current,y.context=ho(e,_)),y.state=e.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&(Ll(e,n,_,o),y.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(n=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),n!==y.state&&Ol.enqueueReplaceState(y,y.state,null),go(e,o,y,c),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308)}function Ms(e,n){try{var o="",c=n;do o+=He(c),c=c.return;while(c);var y=o}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:e,source:n,stack:y,digest:null}}function kl(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function So(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var kh=typeof WeakMap=="function"?WeakMap:Map;function fa(e,n,o){o=Lr(-1,o),o.tag=3,o.payload={element:null};var c=n.value;return o.callback=function(){Wl||(Wl=!0,mc=c),So(e,n)},o}function Fl(e,n,o){o=Lr(-1,o),o.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var y=n.value;o.payload=function(){return c(y)},o.callback=function(){So(e,n)}}var _=e.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(o.callback=function(){So(e,n),typeof c!="function"&&(us===null?us=new Set([this]):us.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})}),o}function da(e,n,o){var c=e.pingCache;if(c===null){c=e.pingCache=new kh;var y=new Set;c.set(n,y)}else y=c.get(n),y===void 0&&(y=new Set,c.set(n,y));y.has(o)||(y.add(o),e=$f.bind(null,e,n,o),n.then(e,e))}function Fh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function tc(e,n,o,c,y){return e.mode&1?(e.flags|=65536,e.lanes=y,e):(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Lr(-1,1),n.tag=2,Fi(o,n,1))),o.lanes|=1),e)}var Il=Le.ReactCurrentOwner,$n=!1;function In(e,n,o,c){n.child=e===null?ml(n,null,o,c):pn(n,e.child,o,c)}function Ih(e,n,o,c,y){o=o.render;var _=n.ref;return is(n,y),c=Is(e,n,o,c,_,y),o=Sl(),e!==null&&!$n?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~y,Xi(e,n,y)):(on&&o&&ta(n),n.flags|=1,In(e,n,c,y),n.child)}function nc(e,n,o,c,y){if(e===null){var _=o.type;return typeof _=="function"&&!Kl(_)&&_.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=_,vr(e,n,_,c,y)):(e=Yl(o.type,null,c,n,n.mode,y),e.ref=n.ref,e.return=n,n.child=e)}if(_=e.child,!(e.lanes&y)){var b=_.memoizedProps;if(o=o.compare,o=o!==null?o:Ue,o(b,c)&&e.ref===n.ref)return Xi(e,n,y)}return n.flags|=1,e=$i(_,c),e.ref=n.ref,e.return=n,n.child=e}function vr(e,n,o,c,y){if(e!==null){var _=e.memoizedProps;if(Ue(_,c)&&e.ref===n.ref)if($n=!1,n.pendingProps=c=_,(e.lanes&y)!==0)e.flags&131072&&($n=!0);else return n.lanes=e.lanes,Xi(e,n,y)}return sc(e,n,o,c,y)}function ic(e,n,o){var c=n.pendingProps,y=c.children,_=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Po,xi),xi|=o;else{if(!(o&1073741824))return e=_!==null?_.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,$t(Po,xi),xi|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=_!==null?_.baseLanes:o,$t(Po,xi),xi|=c}else _!==null?(c=_.baseLanes|o,n.memoizedState=null):c=o,$t(Po,xi),xi|=c;return In(e,n,y,o),n.child}function rc(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function sc(e,n,o,c,y){var _=ci(o)?Qn:jn.current;return _=ho(n,_),is(n,y),o=Is(e,n,o,c,_,y),c=Sl(),e!==null&&!$n?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~y,Xi(e,n,y)):(on&&c&&ta(n),n.flags|=1,In(e,n,o,y),n.child)}function oc(e,n,o,c,y){if(ci(o)){var _=!0;Di(n)}else _=!1;if(is(n,y),n.stateNode===null)Ml(e,n),As(n,o,c),ec(n,o,c,y),c=!0;else if(e===null){var b=n.stateNode,B=n.memoizedProps;b.props=B;var W=b.context,oe=o.contextType;typeof oe=="object"&&oe!==null?oe=Oi(oe):(oe=ci(o)?Qn:jn.current,oe=ho(n,oe));var Ce=o.getDerivedStateFromProps,be=typeof Ce=="function"||typeof b.getSnapshotBeforeUpdate=="function";be||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(B!==c||W!==oe)&&To(n,b,c,oe),ki=!1;var Te=n.memoizedState;b.state=Te,go(n,c,b,y),W=n.memoizedState,B!==c||Te!==W||ui.current||ki?(typeof Ce=="function"&&(Ll(n,o,Ce,c),W=n.memoizedState),(B=ki||$u(n,o,B,c,Te,W,oe))?(be||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=W),b.props=c,b.state=W,b.context=oe,c=B):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{b=n.stateNode,Eh(e,n),B=n.memoizedProps,oe=n.type===n.elementType?B:Ai(n.type,B),b.props=oe,be=n.pendingProps,Te=b.context,W=o.contextType,typeof W=="object"&&W!==null?W=Oi(W):(W=ci(o)?Qn:jn.current,W=ho(n,W));var je=o.getDerivedStateFromProps;(Ce=typeof je=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(B!==be||Te!==W)&&To(n,b,c,W),ki=!1,Te=n.memoizedState,b.state=Te,go(n,c,b,y);var Qe=n.memoizedState;B!==be||Te!==Qe||ui.current||ki?(typeof je=="function"&&(Ll(n,o,je,c),Qe=n.memoizedState),(oe=ki||$u(n,o,oe,c,Te,Qe,W)||!1)?(Ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Qe,W),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Qe,W)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||B===e.memoizedProps&&Te===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||B===e.memoizedProps&&Te===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=Qe),b.props=c,b.state=Qe,b.context=W,c=oe):(typeof b.componentDidUpdate!="function"||B===e.memoizedProps&&Te===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||B===e.memoizedProps&&Te===e.memoizedState||(n.flags|=1024),c=!1)}return ac(e,n,o,c,_,y)}function ac(e,n,o,c,y,_){rc(e,n);var b=(n.flags&128)!==0;if(!c&&!b)return y&&yh(n,o,!1),Xi(e,n,_);c=n.stateNode,Il.current=n;var B=b&&typeof o.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&b?(n.child=pn(n,e.child,null,_),n.child=pn(n,null,B,_)):In(e,n,B,_),n.memoizedState=c.state,y&&yh(n,o,!0),n.child}function Ah(e){var n=e.stateNode;n.pendingContext?mh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&mh(e,n.context,!1),Hu(e,n.containerInfo)}function yr(e,n,o,c,y){return fr(),dr(y),n.flags|=256,In(e,n,o,c),n.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function Al(e,n,o){var c=n.pendingProps,y=ln.current,_=!1,b=(n.flags&128)!==0,B;if((B=b)||(B=e!==null&&e.memoizedState===null?!1:(y&2)!==0),B?(_=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(y|=1),$t(ln,y&1),e===null)return hi(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(b=c.children,e=c.fallback,_?(c=n.mode,_=n.child,b={mode:"hidden",children:b},!(c&1)&&_!==null?(_.childLanes=0,_.pendingProps=b):_=Ql(b,c,0,null),e=Us(e,c,o,null),_.return=n,e.return=n,_.sibling=e,n.child=_,n.child.memoizedState=ga(o),n.memoizedState=pa,e):Eo(n,b));if(y=e.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return ft(e,n,b,c,B,y,o);if(_){_=c.fallback,b=n.mode,y=e.child,B=y.sibling;var W={mode:"hidden",children:c.children};return!(b&1)&&n.child!==y?(c=n.child,c.childLanes=0,c.pendingProps=W,n.deletions=null):(c=$i(y,W),c.subtreeFlags=y.subtreeFlags&14680064),B!==null?_=$i(B,_):(_=Us(_,b,o,null),_.flags|=2),_.return=n,c.return=n,c.sibling=_,n.child=c,c=_,_=n.child,b=e.child.memoizedState,b=b===null?ga(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},_.memoizedState=b,_.childLanes=e.childLanes&~o,n.memoizedState=pa,c}return _=e.child,e=_.sibling,c=$i(_,{mode:"visible",children:c.children}),!(n.mode&1)&&(c.lanes=o),c.return=n,c.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=c,n.memoizedState=null,c}function Eo(e,n){return n=Ql({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Ir(e,n,o,c){return c!==null&&dr(c),pn(n,e.child,null,o),e=Eo(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ft(e,n,o,c,y,_,b){if(o)return n.flags&256?(n.flags&=-257,c=kl(Error(t(422))),Ir(e,n,b,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(_=c.fallback,y=n.mode,c=Ql({mode:"visible",children:c.children},y,0,null),_=Us(_,y,b,null),_.flags|=2,c.return=n,_.return=n,c.sibling=_,n.child=c,n.mode&1&&pn(n,e.child,null,b),n.child.memoizedState=ga(b),n.memoizedState=pa,_);if(!(n.mode&1))return Ir(e,n,b,null);if(y.data==="$!"){if(c=y.nextSibling&&y.nextSibling.dataset,c)var B=c.dgst;return c=B,_=Error(t(419)),c=kl(_,c,void 0),Ir(e,n,b,c)}if(B=(b&e.childLanes)!==0,$n||B){if(c=On,c!==null){switch(b&-b){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(c.suspendedLanes|b)?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,br(e,y),Ji(c,e,y,-1))}return Tc(),c=kl(Error(t(421))),Ir(e,n,b,c)}return y.data==="$?"?(n.flags|=128,n.child=e.child,n=ed.bind(null,e),y._reactRetry=n,null):(e=_.treeContext,yi=Jr(y.nextSibling),Vn=n,on=!0,qi=null,e!==null&&(bi[Li++]=ur,bi[Li++]=cr,bi[Li++]=Ps,ur=e.id,cr=e.overflow,Ps=n),n=Eo(n,c.children),n.flags|=4096,n)}function ma(e,n,o){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Fn(e.return,n,o)}function va(e,n,o,c,y){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:y}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=y)}function os(e,n,o){var c=n.pendingProps,y=c.revealOrder,_=c.tail;if(In(e,n,c.children,o),c=ln.current,c&2)c=c&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ma(e,o,n);else if(e.tag===19)ma(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if($t(ln,c),!(n.mode&1))n.memoizedState=null;else switch(y){case"forwards":for(o=n.child,y=null;o!==null;)e=o.alternate,e!==null&&ks(e)===null&&(y=o),o=o.sibling;o=y,o===null?(y=n.child,n.child=null):(y=o.sibling,o.sibling=null),va(n,!1,y,o,_);break;case"backwards":for(o=null,y=n.child,n.child=null;y!==null;){if(e=y.alternate,e!==null&&ks(e)===null){n.child=y;break}e=y.sibling,y.sibling=o,o=y,y=e}va(n,!0,o,null,_);break;case"together":va(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ml(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Xi(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),ls|=n.lanes,!(o&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(t(153));if(n.child!==null){for(e=n.child,o=$i(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=$i(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Mh(e,n,o){switch(n.tag){case 3:Ah(n),fr();break;case 5:Uu(n);break;case 1:ci(n.type)&&Di(n);break;case 4:Hu(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,y=n.memoizedProps.value;$t(ra,c._currentValue),c._currentValue=y;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?($t(ln,ln.current&1),n.flags|=128,null):o&n.child.childLanes?Al(e,n,o):($t(ln,ln.current&1),e=Xi(e,n,o),e!==null?e.sibling:null);$t(ln,ln.current&1);break;case 19:if(c=(o&n.childLanes)!==0,e.flags&128){if(c)return os(e,n,o);n.flags|=128}if(y=n.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),$t(ln,ln.current),c)break;return null;case 22:case 23:return n.lanes=0,ic(e,n,o)}return Xi(e,n,o)}var An,lc,zh,uc;An=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},lc=function(){},zh=function(e,n,o,c){var y=e.memoizedProps;if(y!==c){e=n.stateNode,Or(pr.current);var _=null;switch(o){case"input":y=Tt(e,y),c=Tt(e,c),_=[];break;case"select":y=Re({},y,{value:void 0}),c=Re({},c,{value:void 0}),_=[];break;case"textarea":y=Ie(e,y),c=Ie(e,c),_=[];break;default:typeof y.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=al)}Ot(o,c);var b;o=null;for(oe in y)if(!c.hasOwnProperty(oe)&&y.hasOwnProperty(oe)&&y[oe]!=null)if(oe==="style"){var B=y[oe];for(b in B)B.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(l.hasOwnProperty(oe)?_||(_=[]):(_=_||[]).push(oe,null));for(oe in c){var W=c[oe];if(B=y!=null?y[oe]:void 0,c.hasOwnProperty(oe)&&W!==B&&(W!=null||B!=null))if(oe==="style")if(B){for(b in B)!B.hasOwnProperty(b)||W&&W.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in W)W.hasOwnProperty(b)&&B[b]!==W[b]&&(o||(o={}),o[b]=W[b])}else o||(_||(_=[]),_.push(oe,o)),o=W;else oe==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,B=B?B.__html:void 0,W!=null&&B!==W&&(_=_||[]).push(oe,W)):oe==="children"?typeof W!="string"&&typeof W!="number"||(_=_||[]).push(oe,""+W):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(l.hasOwnProperty(oe)?(W!=null&&oe==="onScroll"&&rn("scroll",e),_||B===W||(_=[])):(_=_||[]).push(oe,W))}o&&(_=_||[]).push("style",o);var oe=_;(n.updateQueue=oe)&&(n.flags|=4)}},uc=function(e,n,o,c){o!==c&&(n.flags|=4)};function ya(e,n){if(!on)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Mn(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(n)for(var y=e.child;y!==null;)o|=y.lanes|y.childLanes,c|=y.subtreeFlags&14680064,c|=y.flags&14680064,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)o|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=c,e.childLanes=o,n}function qf(e,n,o){var c=n.pendingProps;switch(bs(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(n),null;case 1:return ci(n.type)&&hl(),Mn(n),null;case 3:return c=n.stateNode,rs(),sn(ui),sn(jn),Tl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(na(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,qi!==null&&(wc(qi),qi=null))),lc(e,n),Mn(n),null;case 5:xl(n);var y=Or(mo.current);if(o=n.type,e!==null&&n.stateNode!=null)zh(e,n,o,c,y),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(t(166));return Mn(n),null}if(e=Or(pr.current),na(n)){c=n.stateNode,o=n.type;var _=n.memoizedProps;switch(c[ar]=n,c[$r]=_,e=(n.mode&1)!==0,o){case"dialog":rn("cancel",c),rn("close",c);break;case"iframe":case"object":case"embed":rn("load",c);break;case"video":case"audio":for(y=0;y<Cr.length;y++)rn(Cr[y],c);break;case"source":rn("error",c);break;case"img":case"image":case"link":rn("error",c),rn("load",c);break;case"details":rn("toggle",c);break;case"input":pt(c,_),rn("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!_.multiple},rn("invalid",c);break;case"textarea":de(c,_),rn("invalid",c)}Ot(o,_),y=null;for(var b in _)if(_.hasOwnProperty(b)){var B=_[b];b==="children"?typeof B=="string"?c.textContent!==B&&(_.suppressHydrationWarning!==!0&&Qo(c.textContent,B,e),y=["children",B]):typeof B=="number"&&c.textContent!==""+B&&(_.suppressHydrationWarning!==!0&&Qo(c.textContent,B,e),y=["children",""+B]):l.hasOwnProperty(b)&&B!=null&&b==="onScroll"&&rn("scroll",c)}switch(o){case"input":Ye(c),k(c,_,!0);break;case"textarea":Ye(c),ut(c);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(c.onclick=al)}c=y,n.updateQueue=c,c!==null&&(n.flags|=4)}else{b=y.nodeType===9?y:y.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ct(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=b.createElement(o,{is:c.is}):(e=b.createElement(o),o==="select"&&(b=e,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):e=b.createElementNS(e,o),e[ar]=n,e[$r]=c,An(e,n,!1,!1),n.stateNode=e;e:{switch(b=it(o,c),o){case"dialog":rn("cancel",e),rn("close",e),y=c;break;case"iframe":case"object":case"embed":rn("load",e),y=c;break;case"video":case"audio":for(y=0;y<Cr.length;y++)rn(Cr[y],e);y=c;break;case"source":rn("error",e),y=c;break;case"img":case"image":case"link":rn("error",e),rn("load",e),y=c;break;case"details":rn("toggle",e),y=c;break;case"input":pt(e,c),y=Tt(e,c),rn("invalid",e);break;case"option":y=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},y=Re({},c,{value:void 0}),rn("invalid",e);break;case"textarea":de(e,c),y=Ie(e,c),rn("invalid",e);break;default:y=c}Ot(o,y),B=y;for(_ in B)if(B.hasOwnProperty(_)){var W=B[_];_==="style"?Ee(e,W):_==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&C(e,W)):_==="children"?typeof W=="string"?(o!=="textarea"||W!=="")&&E(e,W):typeof W=="number"&&E(e,""+W):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(l.hasOwnProperty(_)?W!=null&&_==="onScroll"&&rn("scroll",e):W!=null&&ee(e,_,W,b))}switch(o){case"input":Ye(e),k(e,c,!1);break;case"textarea":Ye(e),ut(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Me(c.value));break;case"select":e.multiple=!!c.multiple,_=c.value,_!=null?xe(e,!!c.multiple,_,!1):c.defaultValue!=null&&xe(e,!!c.multiple,c.defaultValue,!0);break;default:typeof y.onClick=="function"&&(e.onclick=al)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Mn(n),null;case 6:if(e&&n.stateNode!=null)uc(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(t(166));if(o=Or(mo.current),Or(pr.current),na(n)){if(c=n.stateNode,o=n.memoizedProps,c[ar]=n,(_=c.nodeValue!==o)&&(e=Vn,e!==null))switch(e.tag){case 3:Qo(c.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qo(c.nodeValue,o,(e.mode&1)!==0)}_&&(n.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[ar]=n,n.stateNode=c}return Mn(n),null;case 13:if(sn(ln),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(on&&yi!==null&&n.mode&1&&!(n.flags&128))Mu(),fr(),n.flags|=98560,_=!1;else if(_=na(n),c!==null&&c.dehydrated!==null){if(e===null){if(!_)throw Error(t(318));if(_=n.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[ar]=n}else fr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Mn(n),_=!1}else qi!==null&&(wc(qi),qi=null),_=!0;if(!_)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,n.mode&1&&(e===null||ln.current&1?Cn===0&&(Cn=3):Tc())),n.updateQueue!==null&&(n.flags|=4),Mn(n),null);case 4:return rs(),lc(e,n),e===null&&Yr(n.stateNode.containerInfo),Mn(n),null;case 10:return vl(n.type._context),Mn(n),null;case 17:return ci(n.type)&&hl(),Mn(n),null;case 19:if(sn(ln),_=n.memoizedState,_===null)return Mn(n),null;if(c=(n.flags&128)!==0,b=_.rendering,b===null)if(c)ya(_,!1);else{if(Cn!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(b=ks(e),b!==null){for(n.flags|=128,ya(_,!1),c=b.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=o,o=n.child;o!==null;)_=o,e=c,_.flags&=14680066,b=_.alternate,b===null?(_.childLanes=0,_.lanes=e,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=b.childLanes,_.lanes=b.lanes,_.child=b.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=b.memoizedProps,_.memoizedState=b.memoizedState,_.updateQueue=b.updateQueue,_.type=b.type,e=b.dependencies,_.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return $t(ln,ln.current&1|2),n.child}e=e.sibling}_.tail!==null&&Xt()>zs&&(n.flags|=128,c=!0,ya(_,!1),n.lanes=4194304)}else{if(!c)if(e=ks(b),e!==null){if(n.flags|=128,c=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ya(_,!0),_.tail===null&&_.tailMode==="hidden"&&!b.alternate&&!on)return Mn(n),null}else 2*Xt()-_.renderingStartTime>zs&&o!==1073741824&&(n.flags|=128,c=!0,ya(_,!1),n.lanes=4194304);_.isBackwards?(b.sibling=n.child,n.child=b):(o=_.last,o!==null?o.sibling=b:n.child=b,_.last=b)}return _.tail!==null?(n=_.tail,_.rendering=n,_.tail=n.sibling,_.renderingStartTime=Xt(),n.sibling=null,o=ln.current,$t(ln,c?o&1|2:o&1),n):(Mn(n),null);case 22:case 23:return xc(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&n.mode&1?xi&1073741824&&(Mn(n),n.subtreeFlags&6&&(n.flags|=8192)):Mn(n),null;case 24:return null;case 25:return null}throw Error(t(156,n.tag))}function Zf(e,n){switch(bs(n),n.tag){case 1:return ci(n.type)&&hl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return rs(),sn(ui),sn(jn),Tl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return xl(n),null;case 13:if(sn(ln),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(t(340));fr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return sn(ln),null;case 4:return rs(),null;case 10:return vl(n.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var zl=!1,un=!1,ei=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Co(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){hn(e,n,c)}else o.current=null}function wa(e,n,o){try{o()}catch(c){hn(e,n,c)}}var Nh=!1;function Xf(e,n){if(Jo=Wa,e=Kt(),Go(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var y=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break e}var b=0,B=-1,W=-1,oe=0,Ce=0,be=e,Te=null;t:for(;;){for(var je;be!==o||y!==0&&be.nodeType!==3||(B=b+y),be!==_||c!==0&&be.nodeType!==3||(W=b+c),be.nodeType===3&&(b+=be.nodeValue.length),(je=be.firstChild)!==null;)Te=be,be=je;for(;;){if(be===e)break t;if(Te===o&&++oe===y&&(B=b),Te===_&&++Ce===c&&(W=b),(je=be.nextSibling)!==null)break;be=Te,Te=be.parentNode}be=je}o=B===-1||W===-1?null:{start:B,end:W}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cs={focusedElem:e,selectionRange:o},Wa=!1,Ve=n;Ve!==null;)if(n=Ve,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ve=e;else for(;Ve!==null;){n=Ve;try{var Qe=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(Qe!==null){var $e=Qe.memoizedProps,gn=Qe.memoizedState,$=n.stateNode,X=$.getSnapshotBeforeUpdate(n.elementType===n.type?$e:Ai(n.type,$e),gn);$.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ne=n.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ke){hn(n,n.return,ke)}if(e=n.sibling,e!==null){e.return=n.return,Ve=e;break}Ve=n.return}return Qe=Nh,Nh=!1,Qe}function Ar(e,n,o){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var y=c=c.next;do{if((y.tag&e)===e){var _=y.destroy;y.destroy=void 0,_!==void 0&&wa(n,o,_)}y=y.next}while(y!==c)}}function _a(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var c=o.create;o.destroy=c()}o=o.next}while(o!==n)}}function Nl(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function Bh(e){var n=e.alternate;n!==null&&(e.alternate=null,Bh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[ar],delete n[$r],delete n[ul],delete n[O],delete n[uo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hh(e){return e.tag===5||e.tag===3||e.tag===4}function Uh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=al));else if(c!==4&&(e=e.child,e!==null))for(cc(e,n,o),e=e.sibling;e!==null;)cc(e,n,o),e=e.sibling}function Bl(e,n,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Bl(e,n,o),e=e.sibling;e!==null;)Bl(e,n,o),e=e.sibling}var Ln=null,Ki=!1;function wr(e,n,o){for(o=o.child;o!==null;)hc(e,n,o),o=o.sibling}function hc(e,n,o){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Vi,o)}catch{}switch(o.tag){case 5:un||Co(o,n);case 6:var c=Ln,y=Ki;Ln=null,wr(e,n,o),Ln=c,Ki=y,Ln!==null&&(Ki?(e=Ln,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Ln.removeChild(o.stateNode));break;case 18:Ln!==null&&(Ki?(e=Ln,o=o.stateNode,e.nodeType===8?Fu(e.parentNode,o):e.nodeType===1&&Fu(e,o),Gt(e)):Fu(Ln,o.stateNode));break;case 4:c=Ln,y=Ki,Ln=o.stateNode.containerInfo,Ki=!0,wr(e,n,o),Ln=c,Ki=y;break;case 0:case 11:case 14:case 15:if(!un&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){y=c=c.next;do{var _=y,b=_.destroy;_=_.tag,b!==void 0&&(_&2||_&4)&&wa(o,n,b),y=y.next}while(y!==c)}wr(e,n,o);break;case 1:if(!un&&(Co(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(B){hn(o,n,B)}wr(e,n,o);break;case 21:wr(e,n,o);break;case 22:o.mode&1?(un=(c=un)||o.memoizedState!==null,wr(e,n,o),un=c):wr(e,n,o);break;default:wr(e,n,o)}}function Ro(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new ei),n.forEach(function(c){var y=td.bind(null,e,c);o.has(c)||(o.add(c),c.then(y,y))})}}function _i(e,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var y=o[c];try{var _=e,b=n,B=b;e:for(;B!==null;){switch(B.tag){case 5:Ln=B.stateNode,Ki=!1;break e;case 3:Ln=B.stateNode.containerInfo,Ki=!0;break e;case 4:Ln=B.stateNode.containerInfo,Ki=!0;break e}B=B.return}if(Ln===null)throw Error(t(160));hc(_,b,y),Ln=null,Ki=!1;var W=y.alternate;W!==null&&(W.return=null),y.return=null}catch(oe){hn(y,n,oe)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)fc(n,e),n=n.sibling}function fc(e,n){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_i(n,e),Yi(e),c&4){try{Ar(3,e,e.return),_a(3,e)}catch($e){hn(e,e.return,$e)}try{Ar(5,e,e.return)}catch($e){hn(e,e.return,$e)}}break;case 1:_i(n,e),Yi(e),c&512&&o!==null&&Co(o,o.return);break;case 5:if(_i(n,e),Yi(e),c&512&&o!==null&&Co(o,o.return),e.flags&32){var y=e.stateNode;try{E(y,"")}catch($e){hn(e,e.return,$e)}}if(c&4&&(y=e.stateNode,y!=null)){var _=e.memoizedProps,b=o!==null?o.memoizedProps:_,B=e.type,W=e.updateQueue;if(e.updateQueue=null,W!==null)try{B==="input"&&_.type==="radio"&&_.name!=null&&gt(y,_),it(B,b);var oe=it(B,_);for(b=0;b<W.length;b+=2){var Ce=W[b],be=W[b+1];Ce==="style"?Ee(y,be):Ce==="dangerouslySetInnerHTML"?C(y,be):Ce==="children"?E(y,be):ee(y,Ce,be,oe)}switch(B){case"input":S(y,_);break;case"textarea":We(y,_);break;case"select":var Te=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var je=_.value;je!=null?xe(y,!!_.multiple,je,!1):Te!==!!_.multiple&&(_.defaultValue!=null?xe(y,!!_.multiple,_.defaultValue,!0):xe(y,!!_.multiple,_.multiple?[]:"",!1))}y[$r]=_}catch($e){hn(e,e.return,$e)}}break;case 6:if(_i(n,e),Yi(e),c&4){if(e.stateNode===null)throw Error(t(162));y=e.stateNode,_=e.memoizedProps;try{y.nodeValue=_}catch($e){hn(e,e.return,$e)}}break;case 3:if(_i(n,e),Yi(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Gt(n.containerInfo)}catch($e){hn(e,e.return,$e)}break;case 4:_i(n,e),Yi(e);break;case 13:_i(n,e),Yi(e),y=e.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(gc=Xt())),c&4&&Ro(e);break;case 22:if(Ce=o!==null&&o.memoizedState!==null,e.mode&1?(un=(oe=un)||Ce,_i(n,e),un=oe):_i(n,e),Yi(e),c&8192){if(oe=e.memoizedState!==null,(e.stateNode.isHidden=oe)&&!Ce&&e.mode&1)for(Ve=e,Ce=e.child;Ce!==null;){for(be=Ve=Ce;Ve!==null;){switch(Te=Ve,je=Te.child,Te.tag){case 0:case 11:case 14:case 15:Ar(4,Te,Te.return);break;case 1:Co(Te,Te.return);var Qe=Te.stateNode;if(typeof Qe.componentWillUnmount=="function"){c=Te,o=Te.return;try{n=c,Qe.props=n.memoizedProps,Qe.state=n.memoizedState,Qe.componentWillUnmount()}catch($e){hn(c,o,$e)}}break;case 5:Co(Te,Te.return);break;case 22:if(Te.memoizedState!==null){as(be);continue}}je!==null?(je.return=Te,Ve=je):as(be)}Ce=Ce.sibling}e:for(Ce=null,be=e;;){if(be.tag===5){if(Ce===null){Ce=be;try{y=be.stateNode,oe?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(B=be.stateNode,W=be.memoizedProps.style,b=W!=null&&W.hasOwnProperty("display")?W.display:null,B.style.display=le("display",b))}catch($e){hn(e,e.return,$e)}}}else if(be.tag===6){if(Ce===null)try{be.stateNode.nodeValue=oe?"":be.memoizedProps}catch($e){hn(e,e.return,$e)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===e)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===e)break e;for(;be.sibling===null;){if(be.return===null||be.return===e)break e;Ce===be&&(Ce=null),be=be.return}Ce===be&&(Ce=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:_i(n,e),Yi(e),c&4&&Ro(e);break;case 21:break;default:_i(n,e),Yi(e)}}function Yi(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Hh(o)){var c=o;break e}o=o.return}throw Error(t(160))}switch(c.tag){case 5:var y=c.stateNode;c.flags&32&&(E(y,""),c.flags&=-33);var _=Uh(e);Bl(e,_,y);break;case 3:case 4:var b=c.stateNode.containerInfo,B=Uh(e);cc(e,B,b);break;default:throw Error(t(161))}}catch(W){hn(e,e.return,W)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hl(e,n,o){Ve=e,dc(e)}function dc(e,n,o){for(var c=(e.mode&1)!==0;Ve!==null;){var y=Ve,_=y.child;if(y.tag===22&&c){var b=y.memoizedState!==null||zl;if(!b){var B=y.alternate,W=B!==null&&B.memoizedState!==null||un;B=zl;var oe=un;if(zl=b,(un=W)&&!oe)for(Ve=y;Ve!==null;)b=Ve,W=b.child,b.tag===22&&b.memoizedState!==null?jh(y):W!==null?(W.return=b,Ve=W):jh(y);for(;_!==null;)Ve=_,dc(_),_=_.sibling;Ve=y,zl=B,un=oe}Qi(e)}else y.subtreeFlags&8772&&_!==null?(_.return=y,Ve=_):Qi(e)}}function Qi(e){for(;Ve!==null;){var n=Ve;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:un||_a(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!un)if(o===null)c.componentDidMount();else{var y=n.elementType===n.type?o.memoizedProps:Ai(n.type,o.memoizedProps);c.componentDidUpdate(y,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var _=n.updateQueue;_!==null&&Bu(n,_,c);break;case 3:var b=n.updateQueue;if(b!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Bu(n,b,o)}break;case 5:var B=n.stateNode;if(o===null&&n.flags&4){o=B;var W=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&o.focus();break;case"img":W.src&&(o.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var oe=n.alternate;if(oe!==null){var Ce=oe.memoizedState;if(Ce!==null){var be=Ce.dehydrated;be!==null&&Gt(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||n.flags&512&&Nl(n)}catch(Te){hn(n,n.return,Te)}}if(n===e){Ve=null;break}if(o=n.sibling,o!==null){o.return=n.return,Ve=o;break}Ve=n.return}}function as(e){for(;Ve!==null;){var n=Ve;if(n===e){Ve=null;break}var o=n.sibling;if(o!==null){o.return=n.return,Ve=o;break}Ve=n.return}}function jh(e){for(;Ve!==null;){var n=Ve;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{_a(4,n)}catch(W){hn(n,o,W)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var y=n.return;try{c.componentDidMount()}catch(W){hn(n,y,W)}}var _=n.return;try{Nl(n)}catch(W){hn(n,_,W)}break;case 5:var b=n.return;try{Nl(n)}catch(W){hn(n,b,W)}}}catch(W){hn(n,n.return,W)}if(n===e){Ve=null;break}var B=n.sibling;if(B!==null){B.return=n.return,Ve=B;break}Ve=n.return}}var Wh=Math.ceil,Ul=Le.ReactCurrentDispatcher,pc=Le.ReactCurrentOwner,Mi=Le.ReactCurrentBatchConfig,zt=0,On=null,Tn=null,zn=0,xi=0,Po=li(0),Cn=0,xa=null,ls=0,Ta=0,jl=0,Sa=null,di=null,gc=0,zs=1/0,Mr=null,Wl=!1,mc=null,us=null,Vl=!1,cs=null,ti=0,Ea=0,vc=null,Gl=-1,Ca=0;function ni(){return zt&6?Xt():Gl!==-1?Gl:Gl=Xt()}function hs(e){return e.mode&1?zt&2&&zn!==0?zn&-zn:Th.transition!==null?(Ca===0&&(Ca=hu()),Ca):(e=Wt,e!==0||(e=window.event,e=e===void 0?16:Xc(e.type)),e):1}function Ji(e,n,o,c){if(50<Ea)throw Ea=0,vc=null,Error(t(185));Bo(e,o,c),(!(zt&2)||e!==On)&&(e===On&&(!(zt&2)&&(Ta|=o),Cn===4&&fs(e,zn)),pi(e,c),o===1&&zt===0&&!(n.mode&1)&&(zs=Xt()+500,fl&&ts()))}function pi(e,n){var o=e.callbackNode;Cf(e,n);var c=ys(e,e===On?zn:0);if(c===0)o!==null&&jr(o),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(o!=null&&jr(o),n===1)e.tag===0?Rs(Vh.bind(null,e)):wh(Vh.bind(null,e)),ll(function(){!(zt&6)&&ts()}),o=null;else{switch(ws(c)){case 1:o=Wi;break;case 4:o=vs;break;case 16:o=rr;break;case 536870912:o=Qt;break;default:o=rr}o=Qh(o,ql.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function ql(e,n){if(Gl=-1,Ca=0,zt&6)throw Error(t(327));var o=e.callbackNode;if(Do()&&e.callbackNode!==o)return null;var c=ys(e,e===On?zn:0);if(c===0)return null;if(c&30||c&e.expiredLanes||n)n=Zl(e,c);else{n=c;var y=zt;zt|=2;var _=qh();(On!==e||zn!==n)&&(Mr=null,zs=Xt()+500,Bs(e,n));do try{Qf();break}catch(B){Gh(e,B)}while(!0);Dr(),Ul.current=_,zt=y,Tn!==null?n=0:(On=null,zn=0,n=Cn)}if(n!==0){if(n===2&&(y=Ba(e),y!==0&&(c=y,n=yc(e,y))),n===1)throw o=xa,Bs(e,0),fs(e,c),pi(e,Xt()),o;if(n===6)fs(e,c);else{if(y=e.current.alternate,!(c&30)&&!Kf(y)&&(n=Zl(e,c),n===2&&(_=Ba(e),_!==0&&(c=_,n=yc(e,_))),n===1))throw o=xa,Bs(e,0),fs(e,c),pi(e,Xt()),o;switch(e.finishedWork=y,e.finishedLanes=c,n){case 0:case 1:throw Error(t(345));case 2:Hs(e,di,Mr);break;case 3:if(fs(e,c),(c&130023424)===c&&(n=gc+500-Xt(),10<n)){if(ys(e,0)!==0)break;if(y=e.suspendedLanes,(y&c)!==c){ni(),e.pingedLanes|=e.suspendedLanes&y;break}e.timeoutHandle=Qr(Hs.bind(null,e,di,Mr),n);break}Hs(e,di,Mr);break;case 4:if(fs(e,c),(c&4194240)===c)break;for(n=e.eventTimes,y=-1;0<c;){var b=31-bn(c);_=1<<b,b=n[b],b>y&&(y=b),c&=~_}if(c=y,c=Xt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Wh(c/1960))-c,10<c){e.timeoutHandle=Qr(Hs.bind(null,e,di,Mr),c);break}Hs(e,di,Mr);break;case 5:Hs(e,di,Mr);break;default:throw Error(t(329))}}}return pi(e,Xt()),e.callbackNode===o?ql.bind(null,e):null}function yc(e,n){var o=Sa;return e.current.memoizedState.isDehydrated&&(Bs(e,n).flags|=256),e=Zl(e,n),e!==2&&(n=di,di=o,n!==null&&wc(n)),e}function wc(e){di===null?di=e:di.push.apply(di,e)}function Kf(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var y=o[c],_=y.getSnapshot;y=y.value;try{if(!re(_(),y))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fs(e,n){for(n&=~jl,n&=~Ta,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-bn(n),c=1<<o;e[o]=-1,n&=~c}}function Vh(e){if(zt&6)throw Error(t(327));Do();var n=ys(e,0);if(!(n&1))return pi(e,Xt()),null;var o=Zl(e,n);if(e.tag!==0&&o===2){var c=Ba(e);c!==0&&(n=c,o=yc(e,c))}if(o===1)throw o=xa,Bs(e,0),fs(e,n),pi(e,Xt()),o;if(o===6)throw Error(t(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Hs(e,di,Mr),pi(e,Xt()),null}function _c(e,n){var o=zt;zt|=1;try{return e(n)}finally{zt=o,zt===0&&(zs=Xt()+500,fl&&ts())}}function Ns(e){cs!==null&&cs.tag===0&&!(zt&6)&&Do();var n=zt;zt|=1;var o=Mi.transition,c=Wt;try{if(Mi.transition=null,Wt=1,e)return e()}finally{Wt=c,Mi.transition=o,zt=n,!(zt&6)&&ts()}}function xc(){xi=Po.current,sn(Po)}function Bs(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,ea(o)),Tn!==null)for(o=Tn.return;o!==null;){var c=o;switch(bs(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&hl();break;case 3:rs(),sn(ui),sn(jn),Tl();break;case 5:xl(c);break;case 4:rs();break;case 13:sn(ln);break;case 19:sn(ln);break;case 10:vl(c.type._context);break;case 22:case 23:xc()}o=o.return}if(On=e,Tn=e=$i(e.current,null),zn=xi=n,Cn=0,xa=null,jl=Ta=ls=0,di=Sa=null,Os!==null){for(n=0;n<Os.length;n++)if(o=Os[n],c=o.interleaved,c!==null){o.interleaved=null;var y=c.next,_=o.pending;if(_!==null){var b=_.next;_.next=y,c.next=b}o.pending=c}Os=null}return e}function Gh(e,n){do{var o=Tn;try{if(Dr(),aa.current=Dl,vo){for(var c=cn.memoizedState;c!==null;){var y=c.queue;y!==null&&(y.pending=null),c=c.next}vo=!1}if(ss=0,En=vn=cn=null,la=!1,Fs=0,pc.current=null,o===null||o.return===null){Cn=1,xa=n,Tn=null;break}e:{var _=e,b=o.return,B=o,W=n;if(n=zn,B.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var oe=W,Ce=B,be=Ce.tag;if(!(Ce.mode&1)&&(be===0||be===11||be===15)){var Te=Ce.alternate;Te?(Ce.updateQueue=Te.updateQueue,Ce.memoizedState=Te.memoizedState,Ce.lanes=Te.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var je=Fh(b);if(je!==null){je.flags&=-257,tc(je,b,B,_,n),je.mode&1&&da(_,oe,n),n=je,W=oe;var Qe=n.updateQueue;if(Qe===null){var $e=new Set;$e.add(W),n.updateQueue=$e}else Qe.add(W);break e}else{if(!(n&1)){da(_,oe,n),Tc();break e}W=Error(t(426))}}else if(on&&B.mode&1){var gn=Fh(b);if(gn!==null){!(gn.flags&65536)&&(gn.flags|=256),tc(gn,b,B,_,n),dr(Ms(W,B));break e}}_=W=Ms(W,B),Cn!==4&&(Cn=2),Sa===null?Sa=[_]:Sa.push(_),_=b;do{switch(_.tag){case 3:_.flags|=65536,n&=-n,_.lanes|=n;var $=fa(_,W,n);Ch(_,$);break e;case 1:B=W;var X=_.type,ne=_.stateNode;if(!(_.flags&128)&&(typeof X.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(us===null||!us.has(ne)))){_.flags|=65536,n&=-n,_.lanes|=n;var ke=Fl(_,B,n);Ch(_,ke);break e}}_=_.return}while(_!==null)}Xh(o)}catch(et){n=et,Tn===o&&o!==null&&(Tn=o=o.return);continue}break}while(!0)}function qh(){var e=Ul.current;return Ul.current=Dl,e===null?Dl:e}function Tc(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),On===null||!(ls&268435455)&&!(Ta&268435455)||fs(On,zn)}function Zl(e,n){var o=zt;zt|=2;var c=qh();(On!==e||zn!==n)&&(Mr=null,Bs(e,n));do try{Yf();break}catch(y){Gh(e,y)}while(!0);if(Dr(),zt=o,Ul.current=c,Tn!==null)throw Error(t(261));return On=null,zn=0,Cn}function Yf(){for(;Tn!==null;)Zh(Tn)}function Qf(){for(;Tn!==null&&!oi();)Zh(Tn)}function Zh(e){var n=Yh(e.alternate,e,xi);e.memoizedProps=e.pendingProps,n===null?Xh(e):Tn=n,pc.current=null}function Xh(e){var n=e;do{var o=n.alternate;if(e=n.return,n.flags&32768){if(o=Zf(o,n),o!==null){o.flags&=32767,Tn=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Cn=6,Tn=null;return}}else if(o=qf(o,n,xi),o!==null){Tn=o;return}if(n=n.sibling,n!==null){Tn=n;return}Tn=n=e}while(n!==null);Cn===0&&(Cn=5)}function Hs(e,n,o){var c=Wt,y=Mi.transition;try{Mi.transition=null,Wt=1,Jf(e,n,o,c)}finally{Mi.transition=y,Wt=c}return null}function Jf(e,n,o,c){do Do();while(cs!==null);if(zt&6)throw Error(t(327));o=e.finishedWork;var y=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(t(177));e.callbackNode=null,e.callbackPriority=0;var _=o.lanes|o.childLanes;if(Wc(e,_),e===On&&(Tn=On=null,zn=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Vl||(Vl=!0,Qh(rr,function(){return Do(),null})),_=(o.flags&15990)!==0,o.subtreeFlags&15990||_){_=Mi.transition,Mi.transition=null;var b=Wt;Wt=1;var B=zt;zt|=4,pc.current=null,Xf(e,o),fc(o,e),jf(Cs),Wa=!!Jo,Cs=Jo=null,e.current=o,Hl(o),Ci(),zt=B,Wt=b,Mi.transition=_}else e.current=o;if(Vl&&(Vl=!1,cs=e,ti=y),_=e.pendingLanes,_===0&&(us=null),dn(o.stateNode),pi(e,Xt()),n!==null)for(c=e.onRecoverableError,o=0;o<n.length;o++)y=n[o],c(y.value,{componentStack:y.stack,digest:y.digest});if(Wl)throw Wl=!1,e=mc,mc=null,e;return ti&1&&e.tag!==0&&Do(),_=e.pendingLanes,_&1?e===vc?Ea++:(Ea=0,vc=e):Ea=0,ts(),null}function Do(){if(cs!==null){var e=ws(ti),n=Mi.transition,o=Wt;try{if(Mi.transition=null,Wt=16>e?16:e,cs===null)var c=!1;else{if(e=cs,cs=null,ti=0,zt&6)throw Error(t(331));var y=zt;for(zt|=4,Ve=e.current;Ve!==null;){var _=Ve,b=_.child;if(Ve.flags&16){var B=_.deletions;if(B!==null){for(var W=0;W<B.length;W++){var oe=B[W];for(Ve=oe;Ve!==null;){var Ce=Ve;switch(Ce.tag){case 0:case 11:case 15:Ar(8,Ce,_)}var be=Ce.child;if(be!==null)be.return=Ce,Ve=be;else for(;Ve!==null;){Ce=Ve;var Te=Ce.sibling,je=Ce.return;if(Bh(Ce),Ce===oe){Ve=null;break}if(Te!==null){Te.return=je,Ve=Te;break}Ve=je}}}var Qe=_.alternate;if(Qe!==null){var $e=Qe.child;if($e!==null){Qe.child=null;do{var gn=$e.sibling;$e.sibling=null,$e=gn}while($e!==null)}}Ve=_}}if(_.subtreeFlags&2064&&b!==null)b.return=_,Ve=b;else e:for(;Ve!==null;){if(_=Ve,_.flags&2048)switch(_.tag){case 0:case 11:case 15:Ar(9,_,_.return)}var $=_.sibling;if($!==null){$.return=_.return,Ve=$;break e}Ve=_.return}}var X=e.current;for(Ve=X;Ve!==null;){b=Ve;var ne=b.child;if(b.subtreeFlags&2064&&ne!==null)ne.return=b,Ve=ne;else e:for(b=X;Ve!==null;){if(B=Ve,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:_a(9,B)}}catch(et){hn(B,B.return,et)}if(B===b){Ve=null;break e}var ke=B.sibling;if(ke!==null){ke.return=B.return,Ve=ke;break e}Ve=B.return}}if(zt=y,ts(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Vi,e)}catch{}c=!0}return c}finally{Wt=o,Mi.transition=n}}return!1}function Xl(e,n,o){n=Ms(o,n),n=fa(e,n,1),e=Fi(e,n,1),n=ni(),e!==null&&(Bo(e,1,n),pi(e,n))}function hn(e,n,o){if(e.tag===3)Xl(e,e,o);else for(;n!==null;){if(n.tag===3){Xl(n,e,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(us===null||!us.has(c))){e=Ms(o,e),e=Fl(n,e,1),n=Fi(n,e,1),e=ni(),n!==null&&(Bo(n,1,e),pi(n,e));break}}n=n.return}}function $f(e,n,o){var c=e.pingCache;c!==null&&c.delete(n),n=ni(),e.pingedLanes|=e.suspendedLanes&o,On===e&&(zn&o)===o&&(Cn===4||Cn===3&&(zn&130023424)===zn&&500>Xt()-gc?Bs(e,0):jl|=o),pi(e,n)}function Kh(e,n){n===0&&(e.mode&1?(n=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):n=1);var o=ni();e=br(e,n),e!==null&&(Bo(e,n,o),pi(e,o))}function ed(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Kh(e,o)}function td(e,n){var o=0;switch(e.tag){case 13:var c=e.stateNode,y=e.memoizedState;y!==null&&(o=y.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(n),Kh(e,o)}var Yh;Yh=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||ui.current)$n=!0;else{if(!(e.lanes&o)&&!(n.flags&128))return $n=!1,Mh(e,n,o);$n=!!(e.flags&131072)}else $n=!1,on&&n.flags&1048576&&_h(n,pl,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;Ml(e,n),e=n.pendingProps;var y=ho(n,jn.current);is(n,o),y=Is(null,n,c,e,y,o);var _=Sl();return n.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ci(c)?(_=!0,Di(n)):_=!1,n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,wl(n),y.updater=Ol,n.stateNode=y,y._reactInternals=n,ec(n,c,e,o),n=ac(null,n,c,!0,_,o)):(n.tag=0,on&&_&&ta(n),In(null,n,y,o),n=n.child),n;case 16:c=n.elementType;e:{switch(Ml(e,n),e=n.pendingProps,y=c._init,c=y(c._payload),n.type=c,y=n.tag=id(c),e=Ai(c,e),y){case 0:n=sc(null,n,c,e,o);break e;case 1:n=oc(null,n,c,e,o);break e;case 11:n=Ih(null,n,c,e,o);break e;case 14:n=nc(null,n,c,Ai(c.type,e),o);break e}throw Error(t(306,c,""))}return n;case 0:return c=n.type,y=n.pendingProps,y=n.elementType===c?y:Ai(c,y),sc(e,n,c,y,o);case 1:return c=n.type,y=n.pendingProps,y=n.elementType===c?y:Ai(c,y),oc(e,n,c,y,o);case 3:e:{if(Ah(n),e===null)throw Error(t(387));c=n.pendingProps,_=n.memoizedState,y=_.element,Eh(e,n),go(n,c,null,o);var b=n.memoizedState;if(c=b.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},n.updateQueue.baseState=_,n.memoizedState=_,n.flags&256){y=Ms(Error(t(423)),n),n=yr(e,n,c,o,y);break e}else if(c!==y){y=Ms(Error(t(424)),n),n=yr(e,n,c,o,y);break e}else for(yi=Jr(n.stateNode.containerInfo.firstChild),Vn=n,on=!0,qi=null,o=ml(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(fr(),c===y){n=Xi(e,n,o);break e}In(e,n,c,o)}n=n.child}return n;case 5:return Uu(n),e===null&&hi(n),c=n.type,y=n.pendingProps,_=e!==null?e.memoizedProps:null,b=y.children,$o(c,y)?b=null:_!==null&&$o(c,_)&&(n.flags|=32),rc(e,n),In(e,n,b,o),n.child;case 6:return e===null&&hi(n),null;case 13:return Al(e,n,o);case 4:return Hu(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=pn(n,null,c,o):In(e,n,c,o),n.child;case 11:return c=n.type,y=n.pendingProps,y=n.elementType===c?y:Ai(c,y),Ih(e,n,c,y,o);case 7:return In(e,n,n.pendingProps,o),n.child;case 8:return In(e,n,n.pendingProps.children,o),n.child;case 12:return In(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(c=n.type._context,y=n.pendingProps,_=n.memoizedProps,b=y.value,$t(ra,c._currentValue),c._currentValue=b,_!==null)if(re(_.value,b)){if(_.children===y.children&&!ui.current){n=Xi(e,n,o);break e}}else for(_=n.child,_!==null&&(_.return=n);_!==null;){var B=_.dependencies;if(B!==null){b=_.child;for(var W=B.firstContext;W!==null;){if(W.context===c){if(_.tag===1){W=Lr(-1,o&-o),W.tag=2;var oe=_.updateQueue;if(oe!==null){oe=oe.shared;var Ce=oe.pending;Ce===null?W.next=W:(W.next=Ce.next,Ce.next=W),oe.pending=W}}_.lanes|=o,W=_.alternate,W!==null&&(W.lanes|=o),Fn(_.return,o,n),B.lanes|=o;break}W=W.next}}else if(_.tag===10)b=_.type===n.type?null:_.child;else if(_.tag===18){if(b=_.return,b===null)throw Error(t(341));b.lanes|=o,B=b.alternate,B!==null&&(B.lanes|=o),Fn(b,o,n),b=_.sibling}else b=_.child;if(b!==null)b.return=_;else for(b=_;b!==null;){if(b===n){b=null;break}if(_=b.sibling,_!==null){_.return=b.return,b=_;break}b=b.return}_=b}In(e,n,y.children,o),n=n.child}return n;case 9:return y=n.type,c=n.pendingProps.children,is(n,o),y=Oi(y),c=c(y),n.flags|=1,In(e,n,c,o),n.child;case 14:return c=n.type,y=Ai(c,n.pendingProps),y=Ai(c.type,y),nc(e,n,c,y,o);case 15:return vr(e,n,n.type,n.pendingProps,o);case 17:return c=n.type,y=n.pendingProps,y=n.elementType===c?y:Ai(c,y),Ml(e,n),n.tag=1,ci(c)?(e=!0,Di(n)):e=!1,is(n,o),As(n,c,y),ec(n,c,y,o),ac(null,n,c,!0,e,o);case 19:return os(e,n,o);case 22:return ic(e,n,o)}throw Error(t(156,n.tag))};function Qh(e,n){return xr(e,n)}function nd(e,n,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(e,n,o,c){return new nd(e,n,o,c)}function Kl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function id(e){if(typeof e=="function")return Kl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ce)return 11;if(e===yt)return 14}return 2}function $i(e,n){var o=e.alternate;return o===null?(o=zi(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Yl(e,n,o,c,y,_){var b=2;if(c=e,typeof e=="function")Kl(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case we:return Us(o.children,y,_,n);case N:b=8,y|=8;break;case U:return e=zi(12,o,n,y|2),e.elementType=U,e.lanes=_,e;case Fe:return e=zi(13,o,n,y),e.elementType=Fe,e.lanes=_,e;case Ge:return e=zi(19,o,n,y),e.elementType=Ge,e.lanes=_,e;case Oe:return Ql(o,y,_,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:b=10;break e;case ve:b=9;break e;case ce:b=11;break e;case yt:b=14;break e;case dt:b=16,c=null;break e}throw Error(t(130,e==null?e:typeof e,""))}return n=zi(b,o,n,y),n.elementType=e,n.type=c,n.lanes=_,n}function Us(e,n,o,c){return e=zi(7,e,c,n),e.lanes=o,e}function Ql(e,n,o,c){return e=zi(22,e,c,n),e.elementType=Oe,e.lanes=o,e.stateNode={isHidden:!1},e}function Sc(e,n,o){return e=zi(6,e,null,n),e.lanes=o,e}function Ec(e,n,o){return n=zi(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function rd(e,n,o,c,y){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=c,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Cc(e,n,o,c,y,_,b,B,W){return e=new rd(e,n,o,B,W),n===1?(n=1,_===!0&&(n|=8)):n=0,_=zi(3,null,null,n),e.current=_,_.stateNode=e,_.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},wl(_),e}function sd(e,n,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:c==null?null:""+c,children:e,containerInfo:n,implementation:o}}function Jh(e){if(!e)return es;e=e._reactInternals;e:{if(St(e)!==e||e.tag!==1)throw Error(t(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ci(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(t(171))}if(e.tag===1){var o=e.type;if(ci(o))return vh(e,o,n)}return n}function $h(e,n,o,c,y,_,b,B,W){return e=Cc(o,c,!0,e,y,_,b,B,W),e.context=Jh(null),o=e.current,c=ni(),y=hs(o),_=Lr(c,y),_.callback=n??null,Fi(o,_,y),e.current.lanes=y,Bo(e,y,c),pi(e,c),e}function Jl(e,n,o,c){var y=n.current,_=ni(),b=hs(y);return o=Jh(o),n.context===null?n.context=o:n.pendingContext=o,n=Lr(_,b),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=Fi(y,n,b),e!==null&&(Ji(e,y,b,_),_l(e,y,b)),b}function $l(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ef(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Rc(e,n){ef(e,n),(e=e.alternate)&&ef(e,n)}var tf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pc(e){this._internalRoot=e}Ra.prototype.render=Pc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(t(409));Jl(e,n,null,null)},Ra.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ns(function(){Jl(null,e,null,null)}),n[vi]=null}};function Ra(e){this._internalRoot=e}Ra.prototype.unstable_scheduleHydration=function(e){if(e){var n=du();e={blockedOn:null,target:e,priority:n};for(var o=0;o<qr.length&&n!==0&&n<qr[o].priority;o++);qr.splice(o,0,e),o===0&&qc(e)}};function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nf(){}function od(e,n,o,c,y){if(y){if(typeof c=="function"){var _=c;c=function(){var oe=$l(b);_.call(oe)}}var b=$h(n,c,e,0,null,!1,!1,"",nf);return e._reactRootContainer=b,e[vi]=b.current,Yr(e.nodeType===8?e.parentNode:e),Ns(),b}for(;y=e.lastChild;)e.removeChild(y);if(typeof c=="function"){var B=c;c=function(){var oe=$l(W);B.call(oe)}}var W=Cc(e,0,!1,null,null,!1,!1,"",nf);return e._reactRootContainer=W,e[vi]=W.current,Yr(e.nodeType===8?e.parentNode:e),Ns(function(){Jl(n,W,o,c)}),W}function nu(e,n,o,c,y){var _=o._reactRootContainer;if(_){var b=_;if(typeof y=="function"){var B=y;y=function(){var W=$l(b);B.call(W)}}Jl(n,b,e,y)}else b=od(o,n,e,y,c);return $l(b)}fu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Zs(n.pendingLanes);o!==0&&(Ho(n,o|1),pi(n,Xt()),!(zt&6)&&(zs=Xt()+500,ts()))}break;case 13:Ns(function(){var c=br(e,1);if(c!==null){var y=ni();Ji(c,e,1,y)}}),Rc(e,1)}},Ha=function(e){if(e.tag===13){var n=br(e,134217728);if(n!==null){var o=ni();Ji(n,e,134217728,o)}Rc(e,134217728)}},Vc=function(e){if(e.tag===13){var n=hs(e),o=br(e,n);if(o!==null){var c=ni();Ji(o,e,n,c)}Rc(e,n)}},du=function(){return Wt},pu=function(e,n){var o=Wt;try{return Wt=e,n()}finally{Wt=o}},ri=function(e,n,o){switch(n){case"input":if(S(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==e&&c.form===e.form){var y=cl(c);if(!y)throw Error(t(90));Ct(c),S(c,y)}}}break;case"textarea":We(e,o);break;case"select":n=o.value,n!=null&&xe(e,!!o.multiple,n,!1)}},gs=_c,Ur=Ns;var iu={usingClientEntryPoint:!1,Events:[Un,Rt,cl,Aa,Ao,_c]},Pa={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Le.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mt(e),e===null?null:e.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Vi=ru.inject(ad),Nn=ru}catch{}}return Ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iu,Ui.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eu(n))throw Error(t(200));return sd(e,n,null,o)},Ui.createRoot=function(e,n){if(!eu(e))throw Error(t(299));var o=!1,c="",y=tf;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Cc(e,1,!1,null,null,o,!1,c,y),e[vi]=n.current,Yr(e.nodeType===8?e.parentNode:e),new Pc(n)},Ui.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(t(188)):(e=Object.keys(e).join(","),Error(t(268,e)));return e=Mt(n),e=e===null?null:e.stateNode,e},Ui.flushSync=function(e){return Ns(e)},Ui.hydrate=function(e,n,o){if(!tu(n))throw Error(t(200));return nu(null,e,n,!0,o)},Ui.hydrateRoot=function(e,n,o){if(!eu(e))throw Error(t(405));var c=o!=null&&o.hydratedSources||null,y=!1,_="",b=tf;if(o!=null&&(o.unstable_strictMode===!0&&(y=!0),o.identifierPrefix!==void 0&&(_=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),n=$h(n,null,e,1,o??null,y,!1,_,b),e[vi]=n.current,Yr(e),c)for(e=0;e<c.length;e++)o=c[e],y=o._getVersion,y=y(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,y]:n.mutableSourceEagerHydrationData.push(o,y);return new Ra(n)},Ui.render=function(e,n,o){if(!tu(n))throw Error(t(200));return nu(null,e,n,!1,o)},Ui.unmountComponentAtNode=function(e){if(!tu(e))throw Error(t(40));return e._reactRootContainer?(Ns(function(){nu(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0):!1},Ui.unstable_batchedUpdates=_c,Ui.unstable_renderSubtreeIntoContainer=function(e,n,o,c){if(!tu(o))throw Error(t(200));if(e==null||e._reactInternals===void 0)throw Error(t(38));return nu(e,n,o,!1,c)},Ui.version="18.3.1-next-f1338f8080-20240426",Ui}var Pp;function dg(){if(Pp)return Td.exports;Pp=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(g){console.error(g)}}return m(),Td.exports=Ty(),Td.exports}var Dp;function Sy(){if(Dp)return lf;Dp=1;var m=dg();return lf.createRoot=m.createRoot,lf.hydrateRoot=m.hydrateRoot,lf}var Ey=Sy(),pg=dg();const Cy=Gd(pg),Ry=fg({__proto__:null,default:Cy},[pg]);/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mn(){return mn=Object.assign?Object.assign.bind():function(m){for(var g=1;g<arguments.length;g++){var t=arguments[g];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(m[r]=t[r])}return m},mn.apply(this,arguments)}var kn;(function(m){m.Pop="POP",m.Push="PUSH",m.Replace="REPLACE"})(kn||(kn={}));const bp="popstate";function Py(m){m===void 0&&(m={});function g(l,a){let{pathname:u="/",search:p="",hash:h=""}=Gs(l.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Ac("",{pathname:u,search:p,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(l,a){let u=l.document.querySelector("base"),p="";if(u&&u.getAttribute("href")){let h=l.location.href,f=h.indexOf("#");p=f===-1?h:h.slice(0,f)}return p+"#"+(typeof a=="string"?a:zc(a))}function r(l,a){Ia(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return by(g,t,r,m)}function Vt(m,g){if(m===!1||m===null||typeof m>"u")throw new Error(g)}function Ia(m,g){if(!m){typeof console<"u"&&console.warn(g);try{throw new Error(g)}catch{}}}function Dy(){return Math.random().toString(36).substr(2,8)}function Lp(m,g){return{usr:m.state,key:m.key,idx:g}}function Ac(m,g,t,r){return t===void 0&&(t=null),mn({pathname:typeof m=="string"?m:m.pathname,search:"",hash:""},typeof g=="string"?Gs(g):g,{state:t,key:g&&g.key||r||Dy()})}function zc(m){let{pathname:g="/",search:t="",hash:r=""}=m;return t&&t!=="?"&&(g+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(g+=r.charAt(0)==="#"?r:"#"+r),g}function Gs(m){let g={};if(m){let t=m.indexOf("#");t>=0&&(g.hash=m.substr(t),m=m.substr(0,t));let r=m.indexOf("?");r>=0&&(g.search=m.substr(r),m=m.substr(0,r)),m&&(g.pathname=m)}return g}function by(m,g,t,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:a=!1}=r,u=l.history,p=kn.Pop,h=null,f=v();f==null&&(f=0,u.replaceState(mn({},u.state,{idx:f}),""));function v(){return(u.state||{idx:null}).idx}function w(){p=kn.Pop;let F=v(),z=F==null?null:F-f;f=F,h&&h({action:p,location:D.location,delta:z})}function T(F,z){p=kn.Push;let q=Ac(D.location,F,z);t(q,F),f=v()+1;let ee=Lp(q,f),Le=D.createHref(q);try{u.pushState(ee,"",Le)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;l.location.assign(Le)}a&&h&&h({action:p,location:D.location,delta:1})}function R(F,z){p=kn.Replace;let q=Ac(D.location,F,z);t(q,F),f=v();let ee=Lp(q,f),Le=D.createHref(q);u.replaceState(ee,"",Le),a&&h&&h({action:p,location:D.location,delta:0})}function L(F){let z=l.location.origin!=="null"?l.location.origin:l.location.href,q=typeof F=="string"?F:zc(F);return q=q.replace(/ $/,"%20"),Vt(z,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,z)}let D={get action(){return p},get location(){return m(l,u)},listen(F){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(bp,w),h=F,()=>{l.removeEventListener(bp,w),h=null}},createHref(F){return g(l,F)},createURL:L,encodeLocation(F){let z=L(F);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:R,go(F){return u.go(F)}};return D}var en;(function(m){m.data="data",m.deferred="deferred",m.redirect="redirect",m.error="error"})(en||(en={}));const Ly=new Set(["lazy","caseSensitive","path","id","index","children"]);function Oy(m){return m.index===!0}function yf(m,g,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),m.map((l,a)=>{let u=[...t,String(a)],p=typeof l.id=="string"?l.id:u.join("-");if(Vt(l.index!==!0||!l.children,"Cannot specify children on an index route"),Vt(!r[p],'Found a route id collision on id "'+p+`".  Route id's must be globally unique within Data Router usages`),Oy(l)){let h=mn({},l,g(l),{id:p});return r[p]=h,h}else{let h=mn({},l,g(l),{id:p,children:void 0});return r[p]=h,l.children&&(h.children=yf(l.children,g,u,r)),h}})}function ba(m,g,t){return t===void 0&&(t="/"),pf(m,g,t,!1)}function pf(m,g,t,r){let l=typeof g=="string"?Gs(g):g,a=Nc(l.pathname||"/",t);if(a==null)return null;let u=gg(m);Fy(u);let p=null;for(let h=0;p==null&&h<u.length;++h){let f=Vy(a);p=jy(u[h],f,r)}return p}function ky(m,g){let{route:t,pathname:r,params:l}=m;return{id:t.id,pathname:r,params:l,data:g[t.id],handle:t.handle}}function gg(m,g,t,r){g===void 0&&(g=[]),t===void 0&&(t=[]),r===void 0&&(r="");let l=(a,u,p)=>{let h={relativePath:p===void 0?a.path||"":p,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(Vt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=ka([r,h.relativePath]),v=t.concat(h);a.children&&a.children.length>0&&(Vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),gg(a.children,g,v,f)),!(a.path==null&&!a.index)&&g.push({path:f,score:Hy(f,a.index),routesMeta:v})};return m.forEach((a,u)=>{var p;if(a.path===""||!((p=a.path)!=null&&p.includes("?")))l(a,u);else for(let h of mg(a.path))l(a,u,h)}),g}function mg(m){let g=m.split("/");if(g.length===0)return[];let[t,...r]=g,l=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let u=mg(r.join("/")),p=[];return p.push(...u.map(h=>h===""?a:[a,h].join("/"))),l&&p.push(...u),p.map(h=>m.startsWith("/")&&h===""?"/":h)}function Fy(m){m.sort((g,t)=>g.score!==t.score?t.score-g.score:Uy(g.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Iy=/^:[\w-]+$/,Ay=3,My=2,zy=1,Ny=10,By=-2,Op=m=>m==="*";function Hy(m,g){let t=m.split("/"),r=t.length;return t.some(Op)&&(r+=By),g&&(r+=My),t.filter(l=>!Op(l)).reduce((l,a)=>l+(Iy.test(a)?Ay:a===""?zy:Ny),r)}function Uy(m,g){return m.length===g.length&&m.slice(0,-1).every((r,l)=>r===g[l])?m[m.length-1]-g[g.length-1]:0}function jy(m,g,t){t===void 0&&(t=!1);let{routesMeta:r}=m,l={},a="/",u=[];for(let p=0;p<r.length;++p){let h=r[p],f=p===r.length-1,v=a==="/"?g:g.slice(a.length)||"/",w=kp({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},v),T=h.route;if(!w&&f&&t&&!r[r.length-1].route.index&&(w=kp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!w)return null;Object.assign(l,w.params),u.push({params:l,pathname:ka([a,w.pathname]),pathnameBase:Ky(ka([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=ka([a,w.pathnameBase]))}return u}function kp(m,g){typeof m=="string"&&(m={path:m,caseSensitive:!1,end:!0});let[t,r]=Wy(m.path,m.caseSensitive,m.end),l=g.match(t);if(!l)return null;let a=l[0],u=a.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((f,v,w)=>{let{paramName:T,isOptional:R}=v;if(T==="*"){let D=p[w]||"";u=a.slice(0,a.length-D.length).replace(/(.)\/+$/,"$1")}const L=p[w];return R&&!L?f[T]=void 0:f[T]=(L||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:u,pattern:m}}function Wy(m,g,t){g===void 0&&(g=!1),t===void 0&&(t=!0),Ia(m==="*"||!m.endsWith("*")||m.endsWith("/*"),'Route path "'+m+'" will be treated as if it were '+('"'+m.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+m.replace(/\*$/,"/*")+'".'));let r=[],l="^"+m.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,h)=>(r.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return m.endsWith("*")?(r.push({paramName:"*"}),l+=m==="*"||m==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":m!==""&&m!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,g?void 0:"i"),r]}function Vy(m){try{return m.split("/").map(g=>decodeURIComponent(g).replace(/\//g,"%2F")).join("/")}catch(g){return Ia(!1,'The URL path "'+m+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+g+").")),m}}function Nc(m,g){if(g==="/")return m;if(!m.toLowerCase().startsWith(g.toLowerCase()))return null;let t=g.endsWith("/")?g.length-1:g.length,r=m.charAt(t);return r&&r!=="/"?null:m.slice(t)||"/"}function Gy(m,g){g===void 0&&(g="/");let{pathname:t,search:r="",hash:l=""}=typeof m=="string"?Gs(m):m;return{pathname:t?t.startsWith("/")?t:qy(t,g):g,search:Yy(r),hash:Qy(l)}}function qy(m,g){let t=g.replace(/\/+$/,"").split("/");return m.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Cd(m,g,t,r){return"Cannot include a '"+m+"' character in a manually specified "+("`to."+g+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vg(m){return m.filter((g,t)=>t===0||g.route.path&&g.route.path.length>0)}function Zy(m,g){let t=vg(m);return g?t.map((r,l)=>l===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Xy(m,g,t,r){r===void 0&&(r=!1);let l;typeof m=="string"?l=Gs(m):(l=mn({},m),Vt(!l.pathname||!l.pathname.includes("?"),Cd("?","pathname","search",l)),Vt(!l.pathname||!l.pathname.includes("#"),Cd("#","pathname","hash",l)),Vt(!l.search||!l.search.includes("#"),Cd("#","search","hash",l)));let a=m===""||l.pathname==="",u=a?"/":l.pathname,p;if(u==null)p=t;else{let w=g.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;l.pathname=T.join("/")}p=w>=0?g[w]:"/"}let h=Gy(l,p),f=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||v)&&(h.pathname+="/"),h}const ka=m=>m.join("/").replace(/\/\/+/g,"/"),Ky=m=>m.replace(/\/+$/,"").replace(/^\/*/,"/"),Yy=m=>!m||m==="?"?"":m.startsWith("?")?m:"?"+m,Qy=m=>!m||m==="#"?"":m.startsWith("#")?m:"#"+m;class wf{constructor(g,t,r,l){l===void 0&&(l=!1),this.status=g,this.statusText=t||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Bc(m){return m!=null&&typeof m.status=="number"&&typeof m.statusText=="string"&&typeof m.internal=="boolean"&&"data"in m}const yg=["post","put","patch","delete"],Jy=new Set(yg),$y=["get",...yg],ew=new Set($y),tw=new Set([301,302,303,307,308]),nw=new Set([307,308]),Rd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},iw={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Zd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rw=m=>({hasErrorBoundary:!!m.hasErrorBoundary}),wg="remix-router-transitions";function sw(m){const g=m.window?m.window:typeof window<"u"?window:void 0,t=typeof g<"u"&&typeof g.document<"u"&&typeof g.document.createElement<"u",r=!t;Vt(m.routes.length>0,"You must provide a non-empty routes array to createRouter");let l;if(m.mapRouteProperties)l=m.mapRouteProperties;else if(m.detectErrorBoundary){let V=m.detectErrorBoundary;l=Q=>({hasErrorBoundary:V(Q)})}else l=rw;let a={},u=yf(m.routes,l,void 0,a),p,h=m.basename||"/",f=m.dataStrategy||uw,v=m.patchRoutesOnNavigation,w=mn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},m.future),T=null,R=new Set,L=null,D=null,F=null,z=m.hydrationData!=null,q=ba(u,m.history.location,h),ee=null;if(q==null&&!v){let V=ji(404,{pathname:m.history.location.pathname}),{matches:Q,route:ae}=Wp(u);q=Q,ee={[ae.id]:V}}q&&!m.hydrationData&&gs(q,u,m.history.location.pathname).active&&(q=null);let Le;if(q)if(q.some(V=>V.route.lazy))Le=!1;else if(!q.some(V=>V.route.loader))Le=!0;else if(w.v7_partialHydration){let V=m.hydrationData?m.hydrationData.loaderData:null,Q=m.hydrationData?m.hydrationData.errors:null;if(Q){let ae=q.findIndex(_e=>Q[_e.route.id]!==void 0);Le=q.slice(0,ae+1).every(_e=>!zd(_e.route,V,Q))}else Le=q.every(ae=>!zd(ae.route,V,Q))}else Le=m.hydrationData!=null;else if(Le=!1,q=[],w.v7_partialHydration){let V=gs(null,u,m.history.location.pathname);V.active&&V.matches&&(q=V.matches)}let Se,Z={historyAction:m.history.action,location:m.history.location,matches:q,initialized:Le,navigation:Rd,restoreScrollPosition:m.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:m.hydrationData&&m.hydrationData.loaderData||{},actionData:m.hydrationData&&m.hydrationData.actionData||null,errors:m.hydrationData&&m.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},we=kn.Pop,N=!1,U,te=!1,ve=new Map,ce=null,Fe=!1,Ge=!1,yt=[],dt=new Set,Oe=new Map,pe=0,ye=-1,Re=new Map,j=new Set,se=new Map,ue=new Map,Ne=new Set,He=new Map,Xe=new Map,lt;function Me(){if(T=m.history.listen(V=>{let{action:Q,location:ae,delta:_e}=V;if(lt){lt(),lt=void 0;return}Ia(Xe.size===0||_e!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=tn({currentLocation:Z.location,nextLocation:ae,historyAction:Q});if(Ae&&_e!=null){let tt=new Promise(mt=>{lt=mt});m.history.go(_e*-1),fn(Ae,{state:"blocked",location:ae,proceed(){fn(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),tt.then(()=>m.history.go(_e))},reset(){let mt=new Map(Z.blockers);mt.set(Ae,Lc),Ye({blockers:mt})}});return}return pt(Q,ae)}),t){Sw(g,ve);let V=()=>Ew(g,ve);g.addEventListener("pagehide",V),ce=()=>g.removeEventListener("pagehide",V)}return Z.initialized||pt(kn.Pop,Z.location,{initialHydration:!0}),Se}function Ke(){T&&T(),ce&&ce(),R.clear(),U&&U.abort(),Z.fetchers.forEach((V,Q)=>E(Q)),Z.blockers.forEach((V,Q)=>it(Q))}function Et(V){return R.add(V),()=>R.delete(V)}function Ye(V,Q){Q===void 0&&(Q={}),Z=mn({},Z,V);let ae=[],_e=[];w.v7_fetcherPersist&&Z.fetchers.forEach((Ae,tt)=>{Ae.state==="idle"&&(Ne.has(tt)?_e.push(tt):ae.push(tt))}),Ne.forEach(Ae=>{!Z.fetchers.has(Ae)&&!Oe.has(Ae)&&_e.push(Ae)}),[...R].forEach(Ae=>Ae(Z,{deletedFetchers:_e,viewTransitionOpts:Q.viewTransitionOpts,flushSync:Q.flushSync===!0})),w.v7_fetcherPersist?(ae.forEach(Ae=>Z.fetchers.delete(Ae)),_e.forEach(Ae=>E(Ae))):_e.forEach(Ae=>Ne.delete(Ae))}function Ct(V,Q,ae){var _e,Ae;let{flushSync:tt}=ae===void 0?{}:ae,mt=Z.actionData!=null&&Z.navigation.formMethod!=null&&Br(Z.navigation.formMethod)&&Z.navigation.state==="loading"&&((_e=V.state)==null?void 0:_e._isRedirect)!==!0,qe;Q.actionData?Object.keys(Q.actionData).length>0?qe=Q.actionData:qe=null:mt?qe=Z.actionData:qe=null;let Je=Q.loaderData?Up(Z.loaderData,Q.loaderData,Q.matches||[],Q.errors):Z.loaderData,Ze=Z.blockers;Ze.size>0&&(Ze=new Map(Ze),Ze.forEach((kt,wn)=>Ze.set(wn,Lc)));let st=N===!0||Z.navigation.formMethod!=null&&Br(Z.navigation.formMethod)&&((Ae=V.state)==null?void 0:Ae._isRedirect)!==!0;p&&(u=p,p=void 0),Fe||we===kn.Pop||(we===kn.Push?m.history.push(V,V.state):we===kn.Replace&&m.history.replace(V,V.state));let St;if(we===kn.Pop){let kt=ve.get(Z.location.pathname);kt&&kt.has(V.pathname)?St={currentLocation:Z.location,nextLocation:V}:ve.has(V.pathname)&&(St={currentLocation:V,nextLocation:Z.location})}else if(te){let kt=ve.get(Z.location.pathname);kt?kt.add(V.pathname):(kt=new Set([V.pathname]),ve.set(Z.location.pathname,kt)),St={currentLocation:Z.location,nextLocation:V}}Ye(mn({},Q,{actionData:qe,loaderData:Je,historyAction:we,location:V,initialized:!0,navigation:Rd,revalidation:"idle",restoreScrollPosition:Ao(V,Q.matches||Z.matches),preventScrollReset:st,blockers:Ze}),{viewTransitionOpts:St,flushSync:tt===!0}),we=kn.Pop,N=!1,te=!1,Fe=!1,Ge=!1,yt=[]}async function Bt(V,Q){if(typeof V=="number"){m.history.go(V);return}let ae=Md(Z.location,Z.matches,h,w.v7_prependBasename,V,w.v7_relativeSplatPath,Q==null?void 0:Q.fromRouteId,Q==null?void 0:Q.relative),{path:_e,submission:Ae,error:tt}=Fp(w.v7_normalizeFormMethod,!1,ae,Q),mt=Z.location,qe=Ac(Z.location,_e,Q&&Q.state);qe=mn({},qe,m.history.encodeLocation(qe));let Je=Q&&Q.replace!=null?Q.replace:void 0,Ze=kn.Push;Je===!0?Ze=kn.Replace:Je===!1||Ae!=null&&Br(Ae.formMethod)&&Ae.formAction===Z.location.pathname+Z.location.search&&(Ze=kn.Replace);let st=Q&&"preventScrollReset"in Q?Q.preventScrollReset===!0:void 0,St=(Q&&Q.flushSync)===!0,kt=tn({currentLocation:mt,nextLocation:qe,historyAction:Ze});if(kt){fn(kt,{state:"blocked",location:qe,proceed(){fn(kt,{state:"proceeding",proceed:void 0,reset:void 0,location:qe}),Bt(V,Q)},reset(){let wn=new Map(Z.blockers);wn.set(kt,Lc),Ye({blockers:wn})}});return}return await pt(Ze,qe,{submission:Ae,pendingError:tt,preventScrollReset:st,replace:Q&&Q.replace,enableViewTransition:Q&&Q.viewTransition,flushSync:St})}function Tt(){if(ct(),Ye({revalidation:"loading"}),Z.navigation.state!=="submitting"){if(Z.navigation.state==="idle"){pt(Z.historyAction,Z.location,{startUninterruptedRevalidation:!0});return}pt(we||Z.historyAction,Z.navigation.location,{overrideNavigation:Z.navigation,enableViewTransition:te===!0})}}async function pt(V,Q,ae){U&&U.abort(),U=null,we=V,Fe=(ae&&ae.startUninterruptedRevalidation)===!0,Aa(Z.location,Z.matches),N=(ae&&ae.preventScrollReset)===!0,te=(ae&&ae.enableViewTransition)===!0;let _e=p||u,Ae=ae&&ae.overrideNavigation,tt=ba(_e,Q,h),mt=(ae&&ae.flushSync)===!0,qe=gs(tt,_e,Q.pathname);if(qe.active&&qe.matches&&(tt=qe.matches),!tt){let{error:Zt,notFoundMatches:Mt,route:nn}=ri(Q.pathname);Ct(Q,{matches:Mt,loaderData:{},errors:{[nn.id]:Zt}},{flushSync:mt});return}if(Z.initialized&&!Ge&&gw(Z.location,Q)&&!(ae&&ae.submission&&Br(ae.submission.formMethod))){Ct(Q,{matches:tt},{flushSync:mt});return}U=new AbortController;let Je=au(m.history,Q,U.signal,ae&&ae.submission),Ze;if(ae&&ae.pendingError)Ze=[La(tt).route.id,{type:en.error,error:ae.pendingError}];else if(ae&&ae.submission&&Br(ae.submission.formMethod)){let Zt=await gt(Je,Q,ae.submission,tt,qe.active,{replace:ae.replace,flushSync:mt});if(Zt.shortCircuited)return;if(Zt.pendingActionResult){let[Mt,nn]=Zt.pendingActionResult;if(ir(nn)&&Bc(nn.error)&&nn.error.status===404){U=null,Ct(Q,{matches:Zt.matches,loaderData:{},errors:{[Mt]:nn.error}});return}}tt=Zt.matches||tt,Ze=Zt.pendingActionResult,Ae=Pd(Q,ae.submission),mt=!1,qe.active=!1,Je=au(m.history,Je.url,Je.signal)}let{shortCircuited:st,matches:St,loaderData:kt,errors:wn}=await S(Je,Q,tt,qe.active,Ae,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,mt,Ze);st||(U=null,Ct(Q,mn({matches:St||tt},jp(Ze),{loaderData:kt,errors:wn})))}async function gt(V,Q,ae,_e,Ae,tt){tt===void 0&&(tt={}),ct();let mt=xw(Q,ae);if(Ye({navigation:mt},{flushSync:tt.flushSync===!0}),Ae){let Ze=await Ur(_e,Q.pathname,V.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){let st=La(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,pendingActionResult:[st,{type:en.error,error:Ze.error}]}}else if(Ze.matches)_e=Ze.matches;else{let{notFoundMatches:st,error:St,route:kt}=ri(Q.pathname);return{matches:st,pendingActionResult:[kt.id,{type:en.error,error:St}]}}}let qe,Je=Fc(_e,Q);if(!Je.route.action&&!Je.route.lazy)qe={type:en.error,error:ji(405,{method:V.method,pathname:Q.pathname,routeId:Je.route.id})};else if(qe=(await We("action",Z,V,[Je],_e,null))[Je.route.id],V.signal.aborted)return{shortCircuited:!0};if(Oa(qe)){let Ze;return tt&&tt.replace!=null?Ze=tt.replace:Ze=Np(qe.response.headers.get("Location"),new URL(V.url),h)===Z.location.pathname+Z.location.search,await de(V,qe,!0,{submission:ae,replace:Ze}),{shortCircuited:!0}}if(Oo(qe))throw ji(400,{type:"defer-action"});if(ir(qe)){let Ze=La(_e,Je.route.id);return(tt&&tt.replace)!==!0&&(we=kn.Push),{matches:_e,pendingActionResult:[Ze.route.id,qe]}}return{matches:_e,pendingActionResult:[Je.route.id,qe]}}async function S(V,Q,ae,_e,Ae,tt,mt,qe,Je,Ze,st){let St=Ae||Pd(Q,tt),kt=tt||mt||Gp(St),wn=!Fe&&(!w.v7_partialHydration||!Je);if(_e){if(wn){let Qt=k(st);Ye(mn({navigation:St},Qt!==void 0?{actionData:Qt}:{}),{flushSync:Ze})}let It=await Ur(ae,Q.pathname,V.signal);if(It.type==="aborted")return{shortCircuited:!0};if(It.type==="error"){let Qt=La(It.partialMatches).route.id;return{matches:It.partialMatches,loaderData:{},errors:{[Qt]:It.error}}}else if(It.matches)ae=It.matches;else{let{error:Qt,notFoundMatches:Vi,route:Nn}=ri(Q.pathname);return{matches:Vi,loaderData:{},errors:{[Nn.id]:Qt}}}}let Zt=p||u,[Mt,nn]=Ap(m.history,Z,ae,kt,Q,w.v7_partialHydration&&Je===!0,w.v7_skipActionErrorRevalidation,Ge,yt,dt,Ne,se,j,Zt,h,st);if(si(It=>!(ae&&ae.some(Qt=>Qt.route.id===It))||Mt&&Mt.some(Qt=>Qt.route.id===It)),ye=++pe,Mt.length===0&&nn.length===0){let It=Ee();return Ct(Q,mn({matches:ae,loaderData:{},errors:st&&ir(st[1])?{[st[0]]:st[1].error}:null},jp(st),It?{fetchers:new Map(Z.fetchers)}:{}),{flushSync:Ze}),{shortCircuited:!0}}if(wn){let It={};if(!_e){It.navigation=St;let Qt=k(st);Qt!==void 0&&(It.actionData=Qt)}nn.length>0&&(It.fetchers=K(nn)),Ye(It,{flushSync:Ze})}nn.forEach(It=>{M(It.key),It.controller&&Oe.set(It.key,It.controller)});let xr=()=>nn.forEach(It=>M(It.key));U&&U.signal.addEventListener("abort",xr);let{loaderResults:jr,fetcherResults:oi}=await ut(Z,ae,Mt,nn,V);if(V.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",xr),nn.forEach(It=>Oe.delete(It.key));let Ci=uf(jr);if(Ci)return await de(V,Ci.result,!0,{replace:qe}),{shortCircuited:!0};if(Ci=uf(oi),Ci)return j.add(Ci.key),await de(V,Ci.result,!0,{replace:qe}),{shortCircuited:!0};let{loaderData:Xt,errors:ms}=Hp(Z,ae,jr,st,nn,oi,He);He.forEach((It,Qt)=>{It.subscribe(Vi=>{(Vi||It.done)&&He.delete(Qt)})}),w.v7_partialHydration&&Je&&Z.errors&&(ms=mn({},Z.errors,ms));let Wi=Ee(),vs=nt(ye),rr=Wi||vs||nn.length>0;return mn({matches:ae,loaderData:Xt,errors:ms},rr?{fetchers:new Map(Z.fetchers)}:{})}function k(V){if(V&&!ir(V[1]))return{[V[0]]:V[1].data};if(Z.actionData)return Object.keys(Z.actionData).length===0?null:Z.actionData}function K(V){return V.forEach(Q=>{let ae=Z.fetchers.get(Q.key),_e=Oc(void 0,ae?ae.data:void 0);Z.fetchers.set(Q.key,_e)}),new Map(Z.fetchers)}function he(V,Q,ae,_e){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");M(V);let Ae=(_e&&_e.flushSync)===!0,tt=p||u,mt=Md(Z.location,Z.matches,h,w.v7_prependBasename,ae,w.v7_relativeSplatPath,Q,_e==null?void 0:_e.relative),qe=ba(tt,mt,h),Je=gs(qe,tt,mt);if(Je.active&&Je.matches&&(qe=Je.matches),!qe){ht(V,Q,ji(404,{pathname:mt}),{flushSync:Ae});return}let{path:Ze,submission:st,error:St}=Fp(w.v7_normalizeFormMethod,!0,mt,_e);if(St){ht(V,Q,St,{flushSync:Ae});return}let kt=Fc(qe,Ze),wn=(_e&&_e.preventScrollReset)===!0;if(st&&Br(st.formMethod)){xe(V,Q,Ze,kt,qe,Je.active,Ae,wn,st);return}se.set(V,{routeId:Q,path:Ze}),Ie(V,Q,Ze,kt,qe,Je.active,Ae,wn,st)}async function xe(V,Q,ae,_e,Ae,tt,mt,qe,Je){ct(),se.delete(V);function Ze(dn){if(!dn.route.action&&!dn.route.lazy){let bn=ji(405,{method:Je.formMethod,pathname:ae,routeId:Q});return ht(V,Q,bn,{flushSync:mt}),!0}return!1}if(!tt&&Ze(_e))return;let st=Z.fetchers.get(V);ze(V,Tw(Je,st),{flushSync:mt});let St=new AbortController,kt=au(m.history,ae,St.signal,Je);if(tt){let dn=await Ur(Ae,ae,kt.signal);if(dn.type==="aborted")return;if(dn.type==="error"){ht(V,Q,dn.error,{flushSync:mt});return}else if(dn.matches){if(Ae=dn.matches,_e=Fc(Ae,ae),Ze(_e))return}else{ht(V,Q,ji(404,{pathname:ae}),{flushSync:mt});return}}Oe.set(V,St);let wn=pe,Mt=(await We("action",Z,kt,[_e],Ae,V))[_e.route.id];if(kt.signal.aborted){Oe.get(V)===St&&Oe.delete(V);return}if(w.v7_fetcherPersist&&Ne.has(V)){if(Oa(Mt)||ir(Mt)){ze(V,Lo(void 0));return}}else{if(Oa(Mt))if(Oe.delete(V),ye>wn){ze(V,Lo(void 0));return}else return j.add(V),ze(V,Oc(Je)),de(kt,Mt,!1,{fetcherSubmission:Je,preventScrollReset:qe});if(ir(Mt)){ht(V,Q,Mt.error);return}}if(Oo(Mt))throw ji(400,{type:"defer-action"});let nn=Z.navigation.location||Z.location,xr=au(m.history,nn,St.signal),jr=p||u,oi=Z.navigation.state!=="idle"?ba(jr,Z.navigation.location,h):Z.matches;Vt(oi,"Didn't find any matches after fetcher action");let Ci=++pe;Re.set(V,Ci);let Xt=Oc(Je,Mt.data);Z.fetchers.set(V,Xt);let[ms,Wi]=Ap(m.history,Z,oi,Je,nn,!1,w.v7_skipActionErrorRevalidation,Ge,yt,dt,Ne,se,j,jr,h,[_e.route.id,Mt]);Wi.filter(dn=>dn.key!==V).forEach(dn=>{let bn=dn.key,zo=Z.fetchers.get(bn),za=Oc(void 0,zo?zo.data:void 0);Z.fetchers.set(bn,za),M(bn),dn.controller&&Oe.set(bn,dn.controller)}),Ye({fetchers:new Map(Z.fetchers)});let vs=()=>Wi.forEach(dn=>M(dn.key));St.signal.addEventListener("abort",vs);let{loaderResults:rr,fetcherResults:It}=await ut(Z,oi,ms,Wi,xr);if(St.signal.aborted)return;St.signal.removeEventListener("abort",vs),Re.delete(V),Oe.delete(V),Wi.forEach(dn=>Oe.delete(dn.key));let Qt=uf(rr);if(Qt)return de(xr,Qt.result,!1,{preventScrollReset:qe});if(Qt=uf(It),Qt)return j.add(Qt.key),de(xr,Qt.result,!1,{preventScrollReset:qe});let{loaderData:Vi,errors:Nn}=Hp(Z,oi,rr,void 0,Wi,It,He);if(Z.fetchers.has(V)){let dn=Lo(Mt.data);Z.fetchers.set(V,dn)}nt(Ci),Z.navigation.state==="loading"&&Ci>ye?(Vt(we,"Expected pending action"),U&&U.abort(),Ct(Z.navigation.location,{matches:oi,loaderData:Vi,errors:Nn,fetchers:new Map(Z.fetchers)})):(Ye({errors:Nn,loaderData:Up(Z.loaderData,Vi,oi,Nn),fetchers:new Map(Z.fetchers)}),Ge=!1)}async function Ie(V,Q,ae,_e,Ae,tt,mt,qe,Je){let Ze=Z.fetchers.get(V);ze(V,Oc(Je,Ze?Ze.data:void 0),{flushSync:mt});let st=new AbortController,St=au(m.history,ae,st.signal);if(tt){let Mt=await Ur(Ae,ae,St.signal);if(Mt.type==="aborted")return;if(Mt.type==="error"){ht(V,Q,Mt.error,{flushSync:mt});return}else if(Mt.matches)Ae=Mt.matches,_e=Fc(Ae,ae);else{ht(V,Q,ji(404,{pathname:ae}),{flushSync:mt});return}}Oe.set(V,st);let kt=pe,Zt=(await We("loader",Z,St,[_e],Ae,V))[_e.route.id];if(Oo(Zt)&&(Zt=await Xd(Zt,St.signal,!0)||Zt),Oe.get(V)===st&&Oe.delete(V),!St.signal.aborted){if(Ne.has(V)){ze(V,Lo(void 0));return}if(Oa(Zt))if(ye>kt){ze(V,Lo(void 0));return}else{j.add(V),await de(St,Zt,!1,{preventScrollReset:qe});return}if(ir(Zt)){ht(V,Q,Zt.error);return}Vt(!Oo(Zt),"Unhandled fetcher deferred data"),ze(V,Lo(Zt.data))}}async function de(V,Q,ae,_e){let{submission:Ae,fetcherSubmission:tt,preventScrollReset:mt,replace:qe}=_e===void 0?{}:_e;Q.response.headers.has("X-Remix-Revalidate")&&(Ge=!0);let Je=Q.response.headers.get("Location");Vt(Je,"Expected a Location header on the redirect Response"),Je=Np(Je,new URL(V.url),h);let Ze=Ac(Z.location,Je,{_isRedirect:!0});if(t){let Mt=!1;if(Q.response.headers.has("X-Remix-Reload-Document"))Mt=!0;else if(Zd.test(Je)){const nn=m.history.createURL(Je);Mt=nn.origin!==g.location.origin||Nc(nn.pathname,h)==null}if(Mt){qe?g.location.replace(Je):g.location.assign(Je);return}}U=null;let st=qe===!0||Q.response.headers.has("X-Remix-Replace")?kn.Replace:kn.Push,{formMethod:St,formAction:kt,formEncType:wn}=Z.navigation;!Ae&&!tt&&St&&kt&&wn&&(Ae=Gp(Z.navigation));let Zt=Ae||tt;if(nw.has(Q.response.status)&&Zt&&Br(Zt.formMethod))await pt(st,Ze,{submission:mn({},Zt,{formAction:Je}),preventScrollReset:mt||N,enableViewTransition:ae?te:void 0});else{let Mt=Pd(Ze,Ae);await pt(st,Ze,{overrideNavigation:Mt,fetcherSubmission:tt,preventScrollReset:mt||N,enableViewTransition:ae?te:void 0})}}async function We(V,Q,ae,_e,Ae,tt){let mt,qe={};try{mt=await cw(f,V,Q,ae,_e,Ae,tt,a,l)}catch(Je){return _e.forEach(Ze=>{qe[Ze.route.id]={type:en.error,error:Je}}),qe}for(let[Je,Ze]of Object.entries(mt))if(mw(Ze)){let st=Ze.result;qe[Je]={type:en.redirect,response:dw(st,ae,Je,Ae,h,w.v7_relativeSplatPath)}}else qe[Je]=await fw(Ze);return qe}async function ut(V,Q,ae,_e,Ae){let tt=V.matches,mt=We("loader",V,Ae,ae,Q,null),qe=Promise.all(_e.map(async st=>{if(st.matches&&st.match&&st.controller){let kt=(await We("loader",V,au(m.history,st.path,st.controller.signal),[st.match],st.matches,st.key))[st.match.route.id];return{[st.key]:kt}}else return Promise.resolve({[st.key]:{type:en.error,error:ji(404,{pathname:st.path})}})})),Je=await mt,Ze=(await qe).reduce((st,St)=>Object.assign(st,St),{});return await Promise.all([ww(Q,Je,Ae.signal,tt,V.loaderData),_w(Q,Ze,_e)]),{loaderResults:Je,fetcherResults:Ze}}function ct(){Ge=!0,yt.push(...si()),se.forEach((V,Q)=>{Oe.has(Q)&&dt.add(Q),M(Q)})}function ze(V,Q,ae){ae===void 0&&(ae={}),Z.fetchers.set(V,Q),Ye({fetchers:new Map(Z.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function ht(V,Q,ae,_e){_e===void 0&&(_e={});let Ae=La(Z.matches,Q);E(V),Ye({errors:{[Ae.route.id]:ae},fetchers:new Map(Z.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function C(V){return ue.set(V,(ue.get(V)||0)+1),Ne.has(V)&&Ne.delete(V),Z.fetchers.get(V)||iw}function E(V){let Q=Z.fetchers.get(V);Oe.has(V)&&!(Q&&Q.state==="loading"&&Re.has(V))&&M(V),se.delete(V),Re.delete(V),j.delete(V),w.v7_fetcherPersist&&Ne.delete(V),dt.delete(V),Z.fetchers.delete(V)}function I(V){let Q=(ue.get(V)||0)-1;Q<=0?(ue.delete(V),Ne.add(V),w.v7_fetcherPersist||E(V)):ue.set(V,Q),Ye({fetchers:new Map(Z.fetchers)})}function M(V){let Q=Oe.get(V);Q&&(Q.abort(),Oe.delete(V))}function le(V){for(let Q of V){let ae=C(Q),_e=Lo(ae.data);Z.fetchers.set(Q,_e)}}function Ee(){let V=[],Q=!1;for(let ae of j){let _e=Z.fetchers.get(ae);Vt(_e,"Expected fetcher: "+ae),_e.state==="loading"&&(j.delete(ae),V.push(ae),Q=!0)}return le(V),Q}function nt(V){let Q=[];for(let[ae,_e]of Re)if(_e<V){let Ae=Z.fetchers.get(ae);Vt(Ae,"Expected fetcher: "+ae),Ae.state==="loading"&&(M(ae),Re.delete(ae),Q.push(ae))}return le(Q),Q.length>0}function Ot(V,Q){let ae=Z.blockers.get(V)||Lc;return Xe.get(V)!==Q&&Xe.set(V,Q),ae}function it(V){Z.blockers.delete(V),Xe.delete(V)}function fn(V,Q){let ae=Z.blockers.get(V)||Lc;Vt(ae.state==="unblocked"&&Q.state==="blocked"||ae.state==="blocked"&&Q.state==="blocked"||ae.state==="blocked"&&Q.state==="proceeding"||ae.state==="blocked"&&Q.state==="unblocked"||ae.state==="proceeding"&&Q.state==="unblocked","Invalid blocker state transition: "+ae.state+" -> "+Q.state);let _e=new Map(Z.blockers);_e.set(V,Q),Ye({blockers:_e})}function tn(V){let{currentLocation:Q,nextLocation:ae,historyAction:_e}=V;if(Xe.size===0)return;Xe.size>1&&Ia(!1,"A router only supports one blocker at a time");let Ae=Array.from(Xe.entries()),[tt,mt]=Ae[Ae.length-1],qe=Z.blockers.get(tt);if(!(qe&&qe.state==="proceeding")&&mt({currentLocation:Q,nextLocation:ae,historyAction:_e}))return tt}function ri(V){let Q=ji(404,{pathname:V}),ae=p||u,{matches:_e,route:Ae}=Wp(ae);return si(),{notFoundMatches:_e,route:Ae,error:Q}}function si(V){let Q=[];return He.forEach((ae,_e)=>{(!V||V(_e))&&(ae.cancel(),Q.push(_e),He.delete(_e))}),Q}function Ei(V,Q,ae){if(L=V,F=Q,D=ae||null,!z&&Z.navigation===Rd){z=!0;let _e=Ao(Z.location,Z.matches);_e!=null&&Ye({restoreScrollPosition:_e})}return()=>{L=null,F=null,D=null}}function Hr(V,Q){return D&&D(V,Q.map(_e=>ky(_e,Z.loaderData)))||V.key}function Aa(V,Q){if(L&&F){let ae=Hr(V,Q);L[ae]=F()}}function Ao(V,Q){if(L){let ae=Hr(V,Q),_e=L[ae];if(typeof _e=="number")return _e}return null}function gs(V,Q,ae){if(v)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:pf(Q,ae,h,!0)}}else return{active:!0,matches:pf(Q,ae,h,!0)||[]};return{active:!1,matches:null}}async function Ur(V,Q,ae){if(!v)return{type:"success",matches:V};let _e=V;for(;;){let Ae=p==null,tt=p||u,mt=a;try{await v({path:Q,matches:_e,patch:(Ze,st)=>{ae.aborted||zp(Ze,st,tt,mt,l)}})}catch(Ze){return{type:"error",error:Ze,partialMatches:_e}}finally{Ae&&!ae.aborted&&(u=[...u])}if(ae.aborted)return{type:"aborted"};let qe=ba(tt,Q,h);if(qe)return{type:"success",matches:qe};let Je=pf(tt,Q,h,!0);if(!Je||_e.length===Je.length&&_e.every((Ze,st)=>Ze.route.id===Je[st].route.id))return{type:"success",matches:null};_e=Je}}function Mo(V){a={},p=yf(V,l,void 0,a)}function Ma(V,Q){let ae=p==null;zp(V,Q,p||u,a,l),ae&&(u=[...u],Ye({}))}return Se={get basename(){return h},get future(){return w},get state(){return Z},get routes(){return u},get window(){return g},initialize:Me,subscribe:Et,enableScrollRestoration:Ei,navigate:Bt,fetch:he,revalidate:Tt,createHref:V=>m.history.createHref(V),encodeLocation:V=>m.history.encodeLocation(V),getFetcher:C,deleteFetcher:I,dispose:Ke,getBlocker:Ot,deleteBlocker:it,patchRoutes:Ma,_internalFetchControllers:Oe,_internalActiveDeferreds:He,_internalSetRoutes:Mo},Se}function ow(m){return m!=null&&("formData"in m&&m.formData!=null||"body"in m&&m.body!==void 0)}function Md(m,g,t,r,l,a,u,p){let h,f;if(u){h=[];for(let w of g)if(h.push(w),w.route.id===u){f=w;break}}else h=g,f=g[g.length-1];let v=Xy(l||".",Zy(h,a),Nc(m.pathname,t)||m.pathname,p==="path");if(l==null&&(v.search=m.search,v.hash=m.hash),(l==null||l===""||l===".")&&f){let w=Kd(v.search);if(f.route.index&&!w)v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&w){let T=new URLSearchParams(v.search),R=T.getAll("index");T.delete("index"),R.filter(D=>D).forEach(D=>T.append("index",D));let L=T.toString();v.search=L?"?"+L:""}}return r&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ka([t,v.pathname])),zc(v)}function Fp(m,g,t,r){if(!r||!ow(r))return{path:t};if(r.formMethod&&!yw(r.formMethod))return{path:t,error:ji(405,{method:r.formMethod})};let l=()=>({path:t,error:ji(400,{type:"invalid-body"})}),a=r.formMethod||"get",u=m?a.toUpperCase():a.toLowerCase(),p=Tg(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Br(u))return l();let T=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,L)=>{let[D,F]=L;return""+R+D+"="+F+`
`},""):String(r.body);return{path:t,submission:{formMethod:u,formAction:p,formEncType:r.formEncType,formData:void 0,json:void 0,text:T}}}else if(r.formEncType==="application/json"){if(!Br(u))return l();try{let T=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:u,formAction:p,formEncType:r.formEncType,formData:void 0,json:T,text:void 0}}}catch{return l()}}}Vt(typeof FormData=="function","FormData is not available in this environment");let h,f;if(r.formData)h=Nd(r.formData),f=r.formData;else if(r.body instanceof FormData)h=Nd(r.body),f=r.body;else if(r.body instanceof URLSearchParams)h=r.body,f=Bp(h);else if(r.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(r.body),f=Bp(h)}catch{return l()}let v={formMethod:u,formAction:p,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Br(v.formMethod))return{path:t,submission:v};let w=Gs(t);return g&&w.search&&Kd(w.search)&&h.append("index",""),w.search="?"+h,{path:zc(w),submission:v}}function Ip(m,g,t){t===void 0&&(t=!1);let r=m.findIndex(l=>l.route.id===g);return r>=0?m.slice(0,t?r+1:r):m}function Ap(m,g,t,r,l,a,u,p,h,f,v,w,T,R,L,D){let F=D?ir(D[1])?D[1].error:D[1].data:void 0,z=m.createURL(g.location),q=m.createURL(l),ee=t;a&&g.errors?ee=Ip(t,Object.keys(g.errors)[0],!0):D&&ir(D[1])&&(ee=Ip(t,D[0]));let Le=D?D[1].statusCode:void 0,Se=u&&Le&&Le>=400,Z=ee.filter((N,U)=>{let{route:te}=N;if(te.lazy)return!0;if(te.loader==null)return!1;if(a)return zd(te,g.loaderData,g.errors);if(aw(g.loaderData,g.matches[U],N)||h.some(Fe=>Fe===N.route.id))return!0;let ve=g.matches[U],ce=N;return Mp(N,mn({currentUrl:z,currentParams:ve.params,nextUrl:q,nextParams:ce.params},r,{actionResult:F,actionStatus:Le,defaultShouldRevalidate:Se?!1:p||z.pathname+z.search===q.pathname+q.search||z.search!==q.search||_g(ve,ce)}))}),we=[];return w.forEach((N,U)=>{if(a||!t.some(Ge=>Ge.route.id===N.routeId)||v.has(U))return;let te=ba(R,N.path,L);if(!te){we.push({key:U,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let ve=g.fetchers.get(U),ce=Fc(te,N.path),Fe=!1;T.has(U)?Fe=!1:f.has(U)?(f.delete(U),Fe=!0):ve&&ve.state!=="idle"&&ve.data===void 0?Fe=p:Fe=Mp(ce,mn({currentUrl:z,currentParams:g.matches[g.matches.length-1].params,nextUrl:q,nextParams:t[t.length-1].params},r,{actionResult:F,actionStatus:Le,defaultShouldRevalidate:Se?!1:p})),Fe&&we.push({key:U,routeId:N.routeId,path:N.path,matches:te,match:ce,controller:new AbortController})}),[Z,we]}function zd(m,g,t){if(m.lazy)return!0;if(!m.loader)return!1;let r=g!=null&&g[m.id]!==void 0,l=t!=null&&t[m.id]!==void 0;return!r&&l?!1:typeof m.loader=="function"&&m.loader.hydrate===!0?!0:!r&&!l}function aw(m,g,t){let r=!g||t.route.id!==g.route.id,l=m[t.route.id]===void 0;return r||l}function _g(m,g){let t=m.route.path;return m.pathname!==g.pathname||t!=null&&t.endsWith("*")&&m.params["*"]!==g.params["*"]}function Mp(m,g){if(m.route.shouldRevalidate){let t=m.route.shouldRevalidate(g);if(typeof t=="boolean")return t}return g.defaultShouldRevalidate}function zp(m,g,t,r,l){var a;let u;if(m){let f=r[m];Vt(f,"No route found to patch children into: routeId = "+m),f.children||(f.children=[]),u=f.children}else u=t;let p=g.filter(f=>!u.some(v=>xg(f,v))),h=yf(p,l,[m||"_","patch",String(((a=u)==null?void 0:a.length)||"0")],r);u.push(...h)}function xg(m,g){return"id"in m&&"id"in g&&m.id===g.id?!0:m.index===g.index&&m.path===g.path&&m.caseSensitive===g.caseSensitive?(!m.children||m.children.length===0)&&(!g.children||g.children.length===0)?!0:m.children.every((t,r)=>{var l;return(l=g.children)==null?void 0:l.some(a=>xg(t,a))}):!1}async function lw(m,g,t){if(!m.lazy)return;let r=await m.lazy();if(!m.lazy)return;let l=t[m.id];Vt(l,"No route found in manifest");let a={};for(let u in r){let h=l[u]!==void 0&&u!=="hasErrorBoundary";Ia(!h,'Route "'+l.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+u+'" will be ignored.')),!h&&!Ly.has(u)&&(a[u]=r[u])}Object.assign(l,a),Object.assign(l,mn({},g(l),{lazy:void 0}))}async function uw(m){let{matches:g}=m,t=g.filter(l=>l.shouldLoad);return(await Promise.all(t.map(l=>l.resolve()))).reduce((l,a,u)=>Object.assign(l,{[t[u].route.id]:a}),{})}async function cw(m,g,t,r,l,a,u,p,h,f){let v=a.map(R=>R.route.lazy?lw(R.route,h,p):void 0),w=a.map((R,L)=>{let D=v[L],F=l.some(q=>q.route.id===R.route.id);return mn({},R,{shouldLoad:F,resolve:async q=>(q&&r.method==="GET"&&(R.route.lazy||R.route.loader)&&(F=!0),F?hw(g,r,R,D,q,f):Promise.resolve({type:en.data,result:void 0}))})}),T=await m({matches:w,request:r,params:a[0].params,fetcherKey:u,context:f});try{await Promise.all(v)}catch{}return T}async function hw(m,g,t,r,l,a){let u,p,h=f=>{let v,w=new Promise((L,D)=>v=D);p=()=>v(),g.signal.addEventListener("abort",p);let T=L=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+m+'" [routeId: '+t.route.id+"]"))):f({request:g,params:t.params,context:a},...L!==void 0?[L]:[]),R=(async()=>{try{return{type:"data",result:await(l?l(D=>T(D)):T())}}catch(L){return{type:"error",result:L}}})();return Promise.race([R,w])};try{let f=t.route[m];if(r)if(f){let v,[w]=await Promise.all([h(f).catch(T=>{v=T}),r]);if(v!==void 0)throw v;u=w}else if(await r,f=t.route[m],f)u=await h(f);else if(m==="action"){let v=new URL(g.url),w=v.pathname+v.search;throw ji(405,{method:g.method,pathname:w,routeId:t.route.id})}else return{type:en.data,result:void 0};else if(f)u=await h(f);else{let v=new URL(g.url),w=v.pathname+v.search;throw ji(404,{pathname:w})}Vt(u.result!==void 0,"You defined "+(m==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+m+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:en.error,result:f}}finally{p&&g.signal.removeEventListener("abort",p)}return u}async function fw(m){let{result:g,type:t}=m;if(Sg(g)){let f;try{let v=g.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?g.body==null?f=null:f=await g.json():f=await g.text()}catch(v){return{type:en.error,error:v}}return t===en.error?{type:en.error,error:new wf(g.status,g.statusText,f),statusCode:g.status,headers:g.headers}:{type:en.data,data:f,statusCode:g.status,headers:g.headers}}if(t===en.error){if(Vp(g)){var r;if(g.data instanceof Error){var l;return{type:en.error,error:g.data,statusCode:(l=g.init)==null?void 0:l.status}}g=new wf(((r=g.init)==null?void 0:r.status)||500,void 0,g.data)}return{type:en.error,error:g,statusCode:Bc(g)?g.status:void 0}}if(vw(g)){var a,u;return{type:en.deferred,deferredData:g,statusCode:(a=g.init)==null?void 0:a.status,headers:((u=g.init)==null?void 0:u.headers)&&new Headers(g.init.headers)}}if(Vp(g)){var p,h;return{type:en.data,data:g.data,statusCode:(p=g.init)==null?void 0:p.status,headers:(h=g.init)!=null&&h.headers?new Headers(g.init.headers):void 0}}return{type:en.data,data:g}}function dw(m,g,t,r,l,a){let u=m.headers.get("Location");if(Vt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zd.test(u)){let p=r.slice(0,r.findIndex(h=>h.route.id===t)+1);u=Md(new URL(g.url),p,l,!0,u,a),m.headers.set("Location",u)}return m}function Np(m,g,t){if(Zd.test(m)){let r=m,l=r.startsWith("//")?new URL(g.protocol+r):new URL(r),a=Nc(l.pathname,t)!=null;if(l.origin===g.origin&&a)return l.pathname+l.search+l.hash}return m}function au(m,g,t,r){let l=m.createURL(Tg(g)).toString(),a={signal:t};if(r&&Br(r.formMethod)){let{formMethod:u,formEncType:p}=r;a.method=u.toUpperCase(),p==="application/json"?(a.headers=new Headers({"Content-Type":p}),a.body=JSON.stringify(r.json)):p==="text/plain"?a.body=r.text:p==="application/x-www-form-urlencoded"&&r.formData?a.body=Nd(r.formData):a.body=r.formData}return new Request(l,a)}function Nd(m){let g=new URLSearchParams;for(let[t,r]of m.entries())g.append(t,typeof r=="string"?r:r.name);return g}function Bp(m){let g=new FormData;for(let[t,r]of m.entries())g.append(t,r);return g}function pw(m,g,t,r,l){let a={},u=null,p,h=!1,f={},v=t&&ir(t[1])?t[1].error:void 0;return m.forEach(w=>{if(!(w.route.id in g))return;let T=w.route.id,R=g[T];if(Vt(!Oa(R),"Cannot handle redirect results in processLoaderData"),ir(R)){let L=R.error;v!==void 0&&(L=v,v=void 0),u=u||{};{let D=La(m,T);u[D.route.id]==null&&(u[D.route.id]=L)}a[T]=void 0,h||(h=!0,p=Bc(R.error)?R.error.status:500),R.headers&&(f[T]=R.headers)}else Oo(R)?(r.set(T,R.deferredData),a[T]=R.deferredData.data,R.statusCode!=null&&R.statusCode!==200&&!h&&(p=R.statusCode),R.headers&&(f[T]=R.headers)):(a[T]=R.data,R.statusCode&&R.statusCode!==200&&!h&&(p=R.statusCode),R.headers&&(f[T]=R.headers))}),v!==void 0&&t&&(u={[t[0]]:v},a[t[0]]=void 0),{loaderData:a,errors:u,statusCode:p||200,loaderHeaders:f}}function Hp(m,g,t,r,l,a,u){let{loaderData:p,errors:h}=pw(g,t,r,u);return l.forEach(f=>{let{key:v,match:w,controller:T}=f,R=a[v];if(Vt(R,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(ir(R)){let L=La(m.matches,w==null?void 0:w.route.id);h&&h[L.route.id]||(h=mn({},h,{[L.route.id]:R.error})),m.fetchers.delete(v)}else if(Oa(R))Vt(!1,"Unhandled fetcher revalidation redirect");else if(Oo(R))Vt(!1,"Unhandled fetcher deferred data");else{let L=Lo(R.data);m.fetchers.set(v,L)}}),{loaderData:p,errors:h}}function Up(m,g,t,r){let l=mn({},g);for(let a of t){let u=a.route.id;if(g.hasOwnProperty(u)?g[u]!==void 0&&(l[u]=g[u]):m[u]!==void 0&&a.route.loader&&(l[u]=m[u]),r&&r.hasOwnProperty(u))break}return l}function jp(m){return m?ir(m[1])?{actionData:{}}:{actionData:{[m[0]]:m[1].data}}:{}}function La(m,g){return(g?m.slice(0,m.findIndex(r=>r.route.id===g)+1):[...m]).reverse().find(r=>r.route.hasErrorBoundary===!0)||m[0]}function Wp(m){let g=m.length===1?m[0]:m.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:g}],route:g}}function ji(m,g){let{pathname:t,routeId:r,method:l,type:a,message:u}=g===void 0?{}:g,p="Unknown Server Error",h="Unknown @remix-run/router error";return m===400?(p="Bad Request",l&&t&&r?h="You made a "+l+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?h="defer() is not supported in actions":a==="invalid-body"&&(h="Unable to encode submission body")):m===403?(p="Forbidden",h='Route "'+r+'" does not match URL "'+t+'"'):m===404?(p="Not Found",h='No route matches URL "'+t+'"'):m===405&&(p="Method Not Allowed",l&&t&&r?h="You made a "+l.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":l&&(h='Invalid request method "'+l.toUpperCase()+'"')),new wf(m||500,p,new Error(h),!0)}function uf(m){let g=Object.entries(m);for(let t=g.length-1;t>=0;t--){let[r,l]=g[t];if(Oa(l))return{key:r,result:l}}}function Tg(m){let g=typeof m=="string"?Gs(m):m;return zc(mn({},g,{hash:""}))}function gw(m,g){return m.pathname!==g.pathname||m.search!==g.search?!1:m.hash===""?g.hash!=="":m.hash===g.hash?!0:g.hash!==""}function mw(m){return Sg(m.result)&&tw.has(m.result.status)}function Oo(m){return m.type===en.deferred}function ir(m){return m.type===en.error}function Oa(m){return(m&&m.type)===en.redirect}function Vp(m){return typeof m=="object"&&m!=null&&"type"in m&&"data"in m&&"init"in m&&m.type==="DataWithResponseInit"}function vw(m){let g=m;return g&&typeof g=="object"&&typeof g.data=="object"&&typeof g.subscribe=="function"&&typeof g.cancel=="function"&&typeof g.resolveData=="function"}function Sg(m){return m!=null&&typeof m.status=="number"&&typeof m.statusText=="string"&&typeof m.headers=="object"&&typeof m.body<"u"}function yw(m){return ew.has(m.toLowerCase())}function Br(m){return Jy.has(m.toLowerCase())}async function ww(m,g,t,r,l){let a=Object.entries(g);for(let u=0;u<a.length;u++){let[p,h]=a[u],f=m.find(T=>(T==null?void 0:T.route.id)===p);if(!f)continue;let v=r.find(T=>T.route.id===f.route.id),w=v!=null&&!_g(v,f)&&(l&&l[f.route.id])!==void 0;Oo(h)&&w&&await Xd(h,t,!1).then(T=>{T&&(g[p]=T)})}}async function _w(m,g,t){for(let r=0;r<t.length;r++){let{key:l,routeId:a,controller:u}=t[r],p=g[l];m.find(f=>(f==null?void 0:f.route.id)===a)&&Oo(p)&&(Vt(u,"Expected an AbortController for revalidating fetcher deferred result"),await Xd(p,u.signal,!0).then(f=>{f&&(g[l]=f)}))}}async function Xd(m,g,t){if(t===void 0&&(t=!1),!await m.deferredData.resolveData(g)){if(t)try{return{type:en.data,data:m.deferredData.unwrappedData}}catch(l){return{type:en.error,error:l}}return{type:en.data,data:m.deferredData.data}}}function Kd(m){return new URLSearchParams(m).getAll("index").some(g=>g==="")}function Fc(m,g){let t=typeof g=="string"?Gs(g).search:g.search;if(m[m.length-1].route.index&&Kd(t||""))return m[m.length-1];let r=vg(m);return r[r.length-1]}function Gp(m){let{formMethod:g,formAction:t,formEncType:r,text:l,formData:a,json:u}=m;if(!(!g||!t||!r)){if(l!=null)return{formMethod:g,formAction:t,formEncType:r,formData:void 0,json:void 0,text:l};if(a!=null)return{formMethod:g,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:g,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function Pd(m,g){return g?{state:"loading",location:m,formMethod:g.formMethod,formAction:g.formAction,formEncType:g.formEncType,formData:g.formData,json:g.json,text:g.text}:{state:"loading",location:m,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function xw(m,g){return{state:"submitting",location:m,formMethod:g.formMethod,formAction:g.formAction,formEncType:g.formEncType,formData:g.formData,json:g.json,text:g.text}}function Oc(m,g){return m?{state:"loading",formMethod:m.formMethod,formAction:m.formAction,formEncType:m.formEncType,formData:m.formData,json:m.json,text:m.text,data:g}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:g}}function Tw(m,g){return{state:"submitting",formMethod:m.formMethod,formAction:m.formAction,formEncType:m.formEncType,formData:m.formData,json:m.json,text:m.text,data:g?g.data:void 0}}function Lo(m){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:m}}function Sw(m,g){try{let t=m.sessionStorage.getItem(wg);if(t){let r=JSON.parse(t);for(let[l,a]of Object.entries(r||{}))a&&Array.isArray(a)&&g.set(l,new Set(a||[]))}}catch{}}function Ew(m,g){if(g.size>0){let t={};for(let[r,l]of g)t[r]=[...l];try{m.sessionStorage.setItem(wg,JSON.stringify(t))}catch(r){Ia(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bd(){return Bd=Object.assign?Object.assign.bind():function(m){for(var g=1;g<arguments.length;g++){var t=arguments[g];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(m[r]=t[r])}return m},Bd.apply(this,arguments)}const Eg=De.createContext(null),Cg=De.createContext(null),Rg=De.createContext(null),Yd=De.createContext(null),Hc=De.createContext({outlet:null,matches:[],isDataRoute:!1}),Pg=De.createContext(null);function Qd(){return De.useContext(Yd)!=null}function Dg(){return Qd()||Vt(!1),De.useContext(Yd).location}const Cw=De.createContext(null);function Rw(m){let g=De.useContext(Hc).outlet;return g&&De.createElement(Cw.Provider,{value:m},g)}function Pw(m,g,t,r){Qd()||Vt(!1);let{navigator:l}=De.useContext(Rg),{matches:a}=De.useContext(Hc),u=a[a.length-1],p=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let f=Dg(),v;v=f;let w=v.pathname||"/",T=w;if(h!=="/"){let D=h.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let R=ba(m,{pathname:T});return kw(R&&R.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:ka([h,l.encodeLocation?l.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?h:ka([h,l.encodeLocation?l.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,r)}function Dw(){let m=Og(),g=Bc(m)?m.status+" "+m.statusText:m instanceof Error?m.message:JSON.stringify(m),t=m instanceof Error?m.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return De.createElement(De.Fragment,null,De.createElement("h2",null,"Unexpected Application Error!"),De.createElement("h3",{style:{fontStyle:"italic"}},g),t?De.createElement("pre",{style:l},t):null,null)}const bw=De.createElement(Dw,null);class Lw extends De.Component{constructor(g){super(g),this.state={location:g.location,revalidation:g.revalidation,error:g.error}}static getDerivedStateFromError(g){return{error:g}}static getDerivedStateFromProps(g,t){return t.location!==g.location||t.revalidation!=="idle"&&g.revalidation==="idle"?{error:g.error,location:g.location,revalidation:g.revalidation}:{error:g.error!==void 0?g.error:t.error,location:t.location,revalidation:g.revalidation||t.revalidation}}componentDidCatch(g,t){console.error("React Router caught the following error during render",g,t)}render(){return this.state.error!==void 0?De.createElement(Hc.Provider,{value:this.props.routeContext},De.createElement(Pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ow(m){let{routeContext:g,match:t,children:r}=m,l=De.useContext(Eg);return l&&l.static&&l.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=t.route.id),De.createElement(Hc.Provider,{value:g},r)}function kw(m,g,t,r){var l;if(g===void 0&&(g=[]),t===void 0&&(t=null),r===void 0&&(r=null),m==null){var a;if(!t)return null;if(t.errors)m=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&g.length===0&&!t.initialized&&t.matches.length>0)m=t.matches;else return null}let u=m,p=(l=t)==null?void 0:l.errors;if(p!=null){let v=u.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);v>=0||Vt(!1),u=u.slice(0,Math.min(u.length,v+1))}let h=!1,f=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<u.length;v++){let w=u[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=v),w.route.id){let{loaderData:T,errors:R}=t,L=w.route.loader&&T[w.route.id]===void 0&&(!R||R[w.route.id]===void 0);if(w.route.lazy||L){h=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}return u.reduceRight((v,w,T)=>{let R,L=!1,D=null,F=null;t&&(R=p&&w.route.id?p[w.route.id]:void 0,D=w.route.errorElement||bw,h&&(f<0&&T===0?(L=!0,F=null):f===T&&(L=!0,F=w.route.hydrateFallbackElement||null)));let z=g.concat(u.slice(0,T+1)),q=()=>{let ee;return R?ee=D:L?ee=F:w.route.Component?ee=De.createElement(w.route.Component,null):w.route.element?ee=w.route.element:ee=v,De.createElement(Ow,{match:w,routeContext:{outlet:v,matches:z,isDataRoute:t!=null},children:ee})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?De.createElement(Lw,{location:t.location,revalidation:t.revalidation,component:D,error:R,children:q(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):q()},null)}var Mc=function(m){return m.UseBlocker="useBlocker",m.UseLoaderData="useLoaderData",m.UseActionData="useActionData",m.UseRouteError="useRouteError",m.UseNavigation="useNavigation",m.UseRouteLoaderData="useRouteLoaderData",m.UseMatches="useMatches",m.UseRevalidator="useRevalidator",m.UseNavigateStable="useNavigate",m.UseRouteId="useRouteId",m}(Mc||{});function bg(m){let g=De.useContext(Cg);return g||Vt(!1),g}function Fw(m){let g=De.useContext(Hc);return g||Vt(!1),g}function Lg(m){let g=Fw(),t=g.matches[g.matches.length-1];return t.route.id||Vt(!1),t.route.id}function Iw(){let m=bg(Mc.UseLoaderData),g=Lg(Mc.UseLoaderData);if(m.errors&&m.errors[g]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+g+")");return}return m.loaderData[g]}function Og(){var m;let g=De.useContext(Pg),t=bg(Mc.UseRouteError),r=Lg(Mc.UseRouteError);return g!==void 0?g:(m=t.errors)==null?void 0:m[r]}const qp={};function Aw(m,g){qp[g]||(qp[g]=!0,console.warn(g))}const lu=(m,g,t)=>Aw(m," React Router Future Flag Warning: "+g+". "+("You can use the `"+m+"` future flag to opt-in early. ")+("For more information, see "+t+"."));function Mw(m,g){(m==null?void 0:m.v7_startTransition)===void 0&&lu("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(m==null?void 0:m.v7_relativeSplatPath)===void 0&&(!g||!g.v7_relativeSplatPath)&&lu("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),g&&(g.v7_fetcherPersist===void 0&&lu("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),g.v7_normalizeFormMethod===void 0&&lu("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),g.v7_partialHydration===void 0&&lu("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),g.v7_skipActionErrorRevalidation===void 0&&lu("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function zw(m){return Rw(m.context)}function Nw(m){let{basename:g="/",children:t=null,location:r,navigationType:l=kn.Pop,navigator:a,static:u=!1,future:p}=m;Qd()&&Vt(!1);let h=g.replace(/^\/*/,"/"),f=De.useMemo(()=>({basename:h,navigator:a,static:u,future:Bd({v7_relativeSplatPath:!1},p)}),[h,p,a,u]);typeof r=="string"&&(r=Gs(r));let{pathname:v="/",search:w="",hash:T="",state:R=null,key:L="default"}=r,D=De.useMemo(()=>{let F=Nc(v,h);return F==null?null:{location:{pathname:F,search:w,hash:T,state:R,key:L},navigationType:l}},[h,v,w,T,R,L,l]);return D==null?null:De.createElement(Rg.Provider,{value:f},De.createElement(Yd.Provider,{children:t,value:D}))}new Promise(()=>{});function Bw(m){let g={hasErrorBoundary:m.ErrorBoundary!=null||m.errorElement!=null};return m.Component&&Object.assign(g,{element:De.createElement(m.Component),Component:void 0}),m.HydrateFallback&&Object.assign(g,{hydrateFallbackElement:De.createElement(m.HydrateFallback),HydrateFallback:void 0}),m.ErrorBoundary&&Object.assign(g,{errorElement:De.createElement(m.ErrorBoundary),ErrorBoundary:void 0}),g}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _f(){return _f=Object.assign?Object.assign.bind():function(m){for(var g=1;g<arguments.length;g++){var t=arguments[g];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(m[r]=t[r])}return m},_f.apply(this,arguments)}const Hw="6";try{window.__reactRouterVersion=Hw}catch{}function Uw(m,g){return sw({basename:void 0,future:_f({},void 0,{v7_prependBasename:!0}),history:Py({window:void 0}),hydrationData:jw(),routes:m,mapRouteProperties:Bw,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function jw(){var m;let g=(m=window)==null?void 0:m.__staticRouterHydrationData;return g&&g.errors&&(g=_f({},g,{errors:Ww(g.errors)})),g}function Ww(m){if(!m)return null;let g=Object.entries(m),t={};for(let[r,l]of g)if(l&&l.__type==="RouteErrorResponse")t[r]=new wf(l.status,l.statusText,l.data,l.internal===!0);else if(l&&l.__type==="Error"){if(l.__subType){let a=window[l.__subType];if(typeof a=="function")try{let u=new a(l.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let a=new Error(l.message);a.stack="",t[r]=a}}else t[r]=l;return t}const Vw=De.createContext({isTransitioning:!1}),Gw=De.createContext(new Map),qw="startTransition",Zp=wy[qw],Zw="flushSync",Xp=Ry[Zw];function Xw(m){Zp?Zp(m):m()}function kc(m){Xp?Xp(m):m()}class Kw{constructor(){this.status="pending",this.promise=new Promise((g,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",g(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function Yw(m){let{fallbackElement:g,router:t,future:r}=m,[l,a]=De.useState(t.state),[u,p]=De.useState(),[h,f]=De.useState({isTransitioning:!1}),[v,w]=De.useState(),[T,R]=De.useState(),[L,D]=De.useState(),F=De.useRef(new Map),{v7_startTransition:z}=r||{},q=De.useCallback(N=>{z?Xw(N):N()},[z]),ee=De.useCallback((N,U)=>{let{deletedFetchers:te,flushSync:ve,viewTransitionOpts:ce}=U;N.fetchers.forEach((Ge,yt)=>{Ge.data!==void 0&&F.current.set(yt,Ge.data)}),te.forEach(Ge=>F.current.delete(Ge));let Fe=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!ce||Fe){ve?kc(()=>a(N)):q(()=>a(N));return}if(ve){kc(()=>{T&&(v&&v.resolve(),T.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let Ge=t.window.document.startViewTransition(()=>{kc(()=>a(N))});Ge.finished.finally(()=>{kc(()=>{w(void 0),R(void 0),p(void 0),f({isTransitioning:!1})})}),kc(()=>R(Ge));return}T?(v&&v.resolve(),T.skipTransition(),D({state:N,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(p(N),f({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[t.window,T,v,F,q]);De.useLayoutEffect(()=>t.subscribe(ee),[t,ee]),De.useEffect(()=>{h.isTransitioning&&!h.flushSync&&w(new Kw)},[h]),De.useEffect(()=>{if(v&&u&&t.window){let N=u,U=v.promise,te=t.window.document.startViewTransition(async()=>{q(()=>a(N)),await U});te.finished.finally(()=>{w(void 0),R(void 0),p(void 0),f({isTransitioning:!1})}),R(te)}},[q,u,v,t.window]),De.useEffect(()=>{v&&u&&l.location.key===u.location.key&&v.resolve()},[v,T,l.location,u]),De.useEffect(()=>{!h.isTransitioning&&L&&(p(L.state),f({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}),D(void 0))},[h.isTransitioning,L]),De.useEffect(()=>{},[]);let Le=De.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:N=>t.navigate(N),push:(N,U,te)=>t.navigate(N,{state:U,preventScrollReset:te==null?void 0:te.preventScrollReset}),replace:(N,U,te)=>t.navigate(N,{replace:!0,state:U,preventScrollReset:te==null?void 0:te.preventScrollReset})}),[t]),Se=t.basename||"/",Z=De.useMemo(()=>({router:t,navigator:Le,static:!1,basename:Se}),[t,Le,Se]),we=De.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return De.useEffect(()=>Mw(r,t.future),[r,t.future]),De.createElement(De.Fragment,null,De.createElement(Eg.Provider,{value:Z},De.createElement(Cg.Provider,{value:l},De.createElement(Gw.Provider,{value:F.current},De.createElement(Vw.Provider,{value:h},De.createElement(Nw,{basename:Se,location:l.location,navigationType:l.historyAction,navigator:Le,future:we},l.initialized||t.future.v7_partialHydration?De.createElement(Qw,{routes:t.routes,future:t.future,state:l}):g))))),null)}const Qw=De.memo(Jw);function Jw(m){let{routes:g,future:t,state:r}=m;return Pw(g,void 0,r,t)}var Kp;(function(m){m.UseScrollRestoration="useScrollRestoration",m.UseSubmit="useSubmit",m.UseSubmitFetcher="useSubmitFetcher",m.UseFetcher="useFetcher",m.useViewTransitionState="useViewTransitionState"})(Kp||(Kp={}));var Yp;(function(m){m.UseFetcher="useFetcher",m.UseFetchers="useFetchers",m.UseScrollRestoration="useScrollRestoration"})(Yp||(Yp={}));var Ic={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var $w=Ic.exports,Qp;function e0(){return Qp||(Qp=1,function(m,g){(function(){var t,r="4.17.21",l=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",p="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",f=500,v="__lodash_placeholder__",w=1,T=2,R=4,L=1,D=2,F=1,z=2,q=4,ee=8,Le=16,Se=32,Z=64,we=128,N=256,U=512,te=30,ve="...",ce=800,Fe=16,Ge=1,yt=2,dt=3,Oe=1/0,pe=9007199254740991,ye=17976931348623157e292,Re=NaN,j=4294967295,se=j-1,ue=j>>>1,Ne=[["ary",we],["bind",F],["bindKey",z],["curry",ee],["curryRight",Le],["flip",U],["partial",Se],["partialRight",Z],["rearg",N]],He="[object Arguments]",Xe="[object Array]",lt="[object AsyncFunction]",Me="[object Boolean]",Ke="[object Date]",Et="[object DOMException]",Ye="[object Error]",Ct="[object Function]",Bt="[object GeneratorFunction]",Tt="[object Map]",pt="[object Number]",gt="[object Null]",S="[object Object]",k="[object Promise]",K="[object Proxy]",he="[object RegExp]",xe="[object Set]",Ie="[object String]",de="[object Symbol]",We="[object Undefined]",ut="[object WeakMap]",ct="[object WeakSet]",ze="[object ArrayBuffer]",ht="[object DataView]",C="[object Float32Array]",E="[object Float64Array]",I="[object Int8Array]",M="[object Int16Array]",le="[object Int32Array]",Ee="[object Uint8Array]",nt="[object Uint8ClampedArray]",Ot="[object Uint16Array]",it="[object Uint32Array]",fn=/\b__p \+= '';/g,tn=/\b(__p \+=) '' \+/g,ri=/(__e\(.*?\)|\b__t\)) \+\n'';/g,si=/&(?:amp|lt|gt|quot|#39);/g,Ei=/[&<>"']/g,Hr=RegExp(si.source),Aa=RegExp(Ei.source),Ao=/<%-([\s\S]+?)%>/g,gs=/<%([\s\S]+?)%>/g,Ur=/<%=([\s\S]+?)%>/g,Mo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ma=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(Q.source),_e=/^\s+/,Ae=/\s/,tt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mt=/\{\n\/\* \[wrapped with (.+)\] \*/,qe=/,? & /,Je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ze=/[()=,{}\[\]\/\s]/,st=/\\(\\)?/g,St=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kt=/\w*$/,wn=/^[-+]0x[0-9a-f]+$/i,Zt=/^0b[01]+$/i,Mt=/^\[object .+?Constructor\]$/,nn=/^0o[0-7]+$/i,xr=/^(?:0|[1-9]\d*)$/,jr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oi=/($^)/,Ci=/['\n\r\u2028\u2029\\]/g,Xt="\\ud800-\\udfff",ms="\\u0300-\\u036f",Wi="\\ufe20-\\ufe2f",vs="\\u20d0-\\u20ff",rr=ms+Wi+vs,It="\\u2700-\\u27bf",Qt="a-z\\xdf-\\xf6\\xf8-\\xff",Vi="\\xac\\xb1\\xd7\\xf7",Nn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dn="\\u2000-\\u206f",bn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zo="A-Z\\xc0-\\xd6\\xd8-\\xde",za="\\ufe0e\\ufe0f",Uc=Vi+Nn+dn+bn,qs="[']",Na="["+Xt+"]",Zs="["+Uc+"]",ys="["+rr+"]",jc="\\d+",Cf="["+It+"]",Ba="["+Qt+"]",hu="[^"+Xt+Uc+jc+It+Qt+zo+"]",No="\\ud83c[\\udffb-\\udfff]",Bo="(?:"+ys+"|"+No+")",Wc="[^"+Xt+"]",Ho="(?:\\ud83c[\\udde6-\\uddff]){2}",Wt="[\\ud800-\\udbff][\\udc00-\\udfff]",ws="["+zo+"]",fu="\\u200d",Ha="(?:"+Ba+"|"+hu+")",Vc="(?:"+ws+"|"+hu+")",du="(?:"+qs+"(?:d|ll|m|re|s|t|ve))?",pu="(?:"+qs+"(?:D|LL|M|RE|S|T|VE))?",Ua=Bo+"?",Uo="["+za+"]?",Wr="(?:"+fu+"(?:"+[Wc,Ho,Wt].join("|")+")"+Uo+Ua+")*",Vr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xs=Uo+Ua+Wr,jo="(?:"+[Cf,Ho,Wt].join("|")+")"+Xs,qr="(?:"+[Wc+ys+"?",ys,Ho,Wt,Na].join("|")+")",Rf=RegExp(qs,"g"),Gc=RegExp(ys,"g"),_s=RegExp(No+"(?="+No+")|"+qr+Xs,"g"),Pf=RegExp([ws+"?"+Ba+"+"+du+"(?="+[Zs,ws,"$"].join("|")+")",Vc+"+"+pu+"(?="+[Zs,ws+Ha,"$"].join("|")+")",ws+"?"+Ha+"+"+du,ws+"+"+pu,Gr,Vr,jc,jo].join("|"),"g"),qc=RegExp("["+fu+Xt+rr+za+"]"),ja=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Df=-1,qt={};qt[C]=qt[E]=qt[I]=qt[M]=qt[le]=qt[Ee]=qt[nt]=qt[Ot]=qt[it]=!0,qt[He]=qt[Xe]=qt[ze]=qt[Me]=qt[ht]=qt[Ke]=qt[Ye]=qt[Ct]=qt[Tt]=qt[pt]=qt[S]=qt[he]=qt[xe]=qt[Ie]=qt[ut]=!1;var Gt={};Gt[He]=Gt[Xe]=Gt[ze]=Gt[ht]=Gt[Me]=Gt[Ke]=Gt[C]=Gt[E]=Gt[I]=Gt[M]=Gt[le]=Gt[Tt]=Gt[pt]=Gt[S]=Gt[he]=Gt[xe]=Gt[Ie]=Gt[de]=Gt[Ee]=Gt[nt]=Gt[Ot]=Gt[it]=!0,Gt[Ye]=Gt[Ct]=Gt[ut]=!1;var Ks={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Wa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gu=parseFloat,Va=parseInt,Ga=typeof af=="object"&&af&&af.Object===Object&&af,Xc=typeof self=="object"&&self&&self.Object===Object&&self,an=Ga||Xc||Function("return this")(),Wo=g&&!g.nodeType&&g,sr=Wo&&!0&&m&&!m.nodeType&&m,mu=sr&&sr.exports===Wo,Ys=mu&&Ga.process,Kn=function(){try{var Y=sr&&sr.require&&sr.require("util").types;return Y||Ys&&Ys.binding&&Ys.binding("util")}catch{}}(),vu=Kn&&Kn.isArrayBuffer,ai=Kn&&Kn.isDate,xs=Kn&&Kn.isMap,qa=Kn&&Kn.isRegExp,Qs=Kn&&Kn.isSet,Kc=Kn&&Kn.isTypedArray;function Yn(Y,fe,re){switch(re.length){case 0:return Y.call(fe);case 1:return Y.call(fe,re[0]);case 2:return Y.call(fe,re[0],re[1]);case 3:return Y.call(fe,re[0],re[1],re[2])}return Y.apply(fe,re)}function yu(Y,fe,re,Ue){for(var xt=-1,Ht=Y==null?0:Y.length;++xt<Ht;){var _n=Y[xt];fe(Ue,_n,re(_n),Y)}return Ue}function Bn(Y,fe){for(var re=-1,Ue=Y==null?0:Y.length;++re<Ue&&fe(Y[re],re,Y)!==!1;);return Y}function Za(Y,fe){for(var re=Y==null?0:Y.length;re--&&fe(Y[re],re,Y)!==!1;);return Y}function wu(Y,fe){for(var re=-1,Ue=Y==null?0:Y.length;++re<Ue;)if(!fe(Y[re],re,Y))return!1;return!0}function Zr(Y,fe){for(var re=-1,Ue=Y==null?0:Y.length,xt=0,Ht=[];++re<Ue;){var _n=Y[re];fe(_n,re,Y)&&(Ht[xt++]=_n)}return Ht}function Xa(Y,fe){var re=Y==null?0:Y.length;return!!re&&Js(Y,fe,0)>-1}function _u(Y,fe,re){for(var Ue=-1,xt=Y==null?0:Y.length;++Ue<xt;)if(re(fe,Y[Ue]))return!0;return!1}function Jt(Y,fe){for(var re=-1,Ue=Y==null?0:Y.length,xt=Array(Ue);++re<Ue;)xt[re]=fe(Y[re],re,Y);return xt}function Xr(Y,fe){for(var re=-1,Ue=fe.length,xt=Y.length;++re<Ue;)Y[xt+re]=fe[re];return Y}function xu(Y,fe,re,Ue){var xt=-1,Ht=Y==null?0:Y.length;for(Ue&&Ht&&(re=Y[++xt]);++xt<Ht;)re=fe(re,Y[xt],xt,Y);return re}function Of(Y,fe,re,Ue){var xt=Y==null?0:Y.length;for(Ue&&xt&&(re=Y[--xt]);xt--;)re=fe(re,Y[xt],xt,Y);return re}function Tu(Y,fe){for(var re=-1,Ue=Y==null?0:Y.length;++re<Ue;)if(fe(Y[re],re,Y))return!0;return!1}var kf=Eu("length");function Yc(Y){return Y.split("")}function Ff(Y){return Y.match(Je)||[]}function Qc(Y,fe,re){var Ue;return re(Y,function(xt,Ht,_n){if(fe(xt,Ht,_n))return Ue=Ht,!1}),Ue}function Ka(Y,fe,re,Ue){for(var xt=Y.length,Ht=re+(Ue?1:-1);Ue?Ht--:++Ht<xt;)if(fe(Y[Ht],Ht,Y))return Ht;return-1}function Js(Y,fe,re){return fe===fe?Ja(Y,fe,re):Ka(Y,Jc,re)}function Su(Y,fe,re,Ue){for(var xt=re-1,Ht=Y.length;++xt<Ht;)if(Ue(Y[xt],fe))return xt;return-1}function Jc(Y){return Y!==Y}function $c(Y,fe){var re=Y==null?0:Y.length;return re?Cu(Y,fe)/re:Re}function Eu(Y){return function(fe){return fe==null?t:fe[Y]}}function Ya(Y){return function(fe){return Y==null?t:Y[fe]}}function eh(Y,fe,re,Ue,xt){return xt(Y,function(Ht,_n,Kt){re=Ue?(Ue=!1,Ht):fe(re,Ht,_n,Kt)}),re}function If(Y,fe){var re=Y.length;for(Y.sort(fe);re--;)Y[re]=Y[re].value;return Y}function Cu(Y,fe){for(var re,Ue=-1,xt=Y.length;++Ue<xt;){var Ht=fe(Y[Ue]);Ht!==t&&(re=re===t?Ht:re+Ht)}return re}function Ru(Y,fe){for(var re=-1,Ue=Array(Y);++re<Y;)Ue[re]=fe(re);return Ue}function Af(Y,fe){return Jt(fe,function(re){return[re,Y[re]]})}function th(Y){return Y&&Y.slice(0,$a(Y)+1).replace(_e,"")}function gi(Y){return function(fe){return Y(fe)}}function Vo(Y,fe){return Jt(fe,function(re){return Y[re]})}function Tr(Y,fe){return Y.has(fe)}function nh(Y,fe){for(var re=-1,Ue=Y.length;++re<Ue&&Js(fe,Y[re],0)>-1;);return re}function Pu(Y,fe){for(var re=Y.length;re--&&Js(fe,Y[re],0)>-1;);return re}function ih(Y,fe){for(var re=Y.length,Ue=0;re--;)Y[re]===fe&&++Ue;return Ue}var rh=Ya(Ks),sh=Ya(Wa);function oh(Y){return"\\"+Lf[Y]}function $s(Y,fe){return Y==null?t:Y[fe]}function eo(Y){return qc.test(Y)}function Mf(Y){return ja.test(Y)}function zf(Y){for(var fe,re=[];!(fe=Y.next()).done;)re.push(fe.value);return re}function Qa(Y){var fe=-1,re=Array(Y.size);return Y.forEach(function(Ue,xt){re[++fe]=[xt,Ue]}),re}function Du(Y,fe){return function(re){return Y(fe(re))}}function Ri(Y,fe){for(var re=-1,Ue=Y.length,xt=0,Ht=[];++re<Ue;){var _n=Y[re];(_n===fe||_n===v)&&(Y[re]=v,Ht[xt++]=re)}return Ht}function Kr(Y){var fe=-1,re=Array(Y.size);return Y.forEach(function(Ue){re[++fe]=Ue}),re}function Nf(Y){var fe=-1,re=Array(Y.size);return Y.forEach(function(Ue){re[++fe]=[Ue,Ue]}),re}function Ja(Y,fe,re){for(var Ue=re-1,xt=Y.length;++Ue<xt;)if(Y[Ue]===fe)return Ue;return-1}function Bf(Y,fe,re){for(var Ue=re+1;Ue--;)if(Y[Ue]===fe)return Ue;return Ue}function Ts(Y){return eo(Y)?lh(Y):kf(Y)}function mi(Y){return eo(Y)?uh(Y):Yc(Y)}function $a(Y){for(var fe=Y.length;fe--&&Ae.test(Y.charAt(fe)););return fe}var ah=Ya(bf);function lh(Y){for(var fe=_s.lastIndex=0;_s.test(Y);)++fe;return fe}function uh(Y){return Y.match(_s)||[]}function Hf(Y){return Y.match(Pf)||[]}var Uf=function Y(fe){fe=fe==null?an:to.defaults(an.Object(),fe,to.pick(an,Zc));var re=fe.Array,Ue=fe.Date,xt=fe.Error,Ht=fe.Function,_n=fe.Math,Kt=fe.Object,Go=fe.RegExp,jf=fe.String,Pi=fe.TypeError,Sr=re.prototype,bu=Ht.prototype,or=Kt.prototype,no=fe["__core-js_shared__"],qo=bu.toString,Ut=or.hasOwnProperty,io=0,el=function(){var i=/[^.]+$/.exec(no&&no.keys&&no.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Zo=or.toString,tl=qo.call(Kt),ch=an._,hh=Go("^"+qo.call(Ut).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xo=mu?fe.Buffer:t,Er=fe.Symbol,Ko=fe.Uint8Array,Lu=Xo?Xo.allocUnsafe:t,Gi=Du(Kt.getPrototypeOf,Kt),nl=Kt.create,il=or.propertyIsEnumerable,rl=Sr.splice,fh=Er?Er.isConcatSpreadable:t,Cr=Er?Er.iterator:t,Ss=Er?Er.toStringTag:t,Yo=function(){try{var i=os(Kt,"defineProperty");return i({},"",{}),i}catch{}}(),dh=fe.clearTimeout!==an.clearTimeout&&fe.clearTimeout,rn=Ue&&Ue.now!==an.Date.now&&Ue.now,Ou=fe.setTimeout!==an.setTimeout&&fe.setTimeout,Es=_n.ceil,Yr=_n.floor,sl=Kt.getOwnPropertySymbols,ku=Xo?Xo.isBuffer:t,ro=fe.isFinite,ol=Sr.join,so=Du(Kt.keys,Kt),xn=_n.max,Hn=_n.min,Wf=Ue.now,ph=fe.parseInt,Qo=_n.random,al=Sr.reverse,Jo=os(fe,"DataView"),Cs=os(fe,"Map"),$o=os(fe,"Promise"),Qr=os(fe,"Set"),ea=os(fe,"WeakMap"),oo=os(Kt,"create"),ll=ea&&new ea,ao={},Fu=as(Jo),Jr=as(Cs),gh=as($o),lo=as(Qr),ar=as(ea),$r=Er?Er.prototype:t,vi=$r?$r.valueOf:t,ul=$r?$r.toString:t;function O(i){if(Sn(i)&&!Pt(i)&&!(i instanceof Rt)){if(i instanceof Un)return i;if(Ut.call(i,"__wrapped__"))return Wh(i)}return new Un(i)}var uo=function(){function i(){}return function(s){if(!yn(s))return{};if(nl)return nl(s);i.prototype=s;var d=new i;return i.prototype=t,d}}();function lr(){}function Un(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=t}O.templateSettings={escape:Ao,evaluate:gs,interpolate:Ur,variable:"",imports:{_:O}},O.prototype=lr.prototype,O.prototype.constructor=O,Un.prototype=uo(lr.prototype),Un.prototype.constructor=Un;function Rt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function cl(){var i=new Rt(this.__wrapped__);return i.__actions__=Jn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Jn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Jn(this.__views__),i}function Iu(){if(this.__filtered__){var i=new Rt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function co(){var i=this.__wrapped__.value(),s=this.__dir__,d=Pt(i),x=s<0,P=d?i.length:0,A=lc(0,P,this.__views__),H=A.start,G=A.end,J=G-H,ge=x?G:H-1,me=this.__iteratees__,Pe=me.length,Be=0,rt=Hn(J,this.__takeCount__);if(!d||!x&&P==J&&rt==J)return wo(i,this.__actions__);var wt=[];e:for(;J--&&Be<rt;){ge+=s;for(var Lt=-1,_t=i[ge];++Lt<Pe;){var At=me[Lt],Nt=At.iteratee,tr=At.type,Ti=Nt(_t);if(tr==yt)_t=Ti;else if(!Ti){if(tr==Ge)continue e;break e}}wt[Be++]=_t}return wt}Rt.prototype=uo(lr.prototype),Rt.prototype.constructor=Rt;function li(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var x=i[s];this.set(x[0],x[1])}}function sn(){this.__data__=oo?oo(null):{},this.size=0}function $t(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function es(i){var s=this.__data__;if(oo){var d=s[i];return d===h?t:d}return Ut.call(s,i)?s[i]:t}function jn(i){var s=this.__data__;return oo?s[i]!==t:Ut.call(s,i)}function ui(i,s){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=oo&&s===t?h:s,this}li.prototype.clear=sn,li.prototype.delete=$t,li.prototype.get=es,li.prototype.has=jn,li.prototype.set=ui;function Qn(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var x=i[s];this.set(x[0],x[1])}}function ho(){this.__data__=[],this.size=0}function ci(i){var s=this.__data__,d=Vn(s,i);if(d<0)return!1;var x=s.length-1;return d==x?s.pop():rl.call(s,d,1),--this.size,!0}function hl(i){var s=this.__data__,d=Vn(s,i);return d<0?t:s[d][1]}function mh(i){return Vn(this.__data__,i)>-1}function vh(i,s){var d=this.__data__,x=Vn(d,i);return x<0?(++this.size,d.push([i,s])):d[x][1]=s,this}Qn.prototype.clear=ho,Qn.prototype.delete=ci,Qn.prototype.get=hl,Qn.prototype.has=mh,Qn.prototype.set=vh;function Di(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var x=i[s];this.set(x[0],x[1])}}function yh(){this.size=0,this.__data__={hash:new li,map:new(Cs||Qn),string:new li}}function Rr(i){var s=ma(this,i).delete(i);return this.size-=s?1:0,s}function fl(i){return ma(this,i).get(i)}function Au(i){return ma(this,i).has(i)}function wh(i,s){var d=ma(this,i),x=d.size;return d.set(i,s),this.size+=d.size==x?0:1,this}Di.prototype.clear=yh,Di.prototype.delete=Rr,Di.prototype.get=fl,Di.prototype.has=Au,Di.prototype.set=wh;function Rs(i){var s=-1,d=i==null?0:i.length;for(this.__data__=new Di;++s<d;)this.add(i[s])}function ts(i){return this.__data__.set(i,h),this}function fo(i){return this.__data__.has(i)}Rs.prototype.add=Rs.prototype.push=ts,Rs.prototype.has=fo;function Wn(i){var s=this.__data__=new Qn(i);this.size=s.size}function dl(){this.__data__=new Qn,this.size=0}function pl(i){var s=this.__data__,d=s.delete(i);return this.size=s.size,d}function bi(i){return this.__data__.get(i)}function Li(i){return this.__data__.has(i)}function Ps(i,s){var d=this.__data__;if(d instanceof Qn){var x=d.__data__;if(!Cs||x.length<l-1)return x.push([i,s]),this.size=++d.size,this;d=this.__data__=new Di(x)}return d.set(i,s),this.size=d.size,this}Wn.prototype.clear=dl,Wn.prototype.delete=pl,Wn.prototype.get=bi,Wn.prototype.has=Li,Wn.prototype.set=Ps;function ur(i,s){var d=Pt(i),x=!d&&Da(i),P=!d&&!x&&bo(i),A=!d&&!x&&!P&&su(i),H=d||x||P||A,G=H?Ru(i.length,jf):[],J=G.length;for(var ge in i)(s||Ut.call(i,ge))&&!(H&&(ge=="length"||P&&(ge=="offset"||ge=="parent")||A&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||un(ge,J)))&&G.push(ge);return G}function cr(i){var s=i.length;return s?i[vo(0,s-1)]:t}function Ds(i,s){return Hl(Jn(i),Pr(s,0,i.length))}function _h(i){return Hl(Jn(i))}function ta(i,s,d){(d!==t&&!zr(i[s],d)||d===t&&!(s in i))&&hr(i,s,d)}function bs(i,s,d){var x=i[s];(!(Ut.call(i,s)&&zr(x,d))||d===t&&!(s in i))&&hr(i,s,d)}function Vn(i,s){for(var d=i.length;d--;)if(zr(i[d][0],s))return d;return-1}function yi(i,s,d,x){return dr(i,function(P,A,H){s(x,P,d(P),H)}),x}function on(i,s){return i&&Zi(s,Zn(s),i)}function qi(i,s){return i&&Zi(s,Bi(s),i)}function hr(i,s,d){s=="__proto__"&&Yo?Yo(i,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):i[s]=d}function gl(i,s){for(var d=-1,x=s.length,P=re(x),A=i==null;++d<x;)P[d]=A?t:hd(i,s[d]);return P}function Pr(i,s,d){return i===i&&(d!==t&&(i=i<=d?i:d),s!==t&&(i=i>=s?i:s)),i}function hi(i,s,d,x,P,A){var H,G=s&w,J=s&T,ge=s&R;if(d&&(H=P?d(i,x,P,A):d(i)),H!==t)return H;if(!yn(i))return i;var me=Pt(i);if(me){if(H=ya(i),!G)return Jn(i,H)}else{var Pe=An(i),Be=Pe==Ct||Pe==Bt;if(bo(i))return Yu(i,G);if(Pe==S||Pe==He||Be&&!P){if(H=J||Be?{}:Mn(i),!G)return J?Gf(i,qi(H,i)):Dl(i,on(H,i))}else{if(!Gt[Pe])return P?i:{};H=qf(i,Pe,G)}}A||(A=new Wn);var rt=A.get(i);if(rt)return rt;A.set(i,H),sp(i)?i.forEach(function(_t){H.add(hi(_t,s,d,_t,i,A))}):ip(i)&&i.forEach(function(_t,At){H.set(At,hi(_t,s,d,At,i,A))});var wt=ge?J?ga:pa:J?Bi:Zn,Lt=me?t:wt(i);return Bn(Lt||i,function(_t,At){Lt&&(At=_t,_t=i[At]),bs(H,At,hi(_t,s,d,At,i,A))}),H}function xh(i){var s=Zn(i);return function(d){return na(d,i,s)}}function na(i,s,d){var x=d.length;if(i==null)return!x;for(i=Kt(i);x--;){var P=d[x],A=s[P],H=i[P];if(H===t&&!(P in i)||!A(H))return!1}return!0}function Mu(i,s,d){if(typeof i!="function")throw new Pi(u);return Ro(function(){i.apply(t,d)},s)}function fr(i,s,d,x){var P=-1,A=Xa,H=!0,G=i.length,J=[],ge=s.length;if(!G)return J;d&&(s=Jt(s,gi(d))),x?(A=_u,H=!1):s.length>=l&&(A=Tr,H=!1,s=new Rs(s));e:for(;++P<G;){var me=i[P],Pe=d==null?me:d(me);if(me=x||me!==0?me:0,H&&Pe===Pe){for(var Be=ge;Be--;)if(s[Be]===Pe)continue e;J.push(me)}else A(s,Pe,x)||J.push(me)}return J}var dr=Ai(wi),Th=Ai(ns,!0);function ia(i,s){var d=!0;return dr(i,function(x,P,A){return d=!!s(x,P,A),d}),d}function Ls(i,s,d){for(var x=-1,P=i.length;++x<P;){var A=i[x],H=s(A);if(H!=null&&(G===t?H===H&&!er(H):d(H,G)))var G=H,J=A}return J}function Sh(i,s,d,x){var P=i.length;for(d=bt(d),d<0&&(d=-d>P?0:P+d),x=x===t||x>P?P:bt(x),x<0&&(x+=P),x=d>x?0:ap(x);d<x;)i[d++]=s;return i}function zu(i,s){var d=[];return dr(i,function(x,P,A){s(x,P,A)&&d.push(x)}),d}function pn(i,s,d,x,P){var A=-1,H=i.length;for(d||(d=zl),P||(P=[]);++A<H;){var G=i[A];s>0&&d(G)?s>1?pn(G,s-1,d,x,P):Xr(P,G):x||(P[P.length]=G)}return P}var ml=Ll(),ra=Ll(!0);function wi(i,s){return i&&ml(i,s,Zn)}function ns(i,s){return i&&ra(i,s,Zn)}function po(i,s){return Zr(s,function(d){return js(i[d])})}function Dr(i,s){s=mr(s,i);for(var d=0,x=s.length;i!=null&&d<x;)i=i[Qi(s[d++])];return d&&d==x?i:t}function vl(i,s,d){var x=s(i);return Pt(i)?x:Xr(x,d(i))}function Fn(i){return i==null?i===t?We:gt:Ss&&Ss in Kt(i)?Ml(i):cc(i)}function is(i,s){return i>s}function Oi(i,s){return i!=null&&Ut.call(i,s)}function Os(i,s){return i!=null&&s in Kt(i)}function Nu(i,s,d){return i>=Hn(s,d)&&i<xn(s,d)}function yl(i,s,d){for(var x=d?_u:Xa,P=i[0].length,A=i.length,H=A,G=re(A),J=1/0,ge=[];H--;){var me=i[H];H&&s&&(me=Jt(me,gi(s))),J=Hn(me.length,J),G[H]=!d&&(s||P>=120&&me.length>=120)?new Rs(H&&me):t}me=i[0];var Pe=-1,Be=G[0];e:for(;++Pe<P&&ge.length<J;){var rt=me[Pe],wt=s?s(rt):rt;if(rt=d||rt!==0?rt:0,!(Be?Tr(Be,wt):x(ge,wt,d))){for(H=A;--H;){var Lt=G[H];if(!(Lt?Tr(Lt,wt):x(i[H],wt,d)))continue e}Be&&Be.push(wt),ge.push(rt)}}return ge}function br(i,s,d,x){return wi(i,function(P,A,H){s(x,d(P),A,H)}),x}function ki(i,s,d){s=mr(s,i),i=Ln(i,s);var x=i==null?i:i[Qi(ti(s))];return x==null?t:Yn(x,i,d)}function wl(i){return Sn(i)&&Fn(i)==He}function Eh(i){return Sn(i)&&Fn(i)==ze}function Lr(i){return Sn(i)&&Fn(i)==Ke}function Fi(i,s,d,x,P){return i===s?!0:i==null||s==null||!Sn(i)&&!Sn(s)?i!==i&&s!==s:_l(i,s,d,x,Fi,P)}function _l(i,s,d,x,P,A){var H=Pt(i),G=Pt(s),J=H?Xe:An(i),ge=G?Xe:An(s);J=J==He?S:J,ge=ge==He?S:ge;var me=J==S,Pe=ge==S,Be=J==ge;if(Be&&bo(i)){if(!bo(s))return!1;H=!0,me=!1}if(Be&&!me)return A||(A=new Wn),H||su(i)?oc(i,s,d,x,P,A):ac(i,s,J,d,x,P,A);if(!(d&L)){var rt=me&&Ut.call(i,"__wrapped__"),wt=Pe&&Ut.call(s,"__wrapped__");if(rt||wt){var Lt=rt?i.value():i,_t=wt?s.value():s;return A||(A=new Wn),P(Lt,_t,d,x,A)}}return Be?(A||(A=new Wn),Ah(i,s,d,x,P,A)):!1}function Ch(i){return Sn(i)&&An(i)==Tt}function go(i,s,d,x){var P=d.length,A=P,H=!x;if(i==null)return!A;for(i=Kt(i);P--;){var G=d[P];if(H&&G[2]?G[1]!==i[G[0]]:!(G[0]in i))return!1}for(;++P<A;){G=d[P];var J=G[0],ge=i[J],me=G[1];if(H&&G[2]){if(ge===t&&!(J in i))return!1}else{var Pe=new Wn;if(x)var Be=x(ge,me,J,i,s,Pe);if(!(Be===t?Fi(me,ge,L|D,x,Pe):Be))return!1}}return!0}function Bu(i){if(!yn(i)||Nh(i))return!1;var s=js(i)?hh:Mt;return s.test(as(i))}function sa(i){return Sn(i)&&Fn(i)==he}function pr(i){return Sn(i)&&An(i)==xe}function oa(i){return Sn(i)&&rf(i.length)&&!!qt[Fn(i)]}function mo(i){return typeof i=="function"?i:i==null?Hi:typeof i=="object"?Pt(i)?ln(i[0],i[1]):xl(i):yp(i)}function Or(i){if(!Ar(i))return so(i);var s=[];for(var d in Kt(i))Ut.call(i,d)&&d!="constructor"&&s.push(d);return s}function Hu(i){if(!yn(i))return Uh(i);var s=Ar(i),d=[];for(var x in i)x=="constructor"&&(s||!Ut.call(i,x))||d.push(x);return d}function rs(i,s){return i<s}function Uu(i,s){var d=-1,x=Ni(i)?re(i.length):[];return dr(i,function(P,A,H){x[++d]=s(P,A,H)}),x}function xl(i){var s=va(i);return s.length==1&&s[0][2]?Nl(s[0][0],s[0][1]):function(d){return d===i||go(d,i,s)}}function ln(i,s){return Ve(i)&&_a(s)?Nl(Qi(i),s):function(d){var x=hd(d,i);return x===t&&x===s?fd(d,i):Fi(s,x,L|D)}}function ks(i,s,d,x,P){i!==s&&ml(s,function(A,H){if(P||(P=new Wn),yn(A))ju(i,s,H,d,ks,x,P);else{var G=x?x(wr(i,H),A,H+"",i,s,P):t;G===t&&(G=A),ta(i,H,G)}},Bi)}function ju(i,s,d,x,P,A,H){var G=wr(i,d),J=wr(s,d),ge=H.get(J);if(ge){ta(i,d,ge);return}var me=A?A(G,J,d+"",i,s,H):t,Pe=me===t;if(Pe){var Be=Pt(J),rt=!Be&&bo(J),wt=!Be&&!rt&&su(J);me=J,Be||rt||wt?Pt(G)?me=G:Pn(G)?me=Jn(G):rt?(Pe=!1,me=Yu(J,!0)):wt?(Pe=!1,me=Lh(J,!0)):me=[]:Dc(J)||Da(J)?(me=G,Da(G)?me=lp(G):(!yn(G)||js(G))&&(me=Mn(J))):Pe=!1}Pe&&(H.set(J,me),P(me,J,x,A,H),H.delete(J)),ta(i,d,me)}function Tl(i,s){var d=i.length;if(d)return s+=s<0?d:0,un(s,d)?i[s]:t}function aa(i,s,d){s.length?s=Jt(s,function(A){return Pt(A)?function(H){return Dr(H,A.length===1?A[0]:A)}:A}):s=[Hi];var x=-1;s=Jt(s,gi(ft()));var P=Uu(i,function(A,H,G){var J=Jt(s,function(ge){return ge(A)});return{criteria:J,index:++x,value:A}});return If(P,function(A,H){return Vf(A,H,d)})}function Wu(i,s){return ss(i,s,function(d,x){return fd(i,x)})}function ss(i,s,d){for(var x=-1,P=s.length,A={};++x<P;){var H=s[x],G=Dr(i,H);d(G,H)&&Is(A,mr(H,i),G)}return A}function cn(i){return function(s){return Dr(s,i)}}function vn(i,s,d,x){var P=x?Su:Js,A=-1,H=s.length,G=i;for(i===s&&(s=Jn(s)),d&&(G=Jt(i,gi(d)));++A<H;)for(var J=0,ge=s[A],me=d?d(ge):ge;(J=P(G,me,J,x))>-1;)G!==i&&rl.call(G,J,1),rl.call(i,J,1);return i}function En(i,s){for(var d=i?s.length:0,x=d-1;d--;){var P=s[d];if(d==x||P!==A){var A=P;un(P)?rl.call(i,P,1):Cl(i,P)}}return i}function vo(i,s){return i+Yr(Qo()*(s-i+1))}function la(i,s,d,x){for(var P=-1,A=xn(Es((s-i)/(d||1)),0),H=re(A);A--;)H[x?A:++P]=i,i+=d;return H}function Fs(i,s){var d="";if(!i||s<1||s>pe)return d;do s%2&&(d+=i),s=Yr(s/2),s&&(i+=i);while(s);return d}function Dt(i,s){return _i(Bl(i,s,Hi),i+"")}function Gn(i){return cr(ou(i))}function Vu(i,s){var d=ou(i);return Hl(d,Pr(s,0,d.length))}function Is(i,s,d,x){if(!yn(i))return i;s=mr(s,i);for(var P=-1,A=s.length,H=A-1,G=i;G!=null&&++P<A;){var J=Qi(s[P]),ge=d;if(J==="__proto__"||J==="constructor"||J==="prototype")return i;if(P!=H){var me=G[J];ge=x?x(me,J,G):t,ge===t&&(ge=yn(me)?me:un(s[P+1])?[]:{})}bs(G,J,ge),G=G[J]}return i}var Sl=ll?function(i,s){return ll.set(i,s),i}:Hi,gr=Yo?function(i,s){return Yo(i,"toString",{configurable:!0,enumerable:!1,value:pd(s),writable:!0})}:Hi;function Ii(i){return Hl(ou(i))}function qn(i,s,d){var x=-1,P=i.length;s<0&&(s=-s>P?0:P+s),d=d>P?P:d,d<0&&(d+=P),P=s>d?0:d-s>>>0,s>>>=0;for(var A=re(P);++x<P;)A[x]=i[x+s];return A}function Gu(i,s){var d;return dr(i,function(x,P,A){return d=s(x,P,A),!d}),!!d}function yo(i,s,d){var x=0,P=i==null?x:i.length;if(typeof s=="number"&&s===s&&P<=ue){for(;x<P;){var A=x+P>>>1,H=i[A];H!==null&&!er(H)&&(d?H<=s:H<s)?x=A+1:P=A}return P}return El(i,s,Hi,d)}function El(i,s,d,x){var P=0,A=i==null?0:i.length;if(A===0)return 0;s=d(s);for(var H=s!==s,G=s===null,J=er(s),ge=s===t;P<A;){var me=Yr((P+A)/2),Pe=d(i[me]),Be=Pe!==t,rt=Pe===null,wt=Pe===Pe,Lt=er(Pe);if(H)var _t=x||wt;else ge?_t=wt&&(x||Be):G?_t=wt&&Be&&(x||!rt):J?_t=wt&&Be&&!rt&&(x||!Lt):rt||Lt?_t=!1:_t=x?Pe<=s:Pe<s;_t?P=me+1:A=me}return Hn(A,se)}function qu(i,s){for(var d=-1,x=i.length,P=0,A=[];++d<x;){var H=i[d],G=s?s(H):H;if(!d||!zr(G,J)){var J=G;A[P++]=H===0?0:H}}return A}function Zu(i){return typeof i=="number"?i:er(i)?Re:+i}function fi(i){if(typeof i=="string")return i;if(Pt(i))return Jt(i,fi)+"";if(er(i))return ul?ul.call(i):"";var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function kr(i,s,d){var x=-1,P=Xa,A=i.length,H=!0,G=[],J=G;if(d)H=!1,P=_u;else if(A>=l){var ge=s?null:Ih(i);if(ge)return Kr(ge);H=!1,P=Tr,J=new Rs}else J=s?[]:G;e:for(;++x<A;){var me=i[x],Pe=s?s(me):me;if(me=d||me!==0?me:0,H&&Pe===Pe){for(var Be=J.length;Be--;)if(J[Be]===Pe)continue e;s&&J.push(Pe),G.push(me)}else P(J,Pe,d)||(J!==G&&J.push(Pe),G.push(me))}return G}function Cl(i,s){return s=mr(s,i),i=Ln(i,s),i==null||delete i[Qi(ti(s))]}function Xu(i,s,d,x){return Is(i,s,d(Dr(i,s)),x)}function ua(i,s,d,x){for(var P=i.length,A=x?P:-1;(x?A--:++A<P)&&s(i[A],A,i););return d?qn(i,x?0:A,x?A+1:P):qn(i,x?A+1:0,x?P:A)}function wo(i,s){var d=i;return d instanceof Rt&&(d=d.value()),xu(s,function(x,P){return P.func.apply(P.thisArg,Xr([x],P.args))},d)}function Rl(i,s,d){var x=i.length;if(x<2)return x?kr(i[0]):[];for(var P=-1,A=re(x);++P<x;)for(var H=i[P],G=-1;++G<x;)G!=P&&(A[P]=fr(A[P]||H,i[G],s,d));return kr(pn(A,1),s,d)}function ca(i,s,d){for(var x=-1,P=i.length,A=s.length,H={};++x<P;){var G=x<A?s[x]:t;d(H,i[x],G)}return H}function _o(i){return Pn(i)?i:[]}function Pl(i){return typeof i=="function"?i:Hi}function mr(i,s){return Pt(i)?i:Ve(i,s)?[i]:dc(Yt(i))}var Rh=Dt;function Fr(i,s,d){var x=i.length;return d=d===t?x:d,!s&&d>=x?i:qn(i,s,d)}var Ku=dh||function(i){return an.clearTimeout(i)};function Yu(i,s){if(s)return i.slice();var d=i.length,x=Lu?Lu(d):new i.constructor(d);return i.copy(x),x}function ha(i){var s=new i.constructor(i.byteLength);return new Ko(s).set(new Ko(i)),s}function Ph(i,s){var d=s?ha(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.byteLength)}function Dh(i){var s=new i.constructor(i.source,kt.exec(i));return s.lastIndex=i.lastIndex,s}function bh(i){return vi?Kt(vi.call(i)):{}}function Lh(i,s){var d=s?ha(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.length)}function Qu(i,s){if(i!==s){var d=i!==t,x=i===null,P=i===i,A=er(i),H=s!==t,G=s===null,J=s===s,ge=er(s);if(!G&&!ge&&!A&&i>s||A&&H&&J&&!G&&!ge||x&&H&&J||!d&&J||!P)return 1;if(!x&&!A&&!ge&&i<s||ge&&d&&P&&!x&&!A||G&&d&&P||!H&&P||!J)return-1}return 0}function Vf(i,s,d){for(var x=-1,P=i.criteria,A=s.criteria,H=P.length,G=d.length;++x<H;){var J=Qu(P[x],A[x]);if(J){if(x>=G)return J;var ge=d[x];return J*(ge=="desc"?-1:1)}}return i.index-s.index}function Oh(i,s,d,x){for(var P=-1,A=i.length,H=d.length,G=-1,J=s.length,ge=xn(A-H,0),me=re(J+ge),Pe=!x;++G<J;)me[G]=s[G];for(;++P<H;)(Pe||P<A)&&(me[d[P]]=i[P]);for(;ge--;)me[G++]=i[P++];return me}function Ju(i,s,d,x){for(var P=-1,A=i.length,H=-1,G=d.length,J=-1,ge=s.length,me=xn(A-G,0),Pe=re(me+ge),Be=!x;++P<me;)Pe[P]=i[P];for(var rt=P;++J<ge;)Pe[rt+J]=s[J];for(;++H<G;)(Be||P<A)&&(Pe[rt+d[H]]=i[P++]);return Pe}function Jn(i,s){var d=-1,x=i.length;for(s||(s=re(x));++d<x;)s[d]=i[d];return s}function Zi(i,s,d,x){var P=!d;d||(d={});for(var A=-1,H=s.length;++A<H;){var G=s[A],J=x?x(d[G],i[G],G,d,i):t;J===t&&(J=i[G]),P?hr(d,G,J):bs(d,G,J)}return d}function Dl(i,s){return Zi(i,Xi(i),s)}function Gf(i,s){return Zi(i,Mh(i),s)}function bl(i,s){return function(d,x){var P=Pt(d)?yu:yi,A=s?s():{};return P(d,i,ft(x,2),A)}}function xo(i){return Dt(function(s,d){var x=-1,P=d.length,A=P>1?d[P-1]:t,H=P>2?d[2]:t;for(A=i.length>3&&typeof A=="function"?(P--,A):t,H&&ei(d[0],d[1],H)&&(A=P<3?t:A,P=1),s=Kt(s);++x<P;){var G=d[x];G&&i(s,G,x,A)}return s})}function Ai(i,s){return function(d,x){if(d==null)return d;if(!Ni(d))return i(d,x);for(var P=d.length,A=s?P:-1,H=Kt(d);(s?A--:++A<P)&&x(H[A],A,H)!==!1;);return d}}function Ll(i){return function(s,d,x){for(var P=-1,A=Kt(s),H=x(s),G=H.length;G--;){var J=H[i?G:++P];if(d(A[J],J,A)===!1)break}return s}}function Ol(i,s,d){var x=s&F,P=To(i);function A(){var H=this&&this!==an&&this instanceof A?P:i;return H.apply(x?d:this,arguments)}return A}function $u(i){return function(s){s=Yt(s);var d=eo(s)?mi(s):t,x=d?d[0]:s.charAt(0),P=d?Fr(d,1).join(""):s.slice(1);return x[i]()+P}}function As(i){return function(s){return xu(mp(gp(s).replace(Rf,"")),i,"")}}function To(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var d=uo(i.prototype),x=i.apply(d,s);return yn(x)?x:d}}function ec(i,s,d){var x=To(i);function P(){for(var A=arguments.length,H=re(A),G=A,J=Ir(P);G--;)H[G]=arguments[G];var ge=A<3&&H[0]!==J&&H[A-1]!==J?[]:Ri(H,J);if(A-=ge.length,A<d)return $n(i,s,So,P.placeholder,t,H,ge,t,t,d-A);var me=this&&this!==an&&this instanceof P?x:i;return Yn(me,this,H)}return P}function Ms(i){return function(s,d,x){var P=Kt(s);if(!Ni(s)){var A=ft(d,3);s=Zn(s),d=function(G){return A(P[G],G,P)}}var H=i(s,d,x);return H>-1?P[A?s[H]:H]:t}}function kl(i){return yr(function(s){var d=s.length,x=d,P=Un.prototype.thru;for(i&&s.reverse();x--;){var A=s[x];if(typeof A!="function")throw new Pi(u);if(P&&!H&&Eo(A)=="wrapper")var H=new Un([],!0)}for(x=H?x:d;++x<d;){A=s[x];var G=Eo(A),J=G=="wrapper"?Al(A):t;J&&wa(J[0])&&J[1]==(we|ee|Se|N)&&!J[4].length&&J[9]==1?H=H[Eo(J[0])].apply(H,J[3]):H=A.length==1&&wa(A)?H[G]():H.thru(A)}return function(){var ge=arguments,me=ge[0];if(H&&ge.length==1&&Pt(me))return H.plant(me).value();for(var Pe=0,Be=d?s[Pe].apply(this,ge):me;++Pe<d;)Be=s[Pe].call(this,Be);return Be}})}function So(i,s,d,x,P,A,H,G,J,ge){var me=s&we,Pe=s&F,Be=s&z,rt=s&(ee|Le),wt=s&U,Lt=Be?t:To(i);function _t(){for(var At=arguments.length,Nt=re(At),tr=At;tr--;)Nt[tr]=arguments[tr];if(rt)var Ti=Ir(_t),nr=ih(Nt,Ti);if(x&&(Nt=Oh(Nt,x,P,rt)),A&&(Nt=Ju(Nt,A,H,rt)),At-=nr,rt&&At<ge){var Dn=Ri(Nt,Ti);return $n(i,s,So,_t.placeholder,d,Nt,Dn,G,J,ge-At)}var Nr=Pe?d:this,Vs=Be?Nr[i]:i;return At=Nt.length,G?Nt=Ki(Nt,G):wt&&At>1&&Nt.reverse(),me&&J<At&&(Nt.length=J),this&&this!==an&&this instanceof _t&&(Vs=Lt||To(Vs)),Vs.apply(Nr,Nt)}return _t}function kh(i,s){return function(d,x){return br(d,i,s(x),{})}}function fa(i,s){return function(d,x){var P;if(d===t&&x===t)return s;if(d!==t&&(P=d),x!==t){if(P===t)return x;typeof d=="string"||typeof x=="string"?(d=fi(d),x=fi(x)):(d=Zu(d),x=Zu(x)),P=i(d,x)}return P}}function Fl(i){return yr(function(s){return s=Jt(s,gi(ft())),Dt(function(d){var x=this;return i(s,function(P){return Yn(P,x,d)})})})}function da(i,s){s=s===t?" ":fi(s);var d=s.length;if(d<2)return d?Fs(s,i):s;var x=Fs(s,Es(i/Ts(s)));return eo(s)?Fr(mi(x),0,i).join(""):x.slice(0,i)}function Fh(i,s,d,x){var P=s&F,A=To(i);function H(){for(var G=-1,J=arguments.length,ge=-1,me=x.length,Pe=re(me+J),Be=this&&this!==an&&this instanceof H?A:i;++ge<me;)Pe[ge]=x[ge];for(;J--;)Pe[ge++]=arguments[++G];return Yn(Be,P?d:this,Pe)}return H}function tc(i){return function(s,d,x){return x&&typeof x!="number"&&ei(s,d,x)&&(d=x=t),s=Ws(s),d===t?(d=s,s=0):d=Ws(d),x=x===t?s<d?1:-1:Ws(x),la(s,d,x,i)}}function Il(i){return function(s,d){return typeof s=="string"&&typeof d=="string"||(s=_r(s),d=_r(d)),i(s,d)}}function $n(i,s,d,x,P,A,H,G,J,ge){var me=s&ee,Pe=me?H:t,Be=me?t:H,rt=me?A:t,wt=me?t:A;s|=me?Se:Z,s&=~(me?Z:Se),s&q||(s&=-4);var Lt=[i,s,P,rt,Pe,wt,Be,G,J,ge],_t=d.apply(t,Lt);return wa(i)&&hc(_t,Lt),_t.placeholder=x,fc(_t,i,s)}function In(i){var s=_n[i];return function(d,x){if(d=_r(d),x=x==null?0:Hn(bt(x),292),x&&ro(d)){var P=(Yt(d)+"e").split("e"),A=s(P[0]+"e"+(+P[1]+x));return P=(Yt(A)+"e").split("e"),+(P[0]+"e"+(+P[1]-x))}return s(d)}}var Ih=Qr&&1/Kr(new Qr([,-0]))[1]==Oe?function(i){return new Qr(i)}:vd;function nc(i){return function(s){var d=An(s);return d==Tt?Qa(s):d==xe?Nf(s):Af(s,i(s))}}function vr(i,s,d,x,P,A,H,G){var J=s&z;if(!J&&typeof i!="function")throw new Pi(u);var ge=x?x.length:0;if(ge||(s&=-97,x=P=t),H=H===t?H:xn(bt(H),0),G=G===t?G:bt(G),ge-=P?P.length:0,s&Z){var me=x,Pe=P;x=P=t}var Be=J?t:Al(i),rt=[i,s,d,x,P,me,Pe,A,H,G];if(Be&&Hh(rt,Be),i=rt[0],s=rt[1],d=rt[2],x=rt[3],P=rt[4],G=rt[9]=rt[9]===t?J?0:i.length:xn(rt[9]-ge,0),!G&&s&(ee|Le)&&(s&=-25),!s||s==F)var wt=Ol(i,s,d);else s==ee||s==Le?wt=ec(i,s,G):(s==Se||s==(F|Se))&&!P.length?wt=Fh(i,s,d,x):wt=So.apply(t,rt);var Lt=Be?Sl:hc;return fc(Lt(wt,rt),i,s)}function ic(i,s,d,x){return i===t||zr(i,or[d])&&!Ut.call(x,d)?s:i}function rc(i,s,d,x,P,A){return yn(i)&&yn(s)&&(A.set(s,i),ks(i,s,t,rc,A),A.delete(s)),i}function sc(i){return Dc(i)?t:i}function oc(i,s,d,x,P,A){var H=d&L,G=i.length,J=s.length;if(G!=J&&!(H&&J>G))return!1;var ge=A.get(i),me=A.get(s);if(ge&&me)return ge==s&&me==i;var Pe=-1,Be=!0,rt=d&D?new Rs:t;for(A.set(i,s),A.set(s,i);++Pe<G;){var wt=i[Pe],Lt=s[Pe];if(x)var _t=H?x(Lt,wt,Pe,s,i,A):x(wt,Lt,Pe,i,s,A);if(_t!==t){if(_t)continue;Be=!1;break}if(rt){if(!Tu(s,function(At,Nt){if(!Tr(rt,Nt)&&(wt===At||P(wt,At,d,x,A)))return rt.push(Nt)})){Be=!1;break}}else if(!(wt===Lt||P(wt,Lt,d,x,A))){Be=!1;break}}return A.delete(i),A.delete(s),Be}function ac(i,s,d,x,P,A,H){switch(d){case ht:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case ze:return!(i.byteLength!=s.byteLength||!A(new Ko(i),new Ko(s)));case Me:case Ke:case pt:return zr(+i,+s);case Ye:return i.name==s.name&&i.message==s.message;case he:case Ie:return i==s+"";case Tt:var G=Qa;case xe:var J=x&L;if(G||(G=Kr),i.size!=s.size&&!J)return!1;var ge=H.get(i);if(ge)return ge==s;x|=D,H.set(i,s);var me=oc(G(i),G(s),x,P,A,H);return H.delete(i),me;case de:if(vi)return vi.call(i)==vi.call(s)}return!1}function Ah(i,s,d,x,P,A){var H=d&L,G=pa(i),J=G.length,ge=pa(s),me=ge.length;if(J!=me&&!H)return!1;for(var Pe=J;Pe--;){var Be=G[Pe];if(!(H?Be in s:Ut.call(s,Be)))return!1}var rt=A.get(i),wt=A.get(s);if(rt&&wt)return rt==s&&wt==i;var Lt=!0;A.set(i,s),A.set(s,i);for(var _t=H;++Pe<J;){Be=G[Pe];var At=i[Be],Nt=s[Be];if(x)var tr=H?x(Nt,At,Be,s,i,A):x(At,Nt,Be,i,s,A);if(!(tr===t?At===Nt||P(At,Nt,d,x,A):tr)){Lt=!1;break}_t||(_t=Be=="constructor")}if(Lt&&!_t){var Ti=i.constructor,nr=s.constructor;Ti!=nr&&"constructor"in i&&"constructor"in s&&!(typeof Ti=="function"&&Ti instanceof Ti&&typeof nr=="function"&&nr instanceof nr)&&(Lt=!1)}return A.delete(i),A.delete(s),Lt}function yr(i){return _i(Bl(i,t,jl),i+"")}function pa(i){return vl(i,Zn,Xi)}function ga(i){return vl(i,Bi,Mh)}var Al=ll?function(i){return ll.get(i)}:vd;function Eo(i){for(var s=i.name+"",d=ao[s],x=Ut.call(ao,s)?d.length:0;x--;){var P=d[x],A=P.func;if(A==null||A==i)return P.name}return s}function Ir(i){var s=Ut.call(O,"placeholder")?O:i;return s.placeholder}function ft(){var i=O.iteratee||gd;return i=i===gd?mo:i,arguments.length?i(arguments[0],arguments[1]):i}function ma(i,s){var d=i.__data__;return Co(s)?d[typeof s=="string"?"string":"hash"]:d.map}function va(i){for(var s=Zn(i),d=s.length;d--;){var x=s[d],P=i[x];s[d]=[x,P,_a(P)]}return s}function os(i,s){var d=$s(i,s);return Bu(d)?d:t}function Ml(i){var s=Ut.call(i,Ss),d=i[Ss];try{i[Ss]=t;var x=!0}catch{}var P=Zo.call(i);return x&&(s?i[Ss]=d:delete i[Ss]),P}var Xi=sl?function(i){return i==null?[]:(i=Kt(i),Zr(sl(i),function(s){return il.call(i,s)}))}:yd,Mh=sl?function(i){for(var s=[];i;)Xr(s,Xi(i)),i=Gi(i);return s}:yd,An=Fn;(Jo&&An(new Jo(new ArrayBuffer(1)))!=ht||Cs&&An(new Cs)!=Tt||$o&&An($o.resolve())!=k||Qr&&An(new Qr)!=xe||ea&&An(new ea)!=ut)&&(An=function(i){var s=Fn(i),d=s==S?i.constructor:t,x=d?as(d):"";if(x)switch(x){case Fu:return ht;case Jr:return Tt;case gh:return k;case lo:return xe;case ar:return ut}return s});function lc(i,s,d){for(var x=-1,P=d.length;++x<P;){var A=d[x],H=A.size;switch(A.type){case"drop":i+=H;break;case"dropRight":s-=H;break;case"take":s=Hn(s,i+H);break;case"takeRight":i=xn(i,s-H);break}}return{start:i,end:s}}function zh(i){var s=i.match(mt);return s?s[1].split(qe):[]}function uc(i,s,d){s=mr(s,i);for(var x=-1,P=s.length,A=!1;++x<P;){var H=Qi(s[x]);if(!(A=i!=null&&d(i,H)))break;i=i[H]}return A||++x!=P?A:(P=i==null?0:i.length,!!P&&rf(P)&&un(H,P)&&(Pt(i)||Da(i)))}function ya(i){var s=i.length,d=new i.constructor(s);return s&&typeof i[0]=="string"&&Ut.call(i,"index")&&(d.index=i.index,d.input=i.input),d}function Mn(i){return typeof i.constructor=="function"&&!Ar(i)?uo(Gi(i)):{}}function qf(i,s,d){var x=i.constructor;switch(s){case ze:return ha(i);case Me:case Ke:return new x(+i);case ht:return Ph(i,d);case C:case E:case I:case M:case le:case Ee:case nt:case Ot:case it:return Lh(i,d);case Tt:return new x;case pt:case Ie:return new x(i);case he:return Dh(i);case xe:return new x;case de:return bh(i)}}function Zf(i,s){var d=s.length;if(!d)return i;var x=d-1;return s[x]=(d>1?"& ":"")+s[x],s=s.join(d>2?", ":" "),i.replace(tt,`{
/* [wrapped with `+s+`] */
`)}function zl(i){return Pt(i)||Da(i)||!!(fh&&i&&i[fh])}function un(i,s){var d=typeof i;return s=s??pe,!!s&&(d=="number"||d!="symbol"&&xr.test(i))&&i>-1&&i%1==0&&i<s}function ei(i,s,d){if(!yn(d))return!1;var x=typeof s;return(x=="number"?Ni(d)&&un(s,d.length):x=="string"&&s in d)?zr(d[s],i):!1}function Ve(i,s){if(Pt(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||er(i)?!0:Ma.test(i)||!Mo.test(i)||s!=null&&i in Kt(s)}function Co(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function wa(i){var s=Eo(i),d=O[s];if(typeof d!="function"||!(s in Rt.prototype))return!1;if(i===d)return!0;var x=Al(d);return!!x&&i===x[0]}function Nh(i){return!!el&&el in i}var Xf=no?js:wd;function Ar(i){var s=i&&i.constructor,d=typeof s=="function"&&s.prototype||or;return i===d}function _a(i){return i===i&&!yn(i)}function Nl(i,s){return function(d){return d==null?!1:d[i]===s&&(s!==t||i in Kt(d))}}function Bh(i){var s=ke(i,function(x){return d.size===f&&d.clear(),x}),d=s.cache;return s}function Hh(i,s){var d=i[1],x=s[1],P=d|x,A=P<(F|z|we),H=x==we&&d==ee||x==we&&d==N&&i[7].length<=s[8]||x==(we|N)&&s[7].length<=s[8]&&d==ee;if(!(A||H))return i;x&F&&(i[2]=s[2],P|=d&F?0:q);var G=s[3];if(G){var J=i[3];i[3]=J?Oh(J,G,s[4]):G,i[4]=J?Ri(i[3],v):s[4]}return G=s[5],G&&(J=i[5],i[5]=J?Ju(J,G,s[6]):G,i[6]=J?Ri(i[5],v):s[6]),G=s[7],G&&(i[7]=G),x&we&&(i[8]=i[8]==null?s[8]:Hn(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=P,i}function Uh(i){var s=[];if(i!=null)for(var d in Kt(i))s.push(d);return s}function cc(i){return Zo.call(i)}function Bl(i,s,d){return s=xn(s===t?i.length-1:s,0),function(){for(var x=arguments,P=-1,A=xn(x.length-s,0),H=re(A);++P<A;)H[P]=x[s+P];P=-1;for(var G=re(s+1);++P<s;)G[P]=x[P];return G[s]=d(H),Yn(i,this,G)}}function Ln(i,s){return s.length<2?i:Dr(i,qn(s,0,-1))}function Ki(i,s){for(var d=i.length,x=Hn(s.length,d),P=Jn(i);x--;){var A=s[x];i[x]=un(A,d)?P[A]:t}return i}function wr(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var hc=Yi(Sl),Ro=Ou||function(i,s){return an.setTimeout(i,s)},_i=Yi(gr);function fc(i,s,d){var x=s+"";return _i(i,Zf(x,jh(zh(x),d)))}function Yi(i){var s=0,d=0;return function(){var x=Wf(),P=Fe-(x-d);if(d=x,P>0){if(++s>=ce)return arguments[0]}else s=0;return i.apply(t,arguments)}}function Hl(i,s){var d=-1,x=i.length,P=x-1;for(s=s===t?x:s;++d<s;){var A=vo(d,P),H=i[A];i[A]=i[d],i[d]=H}return i.length=s,i}var dc=Bh(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(V,function(d,x,P,A){s.push(P?A.replace(st,"$1"):x||d)}),s});function Qi(i){if(typeof i=="string"||er(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function as(i){if(i!=null){try{return qo.call(i)}catch{}try{return i+""}catch{}}return""}function jh(i,s){return Bn(Ne,function(d){var x="_."+d[0];s&d[1]&&!Xa(i,x)&&i.push(x)}),i.sort()}function Wh(i){if(i instanceof Rt)return i.clone();var s=new Un(i.__wrapped__,i.__chain__);return s.__actions__=Jn(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function Ul(i,s,d){(d?ei(i,s,d):s===t)?s=1:s=xn(bt(s),0);var x=i==null?0:i.length;if(!x||s<1)return[];for(var P=0,A=0,H=re(Es(x/s));P<x;)H[A++]=qn(i,P,P+=s);return H}function pc(i){for(var s=-1,d=i==null?0:i.length,x=0,P=[];++s<d;){var A=i[s];A&&(P[x++]=A)}return P}function Mi(){var i=arguments.length;if(!i)return[];for(var s=re(i-1),d=arguments[0],x=i;x--;)s[x-1]=arguments[x];return Xr(Pt(d)?Jn(d):[d],pn(s,1))}var zt=Dt(function(i,s){return Pn(i)?fr(i,pn(s,1,Pn,!0)):[]}),On=Dt(function(i,s){var d=ti(s);return Pn(d)&&(d=t),Pn(i)?fr(i,pn(s,1,Pn,!0),ft(d,2)):[]}),Tn=Dt(function(i,s){var d=ti(s);return Pn(d)&&(d=t),Pn(i)?fr(i,pn(s,1,Pn,!0),t,d):[]});function zn(i,s,d){var x=i==null?0:i.length;return x?(s=d||s===t?1:bt(s),qn(i,s<0?0:s,x)):[]}function xi(i,s,d){var x=i==null?0:i.length;return x?(s=d||s===t?1:bt(s),s=x-s,qn(i,0,s<0?0:s)):[]}function Po(i,s){return i&&i.length?ua(i,ft(s,3),!0,!0):[]}function Cn(i,s){return i&&i.length?ua(i,ft(s,3),!0):[]}function xa(i,s,d,x){var P=i==null?0:i.length;return P?(d&&typeof d!="number"&&ei(i,s,d)&&(d=0,x=P),Sh(i,s,d,x)):[]}function ls(i,s,d){var x=i==null?0:i.length;if(!x)return-1;var P=d==null?0:bt(d);return P<0&&(P=xn(x+P,0)),Ka(i,ft(s,3),P)}function Ta(i,s,d){var x=i==null?0:i.length;if(!x)return-1;var P=x-1;return d!==t&&(P=bt(d),P=d<0?xn(x+P,0):Hn(P,x-1)),Ka(i,ft(s,3),P,!0)}function jl(i){var s=i==null?0:i.length;return s?pn(i,1):[]}function Sa(i){var s=i==null?0:i.length;return s?pn(i,Oe):[]}function di(i,s){var d=i==null?0:i.length;return d?(s=s===t?1:bt(s),pn(i,s)):[]}function gc(i){for(var s=-1,d=i==null?0:i.length,x={};++s<d;){var P=i[s];x[P[0]]=P[1]}return x}function zs(i){return i&&i.length?i[0]:t}function Mr(i,s,d){var x=i==null?0:i.length;if(!x)return-1;var P=d==null?0:bt(d);return P<0&&(P=xn(x+P,0)),Js(i,s,P)}function Wl(i){var s=i==null?0:i.length;return s?qn(i,0,-1):[]}var mc=Dt(function(i){var s=Jt(i,_o);return s.length&&s[0]===i[0]?yl(s):[]}),us=Dt(function(i){var s=ti(i),d=Jt(i,_o);return s===ti(d)?s=t:d.pop(),d.length&&d[0]===i[0]?yl(d,ft(s,2)):[]}),Vl=Dt(function(i){var s=ti(i),d=Jt(i,_o);return s=typeof s=="function"?s:t,s&&d.pop(),d.length&&d[0]===i[0]?yl(d,t,s):[]});function cs(i,s){return i==null?"":ol.call(i,s)}function ti(i){var s=i==null?0:i.length;return s?i[s-1]:t}function Ea(i,s,d){var x=i==null?0:i.length;if(!x)return-1;var P=x;return d!==t&&(P=bt(d),P=P<0?xn(x+P,0):Hn(P,x-1)),s===s?Bf(i,s,P):Ka(i,Jc,P,!0)}function vc(i,s){return i&&i.length?Tl(i,bt(s)):t}var Gl=Dt(Ca);function Ca(i,s){return i&&i.length&&s&&s.length?vn(i,s):i}function ni(i,s,d){return i&&i.length&&s&&s.length?vn(i,s,ft(d,2)):i}function hs(i,s,d){return i&&i.length&&s&&s.length?vn(i,s,t,d):i}var Ji=yr(function(i,s){var d=i==null?0:i.length,x=gl(i,s);return En(i,Jt(s,function(P){return un(P,d)?+P:P}).sort(Qu)),x});function pi(i,s){var d=[];if(!(i&&i.length))return d;var x=-1,P=[],A=i.length;for(s=ft(s,3);++x<A;){var H=i[x];s(H,x,i)&&(d.push(H),P.push(x))}return En(i,P),d}function ql(i){return i==null?i:al.call(i)}function yc(i,s,d){var x=i==null?0:i.length;return x?(d&&typeof d!="number"&&ei(i,s,d)?(s=0,d=x):(s=s==null?0:bt(s),d=d===t?x:bt(d)),qn(i,s,d)):[]}function wc(i,s){return yo(i,s)}function Kf(i,s,d){return El(i,s,ft(d,2))}function fs(i,s){var d=i==null?0:i.length;if(d){var x=yo(i,s);if(x<d&&zr(i[x],s))return x}return-1}function Vh(i,s){return yo(i,s,!0)}function _c(i,s,d){return El(i,s,ft(d,2),!0)}function Ns(i,s){var d=i==null?0:i.length;if(d){var x=yo(i,s,!0)-1;if(zr(i[x],s))return x}return-1}function xc(i){return i&&i.length?qu(i):[]}function Bs(i,s){return i&&i.length?qu(i,ft(s,2)):[]}function Gh(i){var s=i==null?0:i.length;return s?qn(i,1,s):[]}function qh(i,s,d){return i&&i.length?(s=d||s===t?1:bt(s),qn(i,0,s<0?0:s)):[]}function Tc(i,s,d){var x=i==null?0:i.length;return x?(s=d||s===t?1:bt(s),s=x-s,qn(i,s<0?0:s,x)):[]}function Zl(i,s){return i&&i.length?ua(i,ft(s,3),!1,!0):[]}function Yf(i,s){return i&&i.length?ua(i,ft(s,3)):[]}var Qf=Dt(function(i){return kr(pn(i,1,Pn,!0))}),Zh=Dt(function(i){var s=ti(i);return Pn(s)&&(s=t),kr(pn(i,1,Pn,!0),ft(s,2))}),Xh=Dt(function(i){var s=ti(i);return s=typeof s=="function"?s:t,kr(pn(i,1,Pn,!0),t,s)});function Hs(i){return i&&i.length?kr(i):[]}function Jf(i,s){return i&&i.length?kr(i,ft(s,2)):[]}function Do(i,s){return s=typeof s=="function"?s:t,i&&i.length?kr(i,t,s):[]}function Xl(i){if(!(i&&i.length))return[];var s=0;return i=Zr(i,function(d){if(Pn(d))return s=xn(d.length,s),!0}),Ru(s,function(d){return Jt(i,Eu(d))})}function hn(i,s){if(!(i&&i.length))return[];var d=Xl(i);return s==null?d:Jt(d,function(x){return Yn(s,t,x)})}var $f=Dt(function(i,s){return Pn(i)?fr(i,s):[]}),Kh=Dt(function(i){return Rl(Zr(i,Pn))}),ed=Dt(function(i){var s=ti(i);return Pn(s)&&(s=t),Rl(Zr(i,Pn),ft(s,2))}),td=Dt(function(i){var s=ti(i);return s=typeof s=="function"?s:t,Rl(Zr(i,Pn),t,s)}),Yh=Dt(Xl);function Qh(i,s){return ca(i||[],s||[],bs)}function nd(i,s){return ca(i||[],s||[],Is)}var zi=Dt(function(i){var s=i.length,d=s>1?i[s-1]:t;return d=typeof d=="function"?(i.pop(),d):t,hn(i,d)});function Kl(i){var s=O(i);return s.__chain__=!0,s}function id(i,s){return s(i),i}function $i(i,s){return s(i)}var Yl=yr(function(i){var s=i.length,d=s?i[0]:0,x=this.__wrapped__,P=function(A){return gl(A,i)};return s>1||this.__actions__.length||!(x instanceof Rt)||!un(d)?this.thru(P):(x=x.slice(d,+d+(s?1:0)),x.__actions__.push({func:$i,args:[P],thisArg:t}),new Un(x,this.__chain__).thru(function(A){return s&&!A.length&&A.push(t),A}))});function Us(){return Kl(this)}function Ql(){return new Un(this.value(),this.__chain__)}function Sc(){this.__values__===t&&(this.__values__=op(this.value()));var i=this.__index__>=this.__values__.length,s=i?t:this.__values__[this.__index__++];return{done:i,value:s}}function Ec(){return this}function rd(i){for(var s,d=this;d instanceof lr;){var x=Wh(d);x.__index__=0,x.__values__=t,s?P.__wrapped__=x:s=x;var P=x;d=d.__wrapped__}return P.__wrapped__=i,s}function Cc(){var i=this.__wrapped__;if(i instanceof Rt){var s=i;return this.__actions__.length&&(s=new Rt(this)),s=s.reverse(),s.__actions__.push({func:$i,args:[ql],thisArg:t}),new Un(s,this.__chain__)}return this.thru(ql)}function sd(){return wo(this.__wrapped__,this.__actions__)}var Jh=bl(function(i,s,d){Ut.call(i,d)?++i[d]:hr(i,d,1)});function $h(i,s,d){var x=Pt(i)?wu:ia;return d&&ei(i,s,d)&&(s=t),x(i,ft(s,3))}function Jl(i,s){var d=Pt(i)?Zr:zu;return d(i,ft(s,3))}var $l=Ms(ls),ef=Ms(Ta);function Rc(i,s){return pn(iu(i,s),1)}function tf(i,s){return pn(iu(i,s),Oe)}function Pc(i,s,d){return d=d===t?1:bt(d),pn(iu(i,s),d)}function Ra(i,s){var d=Pt(i)?Bn:dr;return d(i,ft(s,3))}function eu(i,s){var d=Pt(i)?Za:Th;return d(i,ft(s,3))}var tu=bl(function(i,s,d){Ut.call(i,d)?i[d].push(s):hr(i,d,[s])});function nf(i,s,d,x){i=Ni(i)?i:ou(i),d=d&&!x?bt(d):0;var P=i.length;return d<0&&(d=xn(P+d,0)),sf(i)?d<=P&&i.indexOf(s,d)>-1:!!P&&Js(i,s,d)>-1}var od=Dt(function(i,s,d){var x=-1,P=typeof s=="function",A=Ni(i)?re(i.length):[];return dr(i,function(H){A[++x]=P?Yn(s,H,d):ki(H,s,d)}),A}),nu=bl(function(i,s,d){hr(i,d,s)});function iu(i,s){var d=Pt(i)?Jt:Uu;return d(i,ft(s,3))}function Pa(i,s,d,x){return i==null?[]:(Pt(s)||(s=s==null?[]:[s]),d=x?t:d,Pt(d)||(d=d==null?[]:[d]),aa(i,s,d))}var ad=bl(function(i,s,d){i[d?0:1].push(s)},function(){return[[],[]]});function ru(i,s,d){var x=Pt(i)?xu:eh,P=arguments.length<3;return x(i,ft(s,4),d,P,dr)}function e(i,s,d){var x=Pt(i)?Of:eh,P=arguments.length<3;return x(i,ft(s,4),d,P,Th)}function n(i,s){var d=Pt(i)?Zr:zu;return d(i,et(ft(s,3)))}function o(i){var s=Pt(i)?cr:Gn;return s(i)}function c(i,s,d){(d?ei(i,s,d):s===t)?s=1:s=bt(s);var x=Pt(i)?Ds:Vu;return x(i,s)}function y(i){var s=Pt(i)?_h:Ii;return s(i)}function _(i){if(i==null)return 0;if(Ni(i))return sf(i)?Ts(i):i.length;var s=An(i);return s==Tt||s==xe?i.size:Or(i).length}function b(i,s,d){var x=Pt(i)?Tu:Gu;return d&&ei(i,s,d)&&(s=t),x(i,ft(s,3))}var B=Dt(function(i,s){if(i==null)return[];var d=s.length;return d>1&&ei(i,s[0],s[1])?s=[]:d>2&&ei(s[0],s[1],s[2])&&(s=[s[0]]),aa(i,pn(s,1),[])}),W=rn||function(){return an.Date.now()};function oe(i,s){if(typeof s!="function")throw new Pi(u);return i=bt(i),function(){if(--i<1)return s.apply(this,arguments)}}function Ce(i,s,d){return s=d?t:s,s=i&&s==null?i.length:s,vr(i,we,t,t,t,t,s)}function be(i,s){var d;if(typeof s!="function")throw new Pi(u);return i=bt(i),function(){return--i>0&&(d=s.apply(this,arguments)),i<=1&&(s=t),d}}var Te=Dt(function(i,s,d){var x=F;if(d.length){var P=Ri(d,Ir(Te));x|=Se}return vr(i,x,s,d,P)}),je=Dt(function(i,s,d){var x=F|z;if(d.length){var P=Ri(d,Ir(je));x|=Se}return vr(s,x,i,d,P)});function Qe(i,s,d){s=d?t:s;var x=vr(i,ee,t,t,t,t,t,s);return x.placeholder=Qe.placeholder,x}function $e(i,s,d){s=d?t:s;var x=vr(i,Le,t,t,t,t,t,s);return x.placeholder=$e.placeholder,x}function gn(i,s,d){var x,P,A,H,G,J,ge=0,me=!1,Pe=!1,Be=!0;if(typeof i!="function")throw new Pi(u);s=_r(s)||0,yn(d)&&(me=!!d.leading,Pe="maxWait"in d,A=Pe?xn(_r(d.maxWait)||0,s):A,Be="trailing"in d?!!d.trailing:Be);function rt(Dn){var Nr=x,Vs=P;return x=P=t,ge=Dn,H=i.apply(Vs,Nr),H}function wt(Dn){return ge=Dn,G=Ro(At,s),me?rt(Dn):H}function Lt(Dn){var Nr=Dn-J,Vs=Dn-ge,wp=s-Nr;return Pe?Hn(wp,A-Vs):wp}function _t(Dn){var Nr=Dn-J,Vs=Dn-ge;return J===t||Nr>=s||Nr<0||Pe&&Vs>=A}function At(){var Dn=W();if(_t(Dn))return Nt(Dn);G=Ro(At,Lt(Dn))}function Nt(Dn){return G=t,Be&&x?rt(Dn):(x=P=t,H)}function tr(){G!==t&&Ku(G),ge=0,x=J=P=G=t}function Ti(){return G===t?H:Nt(W())}function nr(){var Dn=W(),Nr=_t(Dn);if(x=arguments,P=this,J=Dn,Nr){if(G===t)return wt(J);if(Pe)return Ku(G),G=Ro(At,s),rt(J)}return G===t&&(G=Ro(At,s)),H}return nr.cancel=tr,nr.flush=Ti,nr}var $=Dt(function(i,s){return Mu(i,1,s)}),X=Dt(function(i,s,d){return Mu(i,_r(s)||0,d)});function ne(i){return vr(i,U)}function ke(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new Pi(u);var d=function(){var x=arguments,P=s?s.apply(this,x):x[0],A=d.cache;if(A.has(P))return A.get(P);var H=i.apply(this,x);return d.cache=A.set(P,H)||A,H};return d.cache=new(ke.Cache||Di),d}ke.Cache=Di;function et(i){if(typeof i!="function")throw new Pi(u);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function ot(i){return be(2,i)}var at=Rh(function(i,s){s=s.length==1&&Pt(s[0])?Jt(s[0],gi(ft())):Jt(pn(s,1),gi(ft()));var d=s.length;return Dt(function(x){for(var P=-1,A=Hn(x.length,d);++P<A;)x[P]=s[P].call(this,x[P]);return Yn(i,this,x)})}),vt=Dt(function(i,s){var d=Ri(s,Ir(vt));return vr(i,Se,t,s,d)}),Rn=Dt(function(i,s){var d=Ri(s,Ir(Rn));return vr(i,Z,t,s,d)}),jt=yr(function(i,s){return vr(i,N,t,t,t,s)});function ds(i,s){if(typeof i!="function")throw new Pi(u);return s=s===t?s:bt(s),Dt(i,s)}function ld(i,s){if(typeof i!="function")throw new Pi(u);return s=s==null?0:xn(bt(s),0),Dt(function(d){var x=d[s],P=Fr(d,0,s);return x&&Xr(P,x),Yn(i,this,P)})}function qg(i,s,d){var x=!0,P=!0;if(typeof i!="function")throw new Pi(u);return yn(d)&&(x="leading"in d?!!d.leading:x,P="trailing"in d?!!d.trailing:P),gn(i,s,{leading:x,maxWait:s,trailing:P})}function Zg(i){return Ce(i,1)}function Xg(i,s){return vt(Pl(s),i)}function Kg(){if(!arguments.length)return[];var i=arguments[0];return Pt(i)?i:[i]}function Yg(i){return hi(i,R)}function Qg(i,s){return s=typeof s=="function"?s:t,hi(i,R,s)}function Jg(i){return hi(i,w|R)}function $g(i,s){return s=typeof s=="function"?s:t,hi(i,w|R,s)}function em(i,s){return s==null||na(i,s,Zn(s))}function zr(i,s){return i===s||i!==i&&s!==s}var tm=Il(is),nm=Il(function(i,s){return i>=s}),Da=wl(function(){return arguments}())?wl:function(i){return Sn(i)&&Ut.call(i,"callee")&&!il.call(i,"callee")},Pt=re.isArray,im=vu?gi(vu):Eh;function Ni(i){return i!=null&&rf(i.length)&&!js(i)}function Pn(i){return Sn(i)&&Ni(i)}function rm(i){return i===!0||i===!1||Sn(i)&&Fn(i)==Me}var bo=ku||wd,sm=ai?gi(ai):Lr;function om(i){return Sn(i)&&i.nodeType===1&&!Dc(i)}function am(i){if(i==null)return!0;if(Ni(i)&&(Pt(i)||typeof i=="string"||typeof i.splice=="function"||bo(i)||su(i)||Da(i)))return!i.length;var s=An(i);if(s==Tt||s==xe)return!i.size;if(Ar(i))return!Or(i).length;for(var d in i)if(Ut.call(i,d))return!1;return!0}function lm(i,s){return Fi(i,s)}function um(i,s,d){d=typeof d=="function"?d:t;var x=d?d(i,s):t;return x===t?Fi(i,s,t,d):!!x}function ud(i){if(!Sn(i))return!1;var s=Fn(i);return s==Ye||s==Et||typeof i.message=="string"&&typeof i.name=="string"&&!Dc(i)}function cm(i){return typeof i=="number"&&ro(i)}function js(i){if(!yn(i))return!1;var s=Fn(i);return s==Ct||s==Bt||s==lt||s==K}function np(i){return typeof i=="number"&&i==bt(i)}function rf(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=pe}function yn(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function Sn(i){return i!=null&&typeof i=="object"}var ip=xs?gi(xs):Ch;function hm(i,s){return i===s||go(i,s,va(s))}function fm(i,s,d){return d=typeof d=="function"?d:t,go(i,s,va(s),d)}function dm(i){return rp(i)&&i!=+i}function pm(i){if(Xf(i))throw new xt(a);return Bu(i)}function gm(i){return i===null}function mm(i){return i==null}function rp(i){return typeof i=="number"||Sn(i)&&Fn(i)==pt}function Dc(i){if(!Sn(i)||Fn(i)!=S)return!1;var s=Gi(i);if(s===null)return!0;var d=Ut.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&qo.call(d)==tl}var cd=qa?gi(qa):sa;function vm(i){return np(i)&&i>=-9007199254740991&&i<=pe}var sp=Qs?gi(Qs):pr;function sf(i){return typeof i=="string"||!Pt(i)&&Sn(i)&&Fn(i)==Ie}function er(i){return typeof i=="symbol"||Sn(i)&&Fn(i)==de}var su=Kc?gi(Kc):oa;function ym(i){return i===t}function wm(i){return Sn(i)&&An(i)==ut}function _m(i){return Sn(i)&&Fn(i)==ct}var xm=Il(rs),Tm=Il(function(i,s){return i<=s});function op(i){if(!i)return[];if(Ni(i))return sf(i)?mi(i):Jn(i);if(Cr&&i[Cr])return zf(i[Cr]());var s=An(i),d=s==Tt?Qa:s==xe?Kr:ou;return d(i)}function Ws(i){if(!i)return i===0?i:0;if(i=_r(i),i===Oe||i===-1/0){var s=i<0?-1:1;return s*ye}return i===i?i:0}function bt(i){var s=Ws(i),d=s%1;return s===s?d?s-d:s:0}function ap(i){return i?Pr(bt(i),0,j):0}function _r(i){if(typeof i=="number")return i;if(er(i))return Re;if(yn(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=yn(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=th(i);var d=Zt.test(i);return d||nn.test(i)?Va(i.slice(2),d?2:8):wn.test(i)?Re:+i}function lp(i){return Zi(i,Bi(i))}function Sm(i){return i?Pr(bt(i),-9007199254740991,pe):i===0?i:0}function Yt(i){return i==null?"":fi(i)}var Em=xo(function(i,s){if(Ar(s)||Ni(s)){Zi(s,Zn(s),i);return}for(var d in s)Ut.call(s,d)&&bs(i,d,s[d])}),up=xo(function(i,s){Zi(s,Bi(s),i)}),of=xo(function(i,s,d,x){Zi(s,Bi(s),i,x)}),Cm=xo(function(i,s,d,x){Zi(s,Zn(s),i,x)}),Rm=yr(gl);function Pm(i,s){var d=uo(i);return s==null?d:on(d,s)}var Dm=Dt(function(i,s){i=Kt(i);var d=-1,x=s.length,P=x>2?s[2]:t;for(P&&ei(s[0],s[1],P)&&(x=1);++d<x;)for(var A=s[d],H=Bi(A),G=-1,J=H.length;++G<J;){var ge=H[G],me=i[ge];(me===t||zr(me,or[ge])&&!Ut.call(i,ge))&&(i[ge]=A[ge])}return i}),bm=Dt(function(i){return i.push(t,rc),Yn(cp,t,i)});function Lm(i,s){return Qc(i,ft(s,3),wi)}function Om(i,s){return Qc(i,ft(s,3),ns)}function km(i,s){return i==null?i:ml(i,ft(s,3),Bi)}function Fm(i,s){return i==null?i:ra(i,ft(s,3),Bi)}function Im(i,s){return i&&wi(i,ft(s,3))}function Am(i,s){return i&&ns(i,ft(s,3))}function Mm(i){return i==null?[]:po(i,Zn(i))}function zm(i){return i==null?[]:po(i,Bi(i))}function hd(i,s,d){var x=i==null?t:Dr(i,s);return x===t?d:x}function Nm(i,s){return i!=null&&uc(i,s,Oi)}function fd(i,s){return i!=null&&uc(i,s,Os)}var Bm=kh(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=Zo.call(s)),i[s]=d},pd(Hi)),Hm=kh(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=Zo.call(s)),Ut.call(i,s)?i[s].push(d):i[s]=[d]},ft),Um=Dt(ki);function Zn(i){return Ni(i)?ur(i):Or(i)}function Bi(i){return Ni(i)?ur(i,!0):Hu(i)}function jm(i,s){var d={};return s=ft(s,3),wi(i,function(x,P,A){hr(d,s(x,P,A),x)}),d}function Wm(i,s){var d={};return s=ft(s,3),wi(i,function(x,P,A){hr(d,P,s(x,P,A))}),d}var Vm=xo(function(i,s,d){ks(i,s,d)}),cp=xo(function(i,s,d,x){ks(i,s,d,x)}),Gm=yr(function(i,s){var d={};if(i==null)return d;var x=!1;s=Jt(s,function(A){return A=mr(A,i),x||(x=A.length>1),A}),Zi(i,ga(i),d),x&&(d=hi(d,w|T|R,sc));for(var P=s.length;P--;)Cl(d,s[P]);return d});function qm(i,s){return hp(i,et(ft(s)))}var Zm=yr(function(i,s){return i==null?{}:Wu(i,s)});function hp(i,s){if(i==null)return{};var d=Jt(ga(i),function(x){return[x]});return s=ft(s),ss(i,d,function(x,P){return s(x,P[0])})}function Xm(i,s,d){s=mr(s,i);var x=-1,P=s.length;for(P||(P=1,i=t);++x<P;){var A=i==null?t:i[Qi(s[x])];A===t&&(x=P,A=d),i=js(A)?A.call(i):A}return i}function Km(i,s,d){return i==null?i:Is(i,s,d)}function Ym(i,s,d,x){return x=typeof x=="function"?x:t,i==null?i:Is(i,s,d,x)}var fp=nc(Zn),dp=nc(Bi);function Qm(i,s,d){var x=Pt(i),P=x||bo(i)||su(i);if(s=ft(s,4),d==null){var A=i&&i.constructor;P?d=x?new A:[]:yn(i)?d=js(A)?uo(Gi(i)):{}:d={}}return(P?Bn:wi)(i,function(H,G,J){return s(d,H,G,J)}),d}function Jm(i,s){return i==null?!0:Cl(i,s)}function $m(i,s,d){return i==null?i:Xu(i,s,Pl(d))}function ev(i,s,d,x){return x=typeof x=="function"?x:t,i==null?i:Xu(i,s,Pl(d),x)}function ou(i){return i==null?[]:Vo(i,Zn(i))}function tv(i){return i==null?[]:Vo(i,Bi(i))}function nv(i,s,d){return d===t&&(d=s,s=t),d!==t&&(d=_r(d),d=d===d?d:0),s!==t&&(s=_r(s),s=s===s?s:0),Pr(_r(i),s,d)}function iv(i,s,d){return s=Ws(s),d===t?(d=s,s=0):d=Ws(d),i=_r(i),Nu(i,s,d)}function rv(i,s,d){if(d&&typeof d!="boolean"&&ei(i,s,d)&&(s=d=t),d===t&&(typeof s=="boolean"?(d=s,s=t):typeof i=="boolean"&&(d=i,i=t)),i===t&&s===t?(i=0,s=1):(i=Ws(i),s===t?(s=i,i=0):s=Ws(s)),i>s){var x=i;i=s,s=x}if(d||i%1||s%1){var P=Qo();return Hn(i+P*(s-i+gu("1e-"+((P+"").length-1))),s)}return vo(i,s)}var sv=As(function(i,s,d){return s=s.toLowerCase(),i+(d?pp(s):s)});function pp(i){return dd(Yt(i).toLowerCase())}function gp(i){return i=Yt(i),i&&i.replace(jr,rh).replace(Gc,"")}function ov(i,s,d){i=Yt(i),s=fi(s);var x=i.length;d=d===t?x:Pr(bt(d),0,x);var P=d;return d-=s.length,d>=0&&i.slice(d,P)==s}function av(i){return i=Yt(i),i&&Aa.test(i)?i.replace(Ei,sh):i}function lv(i){return i=Yt(i),i&&ae.test(i)?i.replace(Q,"\\$&"):i}var uv=As(function(i,s,d){return i+(d?"-":"")+s.toLowerCase()}),cv=As(function(i,s,d){return i+(d?" ":"")+s.toLowerCase()}),hv=$u("toLowerCase");function fv(i,s,d){i=Yt(i),s=bt(s);var x=s?Ts(i):0;if(!s||x>=s)return i;var P=(s-x)/2;return da(Yr(P),d)+i+da(Es(P),d)}function dv(i,s,d){i=Yt(i),s=bt(s);var x=s?Ts(i):0;return s&&x<s?i+da(s-x,d):i}function pv(i,s,d){i=Yt(i),s=bt(s);var x=s?Ts(i):0;return s&&x<s?da(s-x,d)+i:i}function gv(i,s,d){return d||s==null?s=0:s&&(s=+s),ph(Yt(i).replace(_e,""),s||0)}function mv(i,s,d){return(d?ei(i,s,d):s===t)?s=1:s=bt(s),Fs(Yt(i),s)}function vv(){var i=arguments,s=Yt(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var yv=As(function(i,s,d){return i+(d?"_":"")+s.toLowerCase()});function wv(i,s,d){return d&&typeof d!="number"&&ei(i,s,d)&&(s=d=t),d=d===t?j:d>>>0,d?(i=Yt(i),i&&(typeof s=="string"||s!=null&&!cd(s))&&(s=fi(s),!s&&eo(i))?Fr(mi(i),0,d):i.split(s,d)):[]}var _v=As(function(i,s,d){return i+(d?" ":"")+dd(s)});function xv(i,s,d){return i=Yt(i),d=d==null?0:Pr(bt(d),0,i.length),s=fi(s),i.slice(d,d+s.length)==s}function Tv(i,s,d){var x=O.templateSettings;d&&ei(i,s,d)&&(s=t),i=Yt(i),s=of({},s,x,ic);var P=of({},s.imports,x.imports,ic),A=Zn(P),H=Vo(P,A),G,J,ge=0,me=s.interpolate||oi,Pe="__p += '",Be=Go((s.escape||oi).source+"|"+me.source+"|"+(me===Ur?St:oi).source+"|"+(s.evaluate||oi).source+"|$","g"),rt="//# sourceURL="+(Ut.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Df+"]")+`
`;i.replace(Be,function(_t,At,Nt,tr,Ti,nr){return Nt||(Nt=tr),Pe+=i.slice(ge,nr).replace(Ci,oh),At&&(G=!0,Pe+=`' +
__e(`+At+`) +
'`),Ti&&(J=!0,Pe+=`';
`+Ti+`;
__p += '`),Nt&&(Pe+=`' +
((__t = (`+Nt+`)) == null ? '' : __t) +
'`),ge=nr+_t.length,_t}),Pe+=`';
`;var wt=Ut.call(s,"variable")&&s.variable;if(!wt)Pe=`with (obj) {
`+Pe+`
}
`;else if(Ze.test(wt))throw new xt(p);Pe=(J?Pe.replace(fn,""):Pe).replace(tn,"$1").replace(ri,"$1;"),Pe="function("+(wt||"obj")+`) {
`+(wt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(G?", __e = _.escape":"")+(J?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pe+`return __p
}`;var Lt=vp(function(){return Ht(A,rt+"return "+Pe).apply(t,H)});if(Lt.source=Pe,ud(Lt))throw Lt;return Lt}function Sv(i){return Yt(i).toLowerCase()}function Ev(i){return Yt(i).toUpperCase()}function Cv(i,s,d){if(i=Yt(i),i&&(d||s===t))return th(i);if(!i||!(s=fi(s)))return i;var x=mi(i),P=mi(s),A=nh(x,P),H=Pu(x,P)+1;return Fr(x,A,H).join("")}function Rv(i,s,d){if(i=Yt(i),i&&(d||s===t))return i.slice(0,$a(i)+1);if(!i||!(s=fi(s)))return i;var x=mi(i),P=Pu(x,mi(s))+1;return Fr(x,0,P).join("")}function Pv(i,s,d){if(i=Yt(i),i&&(d||s===t))return i.replace(_e,"");if(!i||!(s=fi(s)))return i;var x=mi(i),P=nh(x,mi(s));return Fr(x,P).join("")}function Dv(i,s){var d=te,x=ve;if(yn(s)){var P="separator"in s?s.separator:P;d="length"in s?bt(s.length):d,x="omission"in s?fi(s.omission):x}i=Yt(i);var A=i.length;if(eo(i)){var H=mi(i);A=H.length}if(d>=A)return i;var G=d-Ts(x);if(G<1)return x;var J=H?Fr(H,0,G).join(""):i.slice(0,G);if(P===t)return J+x;if(H&&(G+=J.length-G),cd(P)){if(i.slice(G).search(P)){var ge,me=J;for(P.global||(P=Go(P.source,Yt(kt.exec(P))+"g")),P.lastIndex=0;ge=P.exec(me);)var Pe=ge.index;J=J.slice(0,Pe===t?G:Pe)}}else if(i.indexOf(fi(P),G)!=G){var Be=J.lastIndexOf(P);Be>-1&&(J=J.slice(0,Be))}return J+x}function bv(i){return i=Yt(i),i&&Hr.test(i)?i.replace(si,ah):i}var Lv=As(function(i,s,d){return i+(d?" ":"")+s.toUpperCase()}),dd=$u("toUpperCase");function mp(i,s,d){return i=Yt(i),s=d?t:s,s===t?Mf(i)?Hf(i):Ff(i):i.match(s)||[]}var vp=Dt(function(i,s){try{return Yn(i,t,s)}catch(d){return ud(d)?d:new xt(d)}}),Ov=yr(function(i,s){return Bn(s,function(d){d=Qi(d),hr(i,d,Te(i[d],i))}),i});function kv(i){var s=i==null?0:i.length,d=ft();return i=s?Jt(i,function(x){if(typeof x[1]!="function")throw new Pi(u);return[d(x[0]),x[1]]}):[],Dt(function(x){for(var P=-1;++P<s;){var A=i[P];if(Yn(A[0],this,x))return Yn(A[1],this,x)}})}function Fv(i){return xh(hi(i,w))}function pd(i){return function(){return i}}function Iv(i,s){return i==null||i!==i?s:i}var Av=kl(),Mv=kl(!0);function Hi(i){return i}function gd(i){return mo(typeof i=="function"?i:hi(i,w))}function zv(i){return xl(hi(i,w))}function Nv(i,s){return ln(i,hi(s,w))}var Bv=Dt(function(i,s){return function(d){return ki(d,i,s)}}),Hv=Dt(function(i,s){return function(d){return ki(i,d,s)}});function md(i,s,d){var x=Zn(s),P=po(s,x);d==null&&!(yn(s)&&(P.length||!x.length))&&(d=s,s=i,i=this,P=po(s,Zn(s)));var A=!(yn(d)&&"chain"in d)||!!d.chain,H=js(i);return Bn(P,function(G){var J=s[G];i[G]=J,H&&(i.prototype[G]=function(){var ge=this.__chain__;if(A||ge){var me=i(this.__wrapped__),Pe=me.__actions__=Jn(this.__actions__);return Pe.push({func:J,args:arguments,thisArg:i}),me.__chain__=ge,me}return J.apply(i,Xr([this.value()],arguments))})}),i}function Uv(){return an._===this&&(an._=ch),this}function vd(){}function jv(i){return i=bt(i),Dt(function(s){return Tl(s,i)})}var Wv=Fl(Jt),Vv=Fl(wu),Gv=Fl(Tu);function yp(i){return Ve(i)?Eu(Qi(i)):cn(i)}function qv(i){return function(s){return i==null?t:Dr(i,s)}}var Zv=tc(),Xv=tc(!0);function yd(){return[]}function wd(){return!1}function Kv(){return{}}function Yv(){return""}function Qv(){return!0}function Jv(i,s){if(i=bt(i),i<1||i>pe)return[];var d=j,x=Hn(i,j);s=ft(s),i-=j;for(var P=Ru(x,s);++d<i;)s(d);return P}function $v(i){return Pt(i)?Jt(i,Qi):er(i)?[i]:Jn(dc(Yt(i)))}function ey(i){var s=++io;return Yt(i)+s}var ty=fa(function(i,s){return i+s},0),ny=In("ceil"),iy=fa(function(i,s){return i/s},1),ry=In("floor");function sy(i){return i&&i.length?Ls(i,Hi,is):t}function oy(i,s){return i&&i.length?Ls(i,ft(s,2),is):t}function ay(i){return $c(i,Hi)}function ly(i,s){return $c(i,ft(s,2))}function uy(i){return i&&i.length?Ls(i,Hi,rs):t}function cy(i,s){return i&&i.length?Ls(i,ft(s,2),rs):t}var hy=fa(function(i,s){return i*s},1),fy=In("round"),dy=fa(function(i,s){return i-s},0);function py(i){return i&&i.length?Cu(i,Hi):0}function gy(i,s){return i&&i.length?Cu(i,ft(s,2)):0}return O.after=oe,O.ary=Ce,O.assign=Em,O.assignIn=up,O.assignInWith=of,O.assignWith=Cm,O.at=Rm,O.before=be,O.bind=Te,O.bindAll=Ov,O.bindKey=je,O.castArray=Kg,O.chain=Kl,O.chunk=Ul,O.compact=pc,O.concat=Mi,O.cond=kv,O.conforms=Fv,O.constant=pd,O.countBy=Jh,O.create=Pm,O.curry=Qe,O.curryRight=$e,O.debounce=gn,O.defaults=Dm,O.defaultsDeep=bm,O.defer=$,O.delay=X,O.difference=zt,O.differenceBy=On,O.differenceWith=Tn,O.drop=zn,O.dropRight=xi,O.dropRightWhile=Po,O.dropWhile=Cn,O.fill=xa,O.filter=Jl,O.flatMap=Rc,O.flatMapDeep=tf,O.flatMapDepth=Pc,O.flatten=jl,O.flattenDeep=Sa,O.flattenDepth=di,O.flip=ne,O.flow=Av,O.flowRight=Mv,O.fromPairs=gc,O.functions=Mm,O.functionsIn=zm,O.groupBy=tu,O.initial=Wl,O.intersection=mc,O.intersectionBy=us,O.intersectionWith=Vl,O.invert=Bm,O.invertBy=Hm,O.invokeMap=od,O.iteratee=gd,O.keyBy=nu,O.keys=Zn,O.keysIn=Bi,O.map=iu,O.mapKeys=jm,O.mapValues=Wm,O.matches=zv,O.matchesProperty=Nv,O.memoize=ke,O.merge=Vm,O.mergeWith=cp,O.method=Bv,O.methodOf=Hv,O.mixin=md,O.negate=et,O.nthArg=jv,O.omit=Gm,O.omitBy=qm,O.once=ot,O.orderBy=Pa,O.over=Wv,O.overArgs=at,O.overEvery=Vv,O.overSome=Gv,O.partial=vt,O.partialRight=Rn,O.partition=ad,O.pick=Zm,O.pickBy=hp,O.property=yp,O.propertyOf=qv,O.pull=Gl,O.pullAll=Ca,O.pullAllBy=ni,O.pullAllWith=hs,O.pullAt=Ji,O.range=Zv,O.rangeRight=Xv,O.rearg=jt,O.reject=n,O.remove=pi,O.rest=ds,O.reverse=ql,O.sampleSize=c,O.set=Km,O.setWith=Ym,O.shuffle=y,O.slice=yc,O.sortBy=B,O.sortedUniq=xc,O.sortedUniqBy=Bs,O.split=wv,O.spread=ld,O.tail=Gh,O.take=qh,O.takeRight=Tc,O.takeRightWhile=Zl,O.takeWhile=Yf,O.tap=id,O.throttle=qg,O.thru=$i,O.toArray=op,O.toPairs=fp,O.toPairsIn=dp,O.toPath=$v,O.toPlainObject=lp,O.transform=Qm,O.unary=Zg,O.union=Qf,O.unionBy=Zh,O.unionWith=Xh,O.uniq=Hs,O.uniqBy=Jf,O.uniqWith=Do,O.unset=Jm,O.unzip=Xl,O.unzipWith=hn,O.update=$m,O.updateWith=ev,O.values=ou,O.valuesIn=tv,O.without=$f,O.words=mp,O.wrap=Xg,O.xor=Kh,O.xorBy=ed,O.xorWith=td,O.zip=Yh,O.zipObject=Qh,O.zipObjectDeep=nd,O.zipWith=zi,O.entries=fp,O.entriesIn=dp,O.extend=up,O.extendWith=of,md(O,O),O.add=ty,O.attempt=vp,O.camelCase=sv,O.capitalize=pp,O.ceil=ny,O.clamp=nv,O.clone=Yg,O.cloneDeep=Jg,O.cloneDeepWith=$g,O.cloneWith=Qg,O.conformsTo=em,O.deburr=gp,O.defaultTo=Iv,O.divide=iy,O.endsWith=ov,O.eq=zr,O.escape=av,O.escapeRegExp=lv,O.every=$h,O.find=$l,O.findIndex=ls,O.findKey=Lm,O.findLast=ef,O.findLastIndex=Ta,O.findLastKey=Om,O.floor=ry,O.forEach=Ra,O.forEachRight=eu,O.forIn=km,O.forInRight=Fm,O.forOwn=Im,O.forOwnRight=Am,O.get=hd,O.gt=tm,O.gte=nm,O.has=Nm,O.hasIn=fd,O.head=zs,O.identity=Hi,O.includes=nf,O.indexOf=Mr,O.inRange=iv,O.invoke=Um,O.isArguments=Da,O.isArray=Pt,O.isArrayBuffer=im,O.isArrayLike=Ni,O.isArrayLikeObject=Pn,O.isBoolean=rm,O.isBuffer=bo,O.isDate=sm,O.isElement=om,O.isEmpty=am,O.isEqual=lm,O.isEqualWith=um,O.isError=ud,O.isFinite=cm,O.isFunction=js,O.isInteger=np,O.isLength=rf,O.isMap=ip,O.isMatch=hm,O.isMatchWith=fm,O.isNaN=dm,O.isNative=pm,O.isNil=mm,O.isNull=gm,O.isNumber=rp,O.isObject=yn,O.isObjectLike=Sn,O.isPlainObject=Dc,O.isRegExp=cd,O.isSafeInteger=vm,O.isSet=sp,O.isString=sf,O.isSymbol=er,O.isTypedArray=su,O.isUndefined=ym,O.isWeakMap=wm,O.isWeakSet=_m,O.join=cs,O.kebabCase=uv,O.last=ti,O.lastIndexOf=Ea,O.lowerCase=cv,O.lowerFirst=hv,O.lt=xm,O.lte=Tm,O.max=sy,O.maxBy=oy,O.mean=ay,O.meanBy=ly,O.min=uy,O.minBy=cy,O.stubArray=yd,O.stubFalse=wd,O.stubObject=Kv,O.stubString=Yv,O.stubTrue=Qv,O.multiply=hy,O.nth=vc,O.noConflict=Uv,O.noop=vd,O.now=W,O.pad=fv,O.padEnd=dv,O.padStart=pv,O.parseInt=gv,O.random=rv,O.reduce=ru,O.reduceRight=e,O.repeat=mv,O.replace=vv,O.result=Xm,O.round=fy,O.runInContext=Y,O.sample=o,O.size=_,O.snakeCase=yv,O.some=b,O.sortedIndex=wc,O.sortedIndexBy=Kf,O.sortedIndexOf=fs,O.sortedLastIndex=Vh,O.sortedLastIndexBy=_c,O.sortedLastIndexOf=Ns,O.startCase=_v,O.startsWith=xv,O.subtract=dy,O.sum=py,O.sumBy=gy,O.template=Tv,O.times=Jv,O.toFinite=Ws,O.toInteger=bt,O.toLength=ap,O.toLower=Sv,O.toNumber=_r,O.toSafeInteger=Sm,O.toString=Yt,O.toUpper=Ev,O.trim=Cv,O.trimEnd=Rv,O.trimStart=Pv,O.truncate=Dv,O.unescape=bv,O.uniqueId=ey,O.upperCase=Lv,O.upperFirst=dd,O.each=Ra,O.eachRight=eu,O.first=zs,md(O,function(){var i={};return wi(O,function(s,d){Ut.call(O.prototype,d)||(i[d]=s)}),i}(),{chain:!1}),O.VERSION=r,Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){O[i].placeholder=O}),Bn(["drop","take"],function(i,s){Rt.prototype[i]=function(d){d=d===t?1:xn(bt(d),0);var x=this.__filtered__&&!s?new Rt(this):this.clone();return x.__filtered__?x.__takeCount__=Hn(d,x.__takeCount__):x.__views__.push({size:Hn(d,j),type:i+(x.__dir__<0?"Right":"")}),x},Rt.prototype[i+"Right"]=function(d){return this.reverse()[i](d).reverse()}}),Bn(["filter","map","takeWhile"],function(i,s){var d=s+1,x=d==Ge||d==dt;Rt.prototype[i]=function(P){var A=this.clone();return A.__iteratees__.push({iteratee:ft(P,3),type:d}),A.__filtered__=A.__filtered__||x,A}}),Bn(["head","last"],function(i,s){var d="take"+(s?"Right":"");Rt.prototype[i]=function(){return this[d](1).value()[0]}}),Bn(["initial","tail"],function(i,s){var d="drop"+(s?"":"Right");Rt.prototype[i]=function(){return this.__filtered__?new Rt(this):this[d](1)}}),Rt.prototype.compact=function(){return this.filter(Hi)},Rt.prototype.find=function(i){return this.filter(i).head()},Rt.prototype.findLast=function(i){return this.reverse().find(i)},Rt.prototype.invokeMap=Dt(function(i,s){return typeof i=="function"?new Rt(this):this.map(function(d){return ki(d,i,s)})}),Rt.prototype.reject=function(i){return this.filter(et(ft(i)))},Rt.prototype.slice=function(i,s){i=bt(i);var d=this;return d.__filtered__&&(i>0||s<0)?new Rt(d):(i<0?d=d.takeRight(-i):i&&(d=d.drop(i)),s!==t&&(s=bt(s),d=s<0?d.dropRight(-s):d.take(s-i)),d)},Rt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Rt.prototype.toArray=function(){return this.take(j)},wi(Rt.prototype,function(i,s){var d=/^(?:filter|find|map|reject)|While$/.test(s),x=/^(?:head|last)$/.test(s),P=O[x?"take"+(s=="last"?"Right":""):s],A=x||/^find/.test(s);P&&(O.prototype[s]=function(){var H=this.__wrapped__,G=x?[1]:arguments,J=H instanceof Rt,ge=G[0],me=J||Pt(H),Pe=function(At){var Nt=P.apply(O,Xr([At],G));return x&&Be?Nt[0]:Nt};me&&d&&typeof ge=="function"&&ge.length!=1&&(J=me=!1);var Be=this.__chain__,rt=!!this.__actions__.length,wt=A&&!Be,Lt=J&&!rt;if(!A&&me){H=Lt?H:new Rt(this);var _t=i.apply(H,G);return _t.__actions__.push({func:$i,args:[Pe],thisArg:t}),new Un(_t,Be)}return wt&&Lt?i.apply(this,G):(_t=this.thru(Pe),wt?x?_t.value()[0]:_t.value():_t)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(i){var s=Sr[i],d=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",x=/^(?:pop|shift)$/.test(i);O.prototype[i]=function(){var P=arguments;if(x&&!this.__chain__){var A=this.value();return s.apply(Pt(A)?A:[],P)}return this[d](function(H){return s.apply(Pt(H)?H:[],P)})}}),wi(Rt.prototype,function(i,s){var d=O[s];if(d){var x=d.name+"";Ut.call(ao,x)||(ao[x]=[]),ao[x].push({name:s,func:d})}}),ao[So(t,z).name]=[{name:"wrapper",func:t}],Rt.prototype.clone=cl,Rt.prototype.reverse=Iu,Rt.prototype.value=co,O.prototype.at=Yl,O.prototype.chain=Us,O.prototype.commit=Ql,O.prototype.next=Sc,O.prototype.plant=rd,O.prototype.reverse=Cc,O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=sd,O.prototype.first=O.prototype.head,Cr&&(O.prototype[Cr]=Ec),O},to=Uf();sr?((sr.exports=to)._=to,Wo._=to):an._=to}).call($w)}(Ic,Ic.exports)),Ic.exports}var Fa=e0();function t0(m){var t;if(Bc(m))return{code:m.status,message:(t=m.data)==null?void 0:t.message};const g={code:500};return Fa.isObject(m)&&"code"in m&&Fa.isNumber(m.code)&&(g.code=m.code),Fa.isObject(m)&&"message"in m&&(g.message=`${m.message}`),g}var kg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jp=Fo.createContext&&Fo.createContext(kg),n0=["attr","size","title"];function i0(m,g){if(m==null)return{};var t=r0(m,g),r,l;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(m);for(l=0;l<a.length;l++)r=a[l],!(g.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(m,r)&&(t[r]=m[r])}return t}function r0(m,g){if(m==null)return{};var t={};for(var r in m)if(Object.prototype.hasOwnProperty.call(m,r)){if(g.indexOf(r)>=0)continue;t[r]=m[r]}return t}function xf(){return xf=Object.assign?Object.assign.bind():function(m){for(var g=1;g<arguments.length;g++){var t=arguments[g];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(m[r]=t[r])}return m},xf.apply(this,arguments)}function $p(m,g){var t=Object.keys(m);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(m);g&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(m,l).enumerable})),t.push.apply(t,r)}return t}function Tf(m){for(var g=1;g<arguments.length;g++){var t=arguments[g]!=null?arguments[g]:{};g%2?$p(Object(t),!0).forEach(function(r){s0(m,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(t)):$p(Object(t)).forEach(function(r){Object.defineProperty(m,r,Object.getOwnPropertyDescriptor(t,r))})}return m}function s0(m,g,t){return g=o0(g),g in m?Object.defineProperty(m,g,{value:t,enumerable:!0,configurable:!0,writable:!0}):m[g]=t,m}function o0(m){var g=a0(m,"string");return typeof g=="symbol"?g:g+""}function a0(m,g){if(typeof m!="object"||!m)return m;var t=m[Symbol.toPrimitive];if(t!==void 0){var r=t.call(m,g||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(m)}function Fg(m){return m&&m.map((g,t)=>Fo.createElement(g.tag,Tf({key:t},g.attr),Fg(g.child)))}function Xn(m){return g=>Fo.createElement(l0,xf({attr:Tf({},m.attr)},g),Fg(m.child))}function l0(m){var g=t=>{var{attr:r,size:l,title:a}=m,u=i0(m,n0),p=l||t.size||"1em",h;return t.className&&(h=t.className),m.className&&(h=(h?h+" ":"")+m.className),Fo.createElement("svg",xf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:h,style:Tf(Tf({color:m.color||t.color},t.style),m.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),a&&Fo.createElement("title",null,a),m.children)};return Jp!==void 0?Fo.createElement(Jp.Consumer,null,t=>g(t)):g(kg)}function u0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(m)}function c0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(m)}function h0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(m)}const f0=({message:m})=>ie.jsx("div",{className:"container text-center col-6 mt-5 pt-5",children:ie.jsxs("div",{className:"row",children:[ie.jsx("h1",{children:ie.jsx(c0,{className:"text-warning"})}),ie.jsx("h2",{className:"fw-bold",children:"404"}),ie.jsx("p",{children:m||"The page you are looking for can't be found."})]})});function d0(m){return Xn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353zm-6.106 4.5L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708"},child:[]}]})(m)}const p0=({message:m})=>ie.jsx("div",{className:"container text-center col-6 mt-5 pt-5",children:ie.jsxs("div",{className:"row",children:[ie.jsx("h1",{children:ie.jsx(d0,{className:"text-danger"})}),ie.jsx("h2",{className:"fw-bold",children:"Error"}),ie.jsx("p",{children:m||"Sorry, an unknown occurred"})]})}),cf=()=>{const m=Og(),g=t0(m);return g.code===404?ie.jsx(f0,{message:g.message}):ie.jsx(p0,{message:g.message})};var Dd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var eg;function g0(){return eg||(eg=1,function(m){(function(){var g={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var p=arguments[u];p&&(a=l(a,r(p)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var p in a)g.call(a,p)&&a[p]&&(u=l(u,p));return u}function l(a,u){return u?a?a+" "+u:a+u:a}m.exports?(t.default=t,m.exports=t):window.classNames=t})()}(Dd)),Dd.exports}var m0=g0();const ps=Gd(m0);function v0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(m)}function y0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"},child:[]}]})(m)}function w0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"},child:[]}]})(m)}function _0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(m)}function x0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"},child:[]}]})(m)}const Ig=De.createContext(null);function Io(){return De.useContext(Ig)}function Si(m,g){return m[g]||m[Ag(g)]||""}function Ag(m){return m==="en"?"da":"en"}function T0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},child:[]}]})(m)}function Mg(m){return Xn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(m)}function S0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M48 64C21.5 64 0 85.5 0 112L0 400c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48L48 64zm192 0c-26.5 0-48 21.5-48 48l0 288c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48l-32 0z"},child:[]}]})(m)}function E0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"},child:[]}]})(m)}function C0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 128c70.7 0 128 57.3 128 128s-57.3 128-128 128l-192 0c-70.7 0-128-57.3-128-128s57.3-128 128-128l192 0zM576 256c0-106-86-192-192-192L192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192zM192 352a96 96 0 1 0 0-192 96 96 0 1 0 0 192z"},child:[]}]})(m)}function R0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M192 64C86 64 0 150 0 256S86 448 192 448l192 0c106 0 192-86 192-192s-86-192-192-192L192 64zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"},child:[]}]})(m)}function P0(m){return Xn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256-96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"},child:[]}]})(m)}const D0=[{value:"en",label:"English"},{value:"da",label:"Dansk"}],zg=({className:m,selectClassName:g})=>{const{language:t,setLanguage:r}=Io();return ie.jsxs("div",{className:ps("position-relative d-inline-block",m),children:[ie.jsx("select",{className:ps("form-select form-select-sm z-1 position-relative",g),value:t,onChange:l=>r(l.target.value),children:D0.map(({value:l,label:a})=>ie.jsx("option",{value:l,children:a.toUpperCase()},l))}),ie.jsx("div",{className:"position-absolute h-100 top-0 end-0 pe-2 d-flex align-items-center justify-content-center",children:ie.jsx(T0,{})})]})},Ef=({children:m,colorClassNameSuffix:g})=>{const{language:t}=Io(),[r,l]=De.useState(!1);return ie.jsxs("section",{className:"p-4 position-relative",children:[ie.jsxs("div",{className:"flex-grow-1 position-relative",children:[ie.jsx("div",{className:ps(r&&"invisible"),children:m}),r&&ie.jsxs("div",{className:"position-absolute inset-0",children:[ie.jsx(zg,{className:"w-auto me-1 d-inline-block align-baseline",selectClassName:`border-${g} text-${g}`}),ie.jsx("a",{href:"#/about",className:`btn btn-sm btn-outline-${g} d-inline-block align-baseline font-monospace text-uppercase me-1`,children:Si({en:"About",da:"Om"},t)}),ie.jsx("a",{href:"#/",className:`btn btn-sm btn-outline-${g} d-inline-block align-baseline font-monospace text-uppercase`,children:ie.jsx(y0,{})})]})]}),ie.jsx("button",{className:`p-4 mt-1 position-absolute end-0 top-0 border-0 bg-transparent text-${g}`,onClick:()=>l(!r),children:r?ie.jsx(h0,{}):ie.jsx(u0,{})})]})},b0=()=>ie.jsxs("main",{className:"d-flex flex-column",children:[ie.jsx(Ef,{colorClassNameSuffix:"primary",children:ie.jsx("h1",{className:"fs-5 mt-1",children:"Grounding AI"})}),ie.jsx("div",{className:"d-flex align-items-center justify-content-center flex-grow-1",children:ie.jsxs("h1",{className:"display-2 text-center",children:["TODO ",ie.jsx("div",{className:"small",children:"(write that about page)"})]})})]}),L0=()=>{const{language:m}=Io();return ie.jsxs("main",{className:"p-3 pt-5 d-flex flex-column justify-content-between",children:[ie.jsxs("section",{children:[ie.jsx(zg,{className:"text-primary w-auto",selectClassName:"border-primary"}),ie.jsx("h1",{className:"display-1 mt-5",children:"Grounding AI"}),ie.jsx("p",{className:"display-6 fw-normal",children:Si({en:"Exploring algorithms roles in science literature.",da:"Udforskning af algoritmers roller i videnskabelig litteratur."},m)})]}),ie.jsxs("section",{className:"d-flex flex-column",children:[ie.jsx("a",{href:"#/map",className:"btn btn-lg btn-outline-dark mb-2",children:Si({en:"Explore the digital AI Map",da:"Udforsk det digitale AI-kort"},m)}),ie.jsx("a",{href:"#/about",className:"btn btn-lg btn-outline-dark mb-4",children:Si({en:"Read about the project",da:"Ls om projektet"},m)})]}),ie.jsxs("section",{children:[ie.jsx("p",{className:"fw-bold mb-0",children:Si({en:"Designed and Developed by:",da:"Designet og udviklet af:"},m)}),ie.jsx("p",{className:"mb-0",children:"Echo lab (DTU), TANTLAB (AAU)"}),ie.jsx("p",{className:"mb-0",children:"OuestWare"})]})]})};function gf(m,g,t,r){function l(a){return a instanceof t?a:new t(function(u){u(a)})}return new(t||(t=Promise))(function(a,u){function p(v){try{f(r.next(v))}catch(w){u(w)}}function h(v){try{f(r.throw(v))}catch(w){u(w)}}function f(v){v.done?a(v.value):l(v.value).then(p,h)}f((r=r.apply(m,[])).next())})}const O0="ENTRIES",Ng="KEYS",Bg="VALUES",ii="";class bd{constructor(g,t){const r=g._tree,l=Array.from(r.keys());this.set=g,this._type=t,this._path=l.length>0?[{node:r,keys:l}]:[]}next(){const g=this.dive();return this.backtrack(),g}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:g,keys:t}=uu(this._path);if(uu(t)===ii)return{done:!1,value:this.result()};const r=g.get(uu(t));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const g=uu(this._path).keys;g.pop(),!(g.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:g})=>uu(g)).filter(g=>g!==ii).join("")}value(){return uu(this._path).node.get(ii)}result(){switch(this._type){case Bg:return this.value();case Ng:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const uu=m=>m[m.length-1],k0=(m,g,t)=>{const r=new Map;if(g===void 0)return r;const l=g.length+1,a=l+t,u=new Uint8Array(a*l).fill(t+1);for(let p=0;p<l;++p)u[p]=p;for(let p=1;p<a;++p)u[p*l]=p;return Hg(m,g,t,r,u,1,l,""),r},Hg=(m,g,t,r,l,a,u,p)=>{const h=a*u;e:for(const f of m.keys())if(f===ii){const v=l[h-1];v<=t&&r.set(p,[m.get(f),v])}else{let v=a;for(let w=0;w<f.length;++w,++v){const T=f[w],R=u*v,L=R-u;let D=l[R];const F=Math.max(0,v-t-1),z=Math.min(u-1,v+t);for(let q=F;q<z;++q){const ee=T!==g[q],Le=l[L+q]+ +ee,Se=l[L+q+1]+1,Z=l[R+q]+1,we=l[R+q+1]=Math.min(Le,Se,Z);we<D&&(D=we)}if(D>t)continue e}Hg(m.get(f),g,t,r,l,v,u,p+f)}};class ko{constructor(g=new Map,t=""){this._size=void 0,this._tree=g,this._prefix=t}atPrefix(g){if(!g.startsWith(this._prefix))throw new Error("Mismatched prefix");const[t,r]=Sf(this._tree,g.slice(this._prefix.length));if(t===void 0){const[l,a]=Jd(r);for(const u of l.keys())if(u!==ii&&u.startsWith(a)){const p=new Map;return p.set(u.slice(a.length),l.get(u)),new ko(p,g)}}return new ko(t,g)}clear(){this._size=void 0,this._tree.clear()}delete(g){return this._size=void 0,F0(this._tree,g)}entries(){return new bd(this,O0)}forEach(g){for(const[t,r]of this)g(t,r,this)}fuzzyGet(g,t){return k0(this._tree,g,t)}get(g){const t=Hd(this._tree,g);return t!==void 0?t.get(ii):void 0}has(g){const t=Hd(this._tree,g);return t!==void 0&&t.has(ii)}keys(){return new bd(this,Ng)}set(g,t){if(typeof g!="string")throw new Error("key must be a string");return this._size=void 0,Ld(this._tree,g).set(ii,t),this}get size(){if(this._size)return this._size;this._size=0;const g=this.entries();for(;!g.next().done;)this._size+=1;return this._size}update(g,t){if(typeof g!="string")throw new Error("key must be a string");this._size=void 0;const r=Ld(this._tree,g);return r.set(ii,t(r.get(ii))),this}fetch(g,t){if(typeof g!="string")throw new Error("key must be a string");this._size=void 0;const r=Ld(this._tree,g);let l=r.get(ii);return l===void 0&&r.set(ii,l=t()),l}values(){return new bd(this,Bg)}[Symbol.iterator](){return this.entries()}static from(g){const t=new ko;for(const[r,l]of g)t.set(r,l);return t}static fromObject(g){return ko.from(Object.entries(g))}}const Sf=(m,g,t=[])=>{if(g.length===0||m==null)return[m,t];for(const r of m.keys())if(r!==ii&&g.startsWith(r))return t.push([m,r]),Sf(m.get(r),g.slice(r.length),t);return t.push([m,g]),Sf(void 0,"",t)},Hd=(m,g)=>{if(g.length===0||m==null)return m;for(const t of m.keys())if(t!==ii&&g.startsWith(t))return Hd(m.get(t),g.slice(t.length))},Ld=(m,g)=>{const t=g.length;e:for(let r=0;m&&r<t;){for(const a of m.keys())if(a!==ii&&g[r]===a[0]){const u=Math.min(t-r,a.length);let p=1;for(;p<u&&g[r+p]===a[p];)++p;const h=m.get(a);if(p===a.length)m=h;else{const f=new Map;f.set(a.slice(p),h),m.set(g.slice(r,r+p),f),m.delete(a),m=f}r+=p;continue e}const l=new Map;return m.set(g.slice(r),l),l}return m},F0=(m,g)=>{const[t,r]=Sf(m,g);if(t!==void 0){if(t.delete(ii),t.size===0)Ug(r);else if(t.size===1){const[l,a]=t.entries().next().value;jg(r,l,a)}}},Ug=m=>{if(m.length===0)return;const[g,t]=Jd(m);if(g.delete(t),g.size===0)Ug(m.slice(0,-1));else if(g.size===1){const[r,l]=g.entries().next().value;r!==ii&&jg(m.slice(0,-1),r,l)}},jg=(m,g,t)=>{if(m.length===0)return;const[r,l]=Jd(m);r.set(l+g,t),r.delete(l)},Jd=m=>m[m.length-1],$d="or",Wg="and",I0="and_not";class cu{constructor(g){if((g==null?void 0:g.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');const t=g.autoVacuum==null||g.autoVacuum===!0?Fd:g.autoVacuum;this._options=Object.assign(Object.assign(Object.assign({},kd),g),{autoVacuum:t,searchOptions:Object.assign(Object.assign({},tg),g.searchOptions||{}),autoSuggestOptions:Object.assign(Object.assign({},B0),g.autoSuggestOptions||{})}),this._index=new ko,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=jd,this.addFields(this._options.fields)}add(g){const{extractField:t,tokenize:r,processTerm:l,fields:a,idField:u}=this._options,p=t(g,u);if(p==null)throw new Error(`MiniSearch: document does not have ID field "${u}"`);if(this._idToShortId.has(p))throw new Error(`MiniSearch: duplicate ID ${p}`);const h=this.addDocumentId(p);this.saveStoredFields(h,g);for(const f of a){const v=t(g,f);if(v==null)continue;const w=r(v.toString(),f),T=this._fieldIds[f],R=new Set(w).size;this.addFieldLength(h,T,this._documentCount-1,R);for(const L of w){const D=l(L,f);if(Array.isArray(D))for(const F of D)this.addTerm(T,h,F);else D&&this.addTerm(T,h,D)}}}addAll(g){for(const t of g)this.add(t)}addAllAsync(g,t={}){const{chunkSize:r=10}=t,l={chunk:[],promise:Promise.resolve()},{chunk:a,promise:u}=g.reduce(({chunk:p,promise:h},f,v)=>(p.push(f),(v+1)%r===0?{chunk:[],promise:h.then(()=>new Promise(w=>setTimeout(w,0))).then(()=>this.addAll(p))}:{chunk:p,promise:h}),l);return u.then(()=>this.addAll(a))}remove(g){const{tokenize:t,processTerm:r,extractField:l,fields:a,idField:u}=this._options,p=l(g,u);if(p==null)throw new Error(`MiniSearch: document does not have ID field "${u}"`);const h=this._idToShortId.get(p);if(h==null)throw new Error(`MiniSearch: cannot remove document with ID ${p}: it is not in the index`);for(const f of a){const v=l(g,f);if(v==null)continue;const w=t(v.toString(),f),T=this._fieldIds[f],R=new Set(w).size;this.removeFieldLength(h,T,this._documentCount,R);for(const L of w){const D=r(L,f);if(Array.isArray(D))for(const F of D)this.removeTerm(T,h,F);else D&&this.removeTerm(T,h,D)}}this._storedFields.delete(h),this._documentIds.delete(h),this._idToShortId.delete(p),this._fieldLength.delete(h),this._documentCount-=1}removeAll(g){if(g)for(const t of g)this.remove(t);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new ko,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(g){const t=this._idToShortId.get(g);if(t==null)throw new Error(`MiniSearch: cannot discard document with ID ${g}: it is not in the index`);this._idToShortId.delete(g),this._documentIds.delete(t),this._storedFields.delete(t),(this._fieldLength.get(t)||[]).forEach((r,l)=>{this.removeFieldLength(t,l,this._documentCount,r)}),this._fieldLength.delete(t),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:g,minDirtCount:t,batchSize:r,batchWait:l}=this._options.autoVacuum;this.conditionalVacuum({batchSize:r,batchWait:l},{minDirtCount:t,minDirtFactor:g})}discardAll(g){const t=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const r of g)this.discard(r)}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}replace(g){const{idField:t,extractField:r}=this._options,l=r(g,t);this.discard(l),this.add(g)}vacuum(g={}){return this.conditionalVacuum(g)}conditionalVacuum(g,t){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const r=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=jd,this.performVacuuming(g,r)}),this._enqueuedVacuum)):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(g),this._currentVacuum)}performVacuuming(g,t){return gf(this,void 0,void 0,function*(){const r=this._dirtCount;if(this.vacuumConditionsMet(t)){const l=g.batchSize||Ud.batchSize,a=g.batchWait||Ud.batchWait;let u=1;for(const[p,h]of this._index){for(const[f,v]of h)for(const[w]of v)this._documentIds.has(w)||(v.size<=1?h.delete(f):v.delete(w));this._index.get(p).size===0&&this._index.delete(p),u%l===0&&(yield new Promise(f=>setTimeout(f,a))),u+=1}this._dirtCount-=r}yield null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null})}vacuumConditionsMet(g){if(g==null)return!0;let{minDirtCount:t,minDirtFactor:r}=g;return t=t||Fd.minDirtCount,r=r||Fd.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=r}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(g){return this._idToShortId.has(g)}getStoredFields(g){const t=this._idToShortId.get(g);if(t!=null)return this._storedFields.get(t)}search(g,t={}){const{searchOptions:r}=this._options,l=Object.assign(Object.assign({},r),t),a=this.executeQuery(g,t),u=[];for(const[p,{score:h,terms:f,match:v}]of a){const w=f.length||1,T={id:this._documentIds.get(p),score:h*w,terms:Object.keys(v),queryTerms:f,match:v};Object.assign(T,this._storedFields.get(p)),(l.filter==null||l.filter(T))&&u.push(T)}return g===cu.wildcard&&l.boostDocument==null||u.sort(ig),u}autoSuggest(g,t={}){t=Object.assign(Object.assign({},this._options.autoSuggestOptions),t);const r=new Map;for(const{score:a,terms:u}of this.search(g,t)){const p=u.join(" "),h=r.get(p);h!=null?(h.score+=a,h.count+=1):r.set(p,{score:a,terms:u,count:1})}const l=[];for(const[a,{score:u,terms:p,count:h}]of r)l.push({suggestion:a,terms:p,score:u/h});return l.sort(ig),l}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(g,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(g),t)}static loadJSONAsync(g,t){return gf(this,void 0,void 0,function*(){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(g),t)})}static getDefault(g){if(kd.hasOwnProperty(g))return Od(kd,g);throw new Error(`MiniSearch: unknown option "${g}"`)}static loadJS(g,t){const{index:r,documentIds:l,fieldLength:a,storedFields:u,serializationVersion:p}=g,h=this.instantiateMiniSearch(g,t);h._documentIds=hf(l),h._fieldLength=hf(a),h._storedFields=hf(u);for(const[f,v]of h._documentIds)h._idToShortId.set(v,f);for(const[f,v]of r){const w=new Map;for(const T of Object.keys(v)){let R=v[T];p===1&&(R=R.ds),w.set(parseInt(T,10),hf(R))}h._index.set(f,w)}return h}static loadJSAsync(g,t){return gf(this,void 0,void 0,function*(){const{index:r,documentIds:l,fieldLength:a,storedFields:u,serializationVersion:p}=g,h=this.instantiateMiniSearch(g,t);h._documentIds=yield ff(l),h._fieldLength=yield ff(a),h._storedFields=yield ff(u);for(const[v,w]of h._documentIds)h._idToShortId.set(w,v);let f=0;for(const[v,w]of r){const T=new Map;for(const R of Object.keys(w)){let L=w[R];p===1&&(L=L.ds),T.set(parseInt(R,10),yield ff(L))}++f%1e3===0&&(yield Vg(0)),h._index.set(v,T)}return h})}static instantiateMiniSearch(g,t){const{documentCount:r,nextId:l,fieldIds:a,averageFieldLength:u,dirtCount:p,serializationVersion:h}=g;if(h!==1&&h!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const f=new cu(t);return f._documentCount=r,f._nextId=l,f._idToShortId=new Map,f._fieldIds=a,f._avgFieldLength=u,f._dirtCount=p||0,f._index=new ko,f}executeQuery(g,t={}){if(g===cu.wildcard)return this.executeWildcardQuery(t);if(typeof g!="string"){const T=Object.assign(Object.assign(Object.assign({},t),g),{queries:void 0}),R=g.queries.map(L=>this.executeQuery(L,T));return this.combineResults(R,T.combineWith)}const{tokenize:r,processTerm:l,searchOptions:a}=this._options,u=Object.assign(Object.assign({tokenize:r,processTerm:l},a),t),{tokenize:p,processTerm:h}=u,w=p(g).flatMap(T=>h(T)).filter(T=>!!T).map(N0(u)).map(T=>this.executeQuerySpec(T,u));return this.combineResults(w,u.combineWith)}executeQuerySpec(g,t){const r=Object.assign(Object.assign({},this._options.searchOptions),t),l=(r.fields||this._options.fields).reduce((D,F)=>Object.assign(Object.assign({},D),{[F]:Od(r.boost,F)||1}),{}),{boostDocument:a,weights:u,maxFuzzy:p,bm25:h}=r,{fuzzy:f,prefix:v}=Object.assign(Object.assign({},tg.weights),u),w=this._index.get(g.term),T=this.termResults(g.term,g.term,1,g.termBoost,w,l,a,h);let R,L;if(g.prefix&&(R=this._index.atPrefix(g.term)),g.fuzzy){const D=g.fuzzy===!0?.2:g.fuzzy,F=D<1?Math.min(p,Math.round(g.term.length*D)):D;F&&(L=this._index.fuzzyGet(g.term,F))}if(R)for(const[D,F]of R){const z=D.length-g.term.length;if(!z)continue;L==null||L.delete(D);const q=v*D.length/(D.length+.3*z);this.termResults(g.term,D,q,g.termBoost,F,l,a,h,T)}if(L)for(const D of L.keys()){const[F,z]=L.get(D);if(!z)continue;const q=f*D.length/(D.length+z);this.termResults(g.term,D,q,g.termBoost,F,l,a,h,T)}return T}executeWildcardQuery(g){const t=new Map,r=Object.assign(Object.assign({},this._options.searchOptions),g);for(const[l,a]of this._documentIds){const u=r.boostDocument?r.boostDocument(a,"",this._storedFields.get(l)):1;t.set(l,{score:u,terms:[],match:{}})}return t}combineResults(g,t=$d){if(g.length===0)return new Map;const r=t.toLowerCase(),l=A0[r];if(!l)throw new Error(`Invalid combination operator: ${t}`);return g.reduce(l)||new Map}toJSON(){const g=[];for(const[t,r]of this._index){const l={};for(const[a,u]of r)l[a]=Object.fromEntries(u);g.push([t,l])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:g,serializationVersion:2}}termResults(g,t,r,l,a,u,p,h,f=new Map){if(a==null)return f;for(const v of Object.keys(u)){const w=u[v],T=this._fieldIds[v],R=a.get(T);if(R==null)continue;let L=R.size;const D=this._avgFieldLength[T];for(const F of R.keys()){if(!this._documentIds.has(F)){this.removeTerm(T,F,t),L-=1;continue}const z=p?p(this._documentIds.get(F),t,this._storedFields.get(F)):1;if(!z)continue;const q=R.get(F),ee=this._fieldLength.get(F)[T],Le=z0(q,L,this._documentCount,ee,D,h),Se=r*l*w*z*Le,Z=f.get(F);if(Z){Z.score+=Se,H0(Z.terms,g);const we=Od(Z.match,t);we?we.push(v):Z.match[t]=[v]}else f.set(F,{score:Se,terms:[g],match:{[t]:[v]}})}}return f}addTerm(g,t,r){const l=this._index.fetch(r,rg);let a=l.get(g);if(a==null)a=new Map,a.set(t,1),l.set(g,a);else{const u=a.get(t);a.set(t,(u||0)+1)}}removeTerm(g,t,r){if(!this._index.has(r)){this.warnDocumentChanged(t,g,r);return}const l=this._index.fetch(r,rg),a=l.get(g);a==null||a.get(t)==null?this.warnDocumentChanged(t,g,r):a.get(t)<=1?a.size<=1?l.delete(g):a.delete(t):a.set(t,a.get(t)-1),this._index.get(r).size===0&&this._index.delete(r)}warnDocumentChanged(g,t,r){for(const l of Object.keys(this._fieldIds))if(this._fieldIds[l]===t){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(g)} has changed before removal: term "${r}" was not present in field "${l}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(g){const t=this._nextId;return this._idToShortId.set(g,t),this._documentIds.set(t,g),this._documentCount+=1,this._nextId+=1,t}addFields(g){for(let t=0;t<g.length;t++)this._fieldIds[g[t]]=t}addFieldLength(g,t,r,l){let a=this._fieldLength.get(g);a==null&&this._fieldLength.set(g,a=[]),a[t]=l;const p=(this._avgFieldLength[t]||0)*r+l;this._avgFieldLength[t]=p/(r+1)}removeFieldLength(g,t,r,l){if(r===1){this._avgFieldLength[t]=0;return}const a=this._avgFieldLength[t]*r-l;this._avgFieldLength[t]=a/(r-1)}saveStoredFields(g,t){const{storeFields:r,extractField:l}=this._options;if(r==null||r.length===0)return;let a=this._storedFields.get(g);a==null&&this._storedFields.set(g,a={});for(const u of r){const p=l(t,u);p!==void 0&&(a[u]=p)}}}cu.wildcard=Symbol("*");const Od=(m,g)=>Object.prototype.hasOwnProperty.call(m,g)?m[g]:void 0,A0={[$d]:(m,g)=>{for(const t of g.keys()){const r=m.get(t);if(r==null)m.set(t,g.get(t));else{const{score:l,terms:a,match:u}=g.get(t);r.score=r.score+l,r.match=Object.assign(r.match,u),ng(r.terms,a)}}return m},[Wg]:(m,g)=>{const t=new Map;for(const r of g.keys()){const l=m.get(r);if(l==null)continue;const{score:a,terms:u,match:p}=g.get(r);ng(l.terms,u),t.set(r,{score:l.score+a,terms:l.terms,match:Object.assign(l.match,p)})}return t},[I0]:(m,g)=>{for(const t of g.keys())m.delete(t);return m}},M0={k:1.2,b:.7,d:.5},z0=(m,g,t,r,l,a)=>{const{k:u,b:p,d:h}=a;return Math.log(1+(t-g+.5)/(g+.5))*(h+m*(u+1)/(m+u*(1-p+p*r/l)))},N0=m=>(g,t,r)=>{const l=typeof m.fuzzy=="function"?m.fuzzy(g,t,r):m.fuzzy||!1,a=typeof m.prefix=="function"?m.prefix(g,t,r):m.prefix===!0,u=typeof m.boostTerm=="function"?m.boostTerm(g,t,r):1;return{term:g,fuzzy:l,prefix:a,termBoost:u}},kd={idField:"id",extractField:(m,g)=>m[g],tokenize:m=>m.split(U0),processTerm:m=>m.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(m,g)=>{typeof(console==null?void 0:console[m])=="function"&&console[m](g)},autoVacuum:!0},tg={combineWith:$d,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:M0},B0={combineWith:Wg,prefix:(m,g,t)=>g===t.length-1},Ud={batchSize:1e3,batchWait:10},jd={minDirtFactor:.1,minDirtCount:20},Fd=Object.assign(Object.assign({},Ud),jd),H0=(m,g)=>{m.includes(g)||m.push(g)},ng=(m,g)=>{for(const t of g)m.includes(t)||m.push(t)},ig=({score:m},{score:g})=>g-m,rg=()=>new Map,hf=m=>{const g=new Map;for(const t of Object.keys(m))g.set(parseInt(t,10),m[t]);return g},ff=m=>gf(void 0,void 0,void 0,function*(){const g=new Map;let t=0;for(const r of Object.keys(m))g.set(parseInt(r,10),m[r]),++t%1e3===0&&(yield Vg(0));return g}),Vg=m=>new Promise(g=>setTimeout(g,m)),U0=/[\n\r\p{Z}\p{P}]+/u;var mf={exports:{}},j0=mf.exports,sg;function W0(){return sg||(sg=1,function(m){//! openseadragon 5.0.1
//! Built on 2024-12-09
//! Git commit: v5.0.1-0-480de92d
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function g(t){return new g.Viewer(t)}(function(t){t.version={versionStr:"5.0.1",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("1",10)};var r={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},l=Object.prototype.toString,a=Object.prototype.hasOwnProperty;t.isFunction=function(u){return t.type(u)==="function"},t.isArray=Array.isArray||function(u){return t.type(u)==="array"},t.isWindow=function(u){return u&&typeof u=="object"&&"setInterval"in u},t.type=function(u){return u==null?String(u):r[l.call(u)]||"object"},t.isPlainObject=function(u){if(!u||g.type(u)!=="object"||u.nodeType||t.isWindow(u)||u.constructor&&!a.call(u,"constructor")&&!a.call(u.constructor.prototype,"isPrototypeOf"))return!1;var p;for(var h in u)p=h;return p===void 0||a.call(u,p)},t.isEmptyObject=function(u){for(var p in u)return!1;return!0},t.freezeObject=function(u){return Object.freeze?t.freezeObject=Object.freeze:t.freezeObject=function(p){return p},t.freezeObject(u)},t.supportsCanvas=function(){var u=document.createElement("canvas");return!!(t.isFunction(u.getContext)&&u.getContext("2d"))}(),t.isCanvasTainted=function(u){var p=!1;try{u.getContext("2d").getImageData(0,0,1,1)}catch{p=!0}return p},t.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),t.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),t.supportsEventListenerOptions=function(){var u=0;if(t.supportsAddEventListener)try{var p={get capture(){return u++,!1},get once(){return u++,!1},get passive(){return u++,!1}};window.addEventListener("test",null,p),window.removeEventListener("test",null,p)}catch{u=0}return u>=3}(),t.getCurrentPixelDensityRatio=function(){if(t.supportsCanvas){var u=document.createElement("canvas").getContext("2d"),p=window.devicePixelRatio||1,h=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;return Math.max(p,1)/h}else return 1},t.pixelDensityRatio=t.getCurrentPixelDensityRatio()})(g),function(t){t.extend=function(){var h,f,v,w,T,R,L=arguments[0]||{},D=arguments.length,F=!1,z=1;for(typeof L=="boolean"&&(F=L,L=arguments[1]||{},z=2),typeof L!="object"&&!g.isFunction(L)&&(L={}),D===z&&(L=this,--z);z<D;z++)if(h=arguments[z],h!==null||h!==void 0)for(f in h){var q=Object.getOwnPropertyDescriptor(h,f);if(q!==void 0){if(q.get||q.set){Object.defineProperty(L,f,q);continue}w=q.value}else{t.console.warn('Could not copy inherited property "'+f+'".');continue}L!==w&&(F&&w&&(g.isPlainObject(w)||(T=g.isArray(w)))?(v=L[f],T?(T=!1,R=v&&g.isArray(v)?v:[]):R=v&&g.isPlainObject(v)?v:{},L[f]=g.extend(F,R,w)):w!==void 0&&(L[f]=w))}return L};var r=function(){if(typeof navigator!="object")return!1;var h=navigator.userAgent;return typeof h!="string"?!1:h.indexOf("iPhone")!==-1||h.indexOf("iPad")!==-1||h.indexOf("iPod")!==-1};t.extend(t,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:r(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(h,f){return function(){var v=arguments;return v===void 0&&(v=[]),f.apply(h,v)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(h){return t._viewers.get(this.getElement(h))},getElement:function(h){return typeof h=="string"&&(h=document.getElementById(h)),h},getElementPosition:function(h){var f=new t.Point,v,w;for(h=t.getElement(h),v=t.getElementStyle(h).position==="fixed",w=p(h,v);w;)f.x+=h.offsetLeft,f.y+=h.offsetTop,v&&(f=f.plus(t.getPageScroll())),h=w,v=t.getElementStyle(h).position==="fixed",w=p(h,v);return f},getElementOffset:function(h){h=t.getElement(h);var f=h&&h.ownerDocument,v,w,T={top:0,left:0};return f?(v=f.documentElement,typeof h.getBoundingClientRect<"u"&&(T=h.getBoundingClientRect()),w=f===f.window?f:f.nodeType===9?f.defaultView||f.parentWindow:!1,new t.Point(T.left+(w.pageXOffset||v.scrollLeft)-(v.clientLeft||0),T.top+(w.pageYOffset||v.scrollTop)-(v.clientTop||0))):new t.Point},getElementSize:function(h){return h=t.getElement(h),new t.Point(h.clientWidth,h.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(h){return h=t.getElement(h),h.currentStyle}:function(h){return h=t.getElement(h),window.getComputedStyle(h,"")},getCssPropertyWithVendorPrefix:function(h){var f={};return t.getCssPropertyWithVendorPrefix=function(v){if(f[v]!==void 0)return f[v];var w=document.createElement("div").style,T=null;if(w[v]!==void 0)T=v;else for(var R=["Webkit","Moz","MS","O","webkit","moz","ms","o"],L=t.capitalizeFirstLetter(v),D=0;D<R.length;D++){var F=R[D]+L;if(w[F]!==void 0){T=F;break}}return f[v]=T,T},t.getCssPropertyWithVendorPrefix(h)},capitalizeFirstLetter:function(h){return h.charAt(0).toUpperCase()+h.slice(1)},positiveModulo:function(h,f){var v=h%f;return v<0&&(v+=f),v},pointInElement:function(h,f){h=t.getElement(h);var v=t.getElementOffset(h),w=t.getElementSize(h);return f.x>=v.x&&f.x<v.x+w.x&&f.y<v.y+w.y&&f.y>=v.y},getMousePosition:function(h){if(typeof h.pageX=="number")t.getMousePosition=function(f){var v=new t.Point;return v.x=f.pageX,v.y=f.pageY,v};else if(typeof h.clientX=="number")t.getMousePosition=function(f){var v=new t.Point;return v.x=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,v.y=f.clientY+document.body.scrollTop+document.documentElement.scrollTop,v};else throw new Error("Unknown event mouse position, no known technique.");return t.getMousePosition(h)},getPageScroll:function(){var h=document.documentElement||{},f=document.body||{};if(typeof window.pageXOffset=="number")t.getPageScroll=function(){return new t.Point(window.pageXOffset,window.pageYOffset)};else if(f.scrollLeft||f.scrollTop)t.getPageScroll=function(){return new t.Point(document.body.scrollLeft,document.body.scrollTop)};else if(h.scrollLeft||h.scrollTop)t.getPageScroll=function(){return new t.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new t.Point(0,0);return t.getPageScroll()},setPageScroll:function(h){if(typeof window.scrollTo<"u")t.setPageScroll=function(w){window.scrollTo(w.x,w.y)};else{var f=t.getPageScroll();if(f.x===h.x&&f.y===h.y)return;document.body.scrollLeft=h.x,document.body.scrollTop=h.y;var v=t.getPageScroll();if(v.x!==f.x&&v.y!==f.y){t.setPageScroll=function(w){document.body.scrollLeft=w.x,document.body.scrollTop=w.y};return}if(document.documentElement.scrollLeft=h.x,document.documentElement.scrollTop=h.y,v=t.getPageScroll(),v.x!==f.x&&v.y!==f.y){t.setPageScroll=function(w){document.documentElement.scrollLeft=w.x,document.documentElement.scrollTop=w.y};return}t.setPageScroll=function(w){}}t.setPageScroll(h)},getWindowSize:function(){var h=document.documentElement||{},f=document.body||{};if(typeof window.innerWidth=="number")t.getWindowSize=function(){return new t.Point(window.innerWidth,window.innerHeight)};else if(h.clientWidth||h.clientHeight)t.getWindowSize=function(){return new t.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(f.clientWidth||f.clientHeight)t.getWindowSize=function(){return new t.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return t.getWindowSize()},makeCenteredNode:function(h){h=t.getElement(h);var f=[t.makeNeutralElement("div"),t.makeNeutralElement("div"),t.makeNeutralElement("div")];return t.extend(f[0].style,{display:"table",height:"100%",width:"100%"}),t.extend(f[1].style,{display:"table-row"}),t.extend(f[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),f[0].appendChild(f[1]),f[1].appendChild(f[2]),f[2].appendChild(h),f[0]},makeNeutralElement:function(h){var f=document.createElement(h),v=f.style;return v.background="transparent none",v.border="none",v.margin="0px",v.padding="0px",v.position="static",f},now:function(){return Date.now?t.now=Date.now:t.now=function(){return new Date().getTime()},t.now()},makeTransparentImage:function(h){var f=t.makeNeutralElement("img");return f.src=h,f},setElementOpacity:function(h,f,v){var w,T;h=t.getElement(h),v&&!t.Browser.alpha&&(f=Math.round(f)),t.Browser.opacity?h.style.opacity=f<1?f:"":f<1?(w=Math.round(100*f),T="alpha(opacity="+w+")",h.style.filter=T):h.style.filter=""},setElementTouchActionNone:function(h){h=t.getElement(h),typeof h.style.touchAction<"u"?h.style.touchAction="none":typeof h.style.msTouchAction<"u"&&(h.style.msTouchAction="none")},setElementPointerEvents:function(h,f){h=t.getElement(h),typeof h.style<"u"&&typeof h.style.pointerEvents<"u"&&(h.style.pointerEvents=f)},setElementPointerEventsNone:function(h){t.setElementPointerEvents(h,"none")},addClass:function(h,f){h=t.getElement(h),h.className?(" "+h.className+" ").indexOf(" "+f+" ")===-1&&(h.className+=" "+f):h.className=f},indexOf:function(h,f,v){return Array.prototype.indexOf?this.indexOf=function(w,T,R){return w.indexOf(T,R)}:this.indexOf=function(w,T,R){var L,D=R||0,F;if(!w)throw new TypeError;if(F=w.length,F===0||D>=F)return-1;for(D<0&&(D=F-Math.abs(D)),L=D;L<F;L++)if(w[L]===T)return L;return-1},this.indexOf(h,f,v)},removeClass:function(h,f){var v,w=[],T;for(h=t.getElement(h),v=h.className.split(/\s+/),T=0;T<v.length;T++)v[T]&&v[T]!==f&&w.push(v[T]);h.className=w.join(" ")},normalizeEventListenerOptions:function(h){var f;return typeof h<"u"?typeof h=="boolean"?f=t.supportsEventListenerOptions?{capture:h}:h:f=t.supportsEventListenerOptions?h:typeof h.capture<"u"?h.capture:!1:f=t.supportsEventListenerOptions?{capture:!1}:!1,f},addEvent:function(){if(t.supportsAddEventListener)return function(h,f,v,w){w=t.normalizeEventListenerOptions(w),h=t.getElement(h),h.addEventListener(f,v,w)};if(document.documentElement.attachEvent&&document.attachEvent)return function(h,f,v){h=t.getElement(h),h.attachEvent("on"+f,v)};throw new Error("No known event model.")}(),removeEvent:function(){if(t.supportsRemoveEventListener)return function(h,f,v,w){w=t.normalizeEventListenerOptions(w),h=t.getElement(h),h.removeEventListener(f,v,w)};if(document.documentElement.detachEvent&&document.detachEvent)return function(h,f,v){h=t.getElement(h),h.detachEvent("on"+f,v)};throw new Error("No known event model.")}(),cancelEvent:function(h){h.preventDefault()},eventIsCanceled:function(h){return h.defaultPrevented},stopEvent:function(h){h.stopPropagation()},createCallback:function(h,f){console.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var v=[],w;for(w=2;w<arguments.length;w++)v.push(arguments[w]);return function(){var T=v.concat([]),R;for(R=0;R<arguments.length;R++)T.push(arguments[R]);return f.apply(h,T)}},getUrlParameter:function(h){var f=u[h];return f||null},getUrlProtocol:function(h){var f=h.match(/^([a-z]+:)\/\//i);return f===null?window.location.protocol:f[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return t.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw new Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(h,f,v){var w,T,R,L;t.isPlainObject(h)&&(f=h.success,v=h.error,w=h.withCredentials,T=h.headers,R=h.responseType||null,L=h.postData||null,h=h.url);var D=t.getUrlProtocol(h),F=t.createAjaxRequest();if(!t.isFunction(f))throw new Error("makeAjaxRequest requires a success callback");F.onreadystatechange=function(){F.readyState===4&&(F.onreadystatechange=function(){},F.status>=200&&F.status<300||F.status===0&&D!=="http:"&&D!=="https:"?f(F):t.isFunction(v)?v(F):t.console.error("AJAX request returned %d: %s",F.status,h))};var z=L?"POST":"GET";try{if(F.open(z,h,!0),R&&(F.responseType=R),T)for(var q in T)Object.prototype.hasOwnProperty.call(T,q)&&T[q]&&F.setRequestHeader(q,T[q]);w&&(F.withCredentials=!0),F.send(L)}catch(ee){t.console.error("%s while making AJAX request: %s",ee.name,ee.message),F.onreadystatechange=function(){},t.isFunction(v)&&v(F,ee)}return F},jsonp:function(h){var f,v=h.url,w=document.head||document.getElementsByTagName("head")[0]||document.documentElement,T=h.callbackName||"openseadragon"+t.now(),R=window[T],L="$1"+T+"$2",D=h.param||"callback",F=h.callback;v=v.replace(/(=)\?(&|$)|\?\?/i,L),v+=(/\?/.test(v)?"&":"?")+D+"="+T,window[T]=function(z){if(R)window[T]=R;else try{delete window[T]}catch{}F&&t.isFunction(F)&&F(z)},f=document.createElement("script"),(h.async!==void 0||h.async!==!1)&&(f.async="async"),h.scriptCharset&&(f.charset=h.scriptCharset),f.src=v,f.onload=f.onreadystatechange=function(z,q){(q||!f.readyState||/loaded|complete/.test(f.readyState))&&(f.onload=f.onreadystatechange=null,w&&f.parentNode&&w.removeChild(f),f=void 0)},w.insertBefore(f,w.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(h){if(window.DOMParser)t.parseXml=function(f){var v=null,w;return w=new DOMParser,v=w.parseFromString(f,"text/xml"),v};else throw new Error("Browser doesn't support XML DOM.");return t.parseXml(h)},parseJSON:function(h){return t.parseJSON=window.JSON.parse,t.parseJSON(h)},imageFormatSupported:function(h){return h=h||"",!!a[h.toLowerCase()]},setImageFormatsSupported:function(h){t.extend(a,h)}});var l=function(h){};t.console=window.console||{log:l,debug:l,info:l,warn:l,error:l,assert:l},t.Browser={vendor:t.BROWSERS.UNKNOWN,version:0,alpha:!0};var a={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},u={};(function(){var h=navigator.appVersion,f=navigator.userAgent,v;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(f.substring(f.indexOf("MSIE")+5,f.indexOf(";",f.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(f.indexOf("Edge")>=0?(t.Browser.vendor=t.BROWSERS.EDGE,t.Browser.version=parseFloat(f.substring(f.indexOf("Edge")+5))):f.indexOf("Edg")>=0?(t.Browser.vendor=t.BROWSERS.CHROMEEDGE,t.Browser.version=parseFloat(f.substring(f.indexOf("Edg")+4))):f.indexOf("Firefox")>=0?(t.Browser.vendor=t.BROWSERS.FIREFOX,t.Browser.version=parseFloat(f.substring(f.indexOf("Firefox")+8))):f.indexOf("Safari")>=0?(t.Browser.vendor=f.indexOf("Chrome")>=0?t.BROWSERS.CHROME:t.BROWSERS.SAFARI,t.Browser.version=parseFloat(f.substring(f.substring(0,f.indexOf("Safari")).lastIndexOf("/")+1,f.indexOf("Safari")))):(v=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),v.exec(f)!==null&&(t.Browser.vendor=t.BROWSERS.IE,t.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":t.Browser.vendor=t.BROWSERS.OPERA,t.Browser.version=parseFloat(h);break}var w=window.location.search.substring(1),T=w.split("&"),R,L,D;for(D=0;D<T.length;D++)if(R=T[D],L=R.indexOf("="),L>0){var F=R.substring(0,L),z=R.substring(L+1);try{u[F]=decodeURIComponent(z)}catch{t.console.error("Ignoring malformed URL parameter: %s=%s",F,z)}}t.Browser.alpha=!(t.Browser.vendor===t.BROWSERS.CHROME&&t.Browser.version<2),t.Browser.opacity=!0,t.Browser.vendor===t.BROWSERS.IE&&t.console.error("Internet Explorer is not supported by OpenSeadragon")})(),function(h){var f=h.requestAnimationFrame||h.mozRequestAnimationFrame||h.webkitRequestAnimationFrame||h.msRequestAnimationFrame,v=h.cancelAnimationFrame||h.mozCancelAnimationFrame||h.webkitCancelAnimationFrame||h.msCancelAnimationFrame;if(f&&v)t.requestAnimationFrame=function(){return f.apply(h,arguments)},t.cancelAnimationFrame=function(){return v.apply(h,arguments)};else{var w=[],T=[],R=0,L;t.requestAnimationFrame=function(D){return w.push([++R,D]),L||(L=setInterval(function(){if(w.length){var F=t.now(),z=T;for(T=w,w=z;T.length;)T.shift()[1](F)}else clearInterval(L),L=void 0},1e3/50)),R},t.cancelAnimationFrame=function(D){var F,z;for(F=0,z=w.length;F<z;F+=1)if(w[F][0]===D){w.splice(F,1);return}for(F=0,z=T.length;F<z;F+=1)if(T[F][0]===D){T.splice(F,1);return}}}}(window);function p(h,f){return f&&h!==document.body?document.body:h.offsetParent}}(g),function(t,r){m.exports?m.exports=r():t.OpenSeadragon=r()}(j0,function(){return g}),function(t){class r{constructor(a){a||(a=[0,0,0,0,0,0,0,0,0]),this.values=a}static makeIdentity(){return new r([1,0,0,0,1,0,0,0,1])}static makeTranslation(a,u){return new r([1,0,0,0,1,0,a,u,1])}static makeRotation(a){var u=Math.cos(a),p=Math.sin(a);return new r([u,-p,0,p,u,0,0,0,1])}static makeScaling(a,u){return new r([a,0,0,0,u,0,0,0,1])}multiply(a){let u=this.values,p=a.values;var h=u[0*3+0],f=u[0*3+1],v=u[0*3+2],w=u[1*3+0],T=u[1*3+1],R=u[1*3+2],L=u[2*3+0],D=u[2*3+1],F=u[2*3+2],z=p[0*3+0],q=p[0*3+1],ee=p[0*3+2],Le=p[1*3+0],Se=p[1*3+1],Z=p[1*3+2],we=p[2*3+0],N=p[2*3+1],U=p[2*3+2];return new r([z*h+q*w+ee*L,z*f+q*T+ee*D,z*v+q*R+ee*F,Le*h+Se*w+Z*L,Le*f+Se*T+Z*D,Le*v+Se*R+Z*F,we*h+N*w+U*L,we*f+N*T+U*D,we*v+N*R+U*F])}}t.Mat3=r}(g),function(t){var r={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.fullscreenElement},r.requestFullScreen=function(l){return l.requestFullscreen().catch(function(a){t.console.error("Fullscreen request failed: ",a)})},r.exitFullScreen=function(){document.exitFullscreen().catch(function(l){t.console.error("Error while exiting fullscreen: ",l)})},r.fullScreenEventName="fullscreenchange",r.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.msFullscreenElement},r.requestFullScreen=function(l){return l.msRequestFullscreen()},r.exitFullScreen=function(){document.msExitFullscreen()},r.fullScreenEventName="MSFullscreenChange",r.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitFullscreenElement},r.requestFullScreen=function(l){return l.webkitRequestFullscreen()},r.exitFullScreen=function(){document.webkitExitFullscreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},r.requestFullScreen=function(l){return l.webkitRequestFullScreen()},r.exitFullScreen=function(){document.webkitCancelFullScreen()},r.fullScreenEventName="webkitfullscreenchange",r.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(r.supportsFullScreen=!0,r.getFullScreenElement=function(){return document.mozFullScreenElement},r.requestFullScreen=function(l){return l.mozRequestFullScreen()},r.exitFullScreen=function(){document.mozCancelFullScreen()},r.fullScreenEventName="mozfullscreenchange",r.fullScreenErrorEventName="mozfullscreenerror"),r.isFullScreen=function(){return r.getFullScreenElement()!==null},r.cancelFullScreen=function(){t.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),r.exitFullScreen()},t.extend(t,r)}(g),function(t){t.EventSource=function(){this.events={},this._rejectedEventList={}},t.EventSource.prototype={addOnceHandler:function(r,l,a,u,p){var h=this;u=u||1;var f=0,v=function(w){return f++,f===u&&h.removeHandler(r,v),l(w)};return this.addHandler(r,v,a,p)},addHandler:function(r,l,a,u){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,r))return t.console.error(`Error adding handler for ${r}. ${this._rejectedEventList[r]}`),!1;var p=this.events[r];if(p||(this.events[r]=p=[]),l&&t.isFunction(l)){var h=p.length,f={handler:l,userData:a||null,priority:u||0};for(p[h]=f;h>0&&p[h-1].priority<p[h].priority;)p[h]=p[h-1],p[h-1]=f,h--}return!0},removeHandler:function(r,l){var a=this.events[r],u=[],p;if(a&&t.isArray(a)){for(p=0;p<a.length;p++)a[p].handler!==l&&u.push(a[p]);this.events[r]=u}},numberOfHandlers:function(r){var l=this.events[r];return l?l.length:0},removeAllHandlers:function(r){if(r)this.events[r]=[];else for(var l in this.events)this.events[l]=[]},getHandler:function(r){var l=this.events[r];return!l||!l.length?null:(l=l.length===1?[l[0]]:Array.apply(null,l),function(a,u){var p,h=l.length;for(p=0;p<h;p++)l[p]&&(u.eventSource=a,u.userData=l[p].userData,l[p].handler(u))})},raiseEvent:function(r,l){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,r))return t.console.error(`Error adding handler for ${r}. ${this._rejectedEventList[r]}`),!1;var a=this.getHandler(r);return a&&a(this,l||{}),!0},rejectEventHandler(r,l=""){this._rejectedEventList[r]=l},allowEventHandler(r){delete this._rejectedEventList[r]}}}(g),function(t){var r={};t.MouseTracker=function(C){var E=arguments;t.isPlainObject(C)||(C={element:E[0],clickTimeThreshold:E[1],clickDistThreshold:E[2]}),this.hash=Math.random(),this.element=t.getElement(C.element),this.clickTimeThreshold=C.clickTimeThreshold||t.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=C.clickDistThreshold||t.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=C.dblClickTimeThreshold||t.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=C.dblClickDistThreshold||t.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=C.userData||null,this.stopDelay=C.stopDelay||50,this.preProcessEventHandler=C.preProcessEventHandler||null,this.contextMenuHandler=C.contextMenuHandler||null,this.enterHandler=C.enterHandler||null,this.leaveHandler=C.leaveHandler||null,this.exitHandler=C.exitHandler||null,this.overHandler=C.overHandler||null,this.outHandler=C.outHandler||null,this.pressHandler=C.pressHandler||null,this.nonPrimaryPressHandler=C.nonPrimaryPressHandler||null,this.releaseHandler=C.releaseHandler||null,this.nonPrimaryReleaseHandler=C.nonPrimaryReleaseHandler||null,this.moveHandler=C.moveHandler||null,this.scrollHandler=C.scrollHandler||null,this.clickHandler=C.clickHandler||null,this.dblClickHandler=C.dblClickHandler||null,this.dragHandler=C.dragHandler||null,this.dragEndHandler=C.dragEndHandler||null,this.pinchHandler=C.pinchHandler||null,this.stopHandler=C.stopHandler||null,this.keyDownHandler=C.keyDownHandler||null,this.keyUpHandler=C.keyUpHandler||null,this.keyHandler=C.keyHandler||null,this.focusHandler=C.focusHandler||null,this.blurHandler=C.blurHandler||null;var I=this;r[this.hash]={click:function(M){ee(I,M)},dblclick:function(M){Le(I,M)},keydown:function(M){Se(I,M)},keyup:function(M){Z(I,M)},keypress:function(M){we(I,M)},focus:function(M){N(I,M)},blur:function(M){U(I,M)},contextmenu:function(M){te(I,M)},wheel:function(M){ve(I,M)},mousewheel:function(M){ce(I,M)},DOMMouseScroll:function(M){ce(I,M)},MozMousePixelScroll:function(M){ce(I,M)},losecapture:function(M){Ge(I,M)},mouseenter:function(M){ue(I,M)},mouseleave:function(M){Ne(I,M)},mouseover:function(M){He(I,M)},mouseout:function(M){Xe(I,M)},mousedown:function(M){lt(I,M)},mouseup:function(M){Me(I,M)},mousemove:function(M){Ye(I,M)},touchstart:function(M){yt(I,M)},touchend:function(M){dt(I,M)},touchmove:function(M){Oe(I,M)},touchcancel:function(M){pe(I,M)},gesturestart:function(M){ye(I,M)},gesturechange:function(M){Re(I,M)},gotpointercapture:function(M){j(I,M)},lostpointercapture:function(M){se(I,M)},pointerenter:function(M){ue(I,M)},pointerleave:function(M){Ne(I,M)},pointerover:function(M){He(I,M)},pointerout:function(M){Xe(I,M)},pointerdown:function(M){lt(I,M)},pointerup:function(M){Me(I,M)},pointermove:function(M){Ye(I,M)},pointercancel:function(M){Tt(I,M)},pointerupcaptured:function(M){Ke(I,M)},pointermovecaptured:function(M){Ct(I,M)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,t.MouseTracker.havePointerEvents&&t.setElementPointerEvents(this.element,"auto"),this.exitHandler&&t.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),C.startDisabled||this.setTracking(!0)},t.MouseTracker.prototype={destroy:function(){h(this),this.element=null,r[this.hash]=null,delete r[this.hash]},isTracking:function(){return r[this.hash].tracking},setTracking:function(C){return C?p(this):h(this),this},getActivePointersListByType:function(C){var E=r[this.hash],I,M=E?E.activePointersLists.length:0,le;for(I=0;I<M;I++)if(E.activePointersLists[I].type===C)return E.activePointersLists[I];return le=new t.MouseTracker.GesturePointList(C),E&&E.activePointersLists.push(le),le},getActivePointerCount:function(){var C=r[this.hash],E,I=C.activePointersLists.length,M=0;for(E=0;E<I;E++)M+=C.activePointersLists[E].getLength();return M},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var l=function(){try{return window.self!==window.top}catch{return!0}}();function a(C){try{return C.addEventListener&&C.removeEventListener}catch{return!1}}t.MouseTracker.gesturePointVelocityTracker=function(){var C=[],E=0,I=0,M=function(Ot,it){return Ot.hash.toString()+it.type+it.id.toString()},le=function(){var Ot,it=C.length,fn,tn,ri=t.now(),si,Ei,Hr;for(si=ri-I,I=ri,Ot=0;Ot<it;Ot++)fn=C[Ot],tn=fn.gPoint,tn.direction=Math.atan2(tn.currentPos.y-fn.lastPos.y,tn.currentPos.x-fn.lastPos.x),Ei=fn.lastPos.distanceTo(tn.currentPos),fn.lastPos=tn.currentPos,Hr=1e3*Ei/(si+1),tn.speed=.75*Hr+.25*tn.speed},Ee=function(Ot,it){var fn=M(Ot,it);C.push({guid:fn,gPoint:it,lastPos:it.currentPos}),C.length===1&&(I=t.now(),E=window.setInterval(le,50))},nt=function(Ot,it){var fn=M(Ot,it),tn,ri=C.length;for(tn=0;tn<ri;tn++)if(C[tn].guid===fn){C.splice(tn,1),ri--,ri===0&&window.clearInterval(E);break}};return{addPoint:Ee,removePoint:nt}}(),t.MouseTracker.captureElement=document,t.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",t.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",t.MouseTracker.wheelEventName],t.MouseTracker.wheelEventName==="DOMMouseScroll"&&t.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(t.MouseTracker.havePointerEvents=!0,t.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),t.MouseTracker.havePointerCapture=function(){var C=document.createElement("div");return t.isFunction(C.setPointerCapture)&&t.isFunction(C.releasePointerCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(t.MouseTracker.havePointerEvents=!1,t.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),t.MouseTracker.mousePointerId="legacy-mouse",t.MouseTracker.havePointerCapture=function(){var C=document.createElement("div");return t.isFunction(C.setCapture)&&t.isFunction(C.releaseCapture)}(),t.MouseTracker.havePointerCapture&&t.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&t.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&t.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),t.MouseTracker.GesturePointList=function(C){this._gPoints=[],this.type=C,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},t.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(C){return this._gPoints.push(C)},removeById:function(C){var E,I=this._gPoints.length;for(E=0;E<I;E++)if(this._gPoints[E].id===C){this._gPoints.splice(E,1);break}return this._gPoints.length},getByIndex:function(C){return C<this._gPoints.length?this._gPoints[C]:null},getById:function(C){var E,I=this._gPoints.length;for(E=0;E<I;E++)if(this._gPoints[E].id===C)return this._gPoints[E];return null},getPrimary:function(C){var E,I=this._gPoints.length;for(E=0;E<I;E++)if(this._gPoints[E].isPrimary)return this._gPoints[E];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(t.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function u(C){var E=r[C.hash],I,M,le,Ee,nt,Ot=E.activePointersLists.length;for(I=0;I<Ot;I++)if(le=E.activePointersLists[I],le.getLength()>0){for(nt=[],Ee=le.asArray(),M=0;M<Ee.length;M++)nt.push(Ee[M]);for(M=0;M<nt.length;M++)gt(C,le,nt[M])}for(I=0;I<Ot;I++)E.activePointersLists.pop();E.sentDragEvent=!1}function p(C){var E=r[C.hash],I,M;if(!E.tracking){for(M=0;M<t.MouseTracker.subscribeEvents.length;M++)I=t.MouseTracker.subscribeEvents[M],t.addEvent(C.element,I,E[I],I===t.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);u(C),E.tracking=!0}}function h(C){var E=r[C.hash],I,M;if(E.tracking){for(M=0;M<t.MouseTracker.subscribeEvents.length;M++)I=t.MouseTracker.subscribeEvents[M],t.removeEvent(C.element,I,E[I],!1);u(C),E.tracking=!1}}function f(C,E){var I=r[C.hash];if(E==="pointerevent")return{upName:"pointerup",upHandler:I.pointerupcaptured,moveName:"pointermove",moveHandler:I.pointermovecaptured};if(E==="mouse")return{upName:"pointerup",upHandler:I.pointerupcaptured,moveName:"pointermove",moveHandler:I.pointermovecaptured};if(E==="touch")return{upName:"touchend",upHandler:I.touchendcaptured,moveName:"touchmove",moveHandler:I.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function v(C,E){var I;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents)try{C.element.setPointerCapture(E.id)}catch{t.console.warn("setPointerCapture() called on invalid pointer ID");return}else C.element.setCapture(!0);else I=f(C,t.MouseTracker.havePointerEvents?"pointerevent":E.type),l&&a(window.top)&&t.addEvent(window.top,I.upName,I.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,I.upName,I.upHandler,!0),t.addEvent(t.MouseTracker.captureElement,I.moveName,I.moveHandler,!0);K(C,E,!0)}function w(C,E){var I,M,le;if(t.MouseTracker.havePointerCapture)if(t.MouseTracker.havePointerEvents){if(M=C.getActivePointersListByType(E.type),le=M.getById(E.id),!le||!le.captured)return;try{C.element.releasePointerCapture(E.id)}catch{}}else C.element.releaseCapture();else I=f(C,t.MouseTracker.havePointerEvents?"pointerevent":E.type),l&&a(window.top)&&t.removeEvent(window.top,I.upName,I.upHandler,!0),t.removeEvent(t.MouseTracker.captureElement,I.moveName,I.moveHandler,!0),t.removeEvent(t.MouseTracker.captureElement,I.upName,I.upHandler,!0);K(C,E,!1)}function T(C){return t.MouseTracker.havePointerEvents?C.pointerId:t.MouseTracker.mousePointerId}function R(C){return t.MouseTracker.havePointerEvents&&C.pointerType?C.pointerType:"mouse"}function L(C){return t.MouseTracker.havePointerEvents?C.isPrimary:!0}function D(C){return t.getMousePosition(C)}function F(C,E){return z(D(C),E)}function z(C,E){var I=t.getElementOffset(E);return C.minus(I)}function q(C,E){return new t.Point((C.x+E.x)/2,(C.y+E.y)/2)}function ee(C,E){var I={originalEvent:E,eventType:"click",pointerType:"mouse",isEmulated:!1};k(C,I),I.preventDefault&&!I.defaultPrevented&&t.cancelEvent(E),I.stopPropagation&&t.stopEvent(E)}function Le(C,E){var I={originalEvent:E,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};k(C,I),I.preventDefault&&!I.defaultPrevented&&t.cancelEvent(E),I.stopPropagation&&t.stopEvent(E)}function Se(C,E){var I=null,M={originalEvent:E,eventType:"keydown",pointerType:"",isEmulated:!1};k(C,M),C.keyDownHandler&&!M.preventGesture&&!M.defaultPrevented&&(I={eventSource:C,keyCode:E.keyCode?E.keyCode:E.charCode,ctrl:E.ctrlKey,shift:E.shiftKey,alt:E.altKey,meta:E.metaKey,originalEvent:E,preventDefault:M.preventDefault||M.defaultPrevented,userData:C.userData},C.keyDownHandler(I)),(I&&I.preventDefault||M.preventDefault&&!M.defaultPrevented)&&t.cancelEvent(E),M.stopPropagation&&t.stopEvent(E)}function Z(C,E){var I=null,M={originalEvent:E,eventType:"keyup",pointerType:"",isEmulated:!1};k(C,M),C.keyUpHandler&&!M.preventGesture&&!M.defaultPrevented&&(I={eventSource:C,keyCode:E.keyCode?E.keyCode:E.charCode,ctrl:E.ctrlKey,shift:E.shiftKey,alt:E.altKey,meta:E.metaKey,originalEvent:E,preventDefault:M.preventDefault||M.defaultPrevented,userData:C.userData},C.keyUpHandler(I)),(I&&I.preventDefault||M.preventDefault&&!M.defaultPrevented)&&t.cancelEvent(E),M.stopPropagation&&t.stopEvent(E)}function we(C,E){var I=null,M={originalEvent:E,eventType:"keypress",pointerType:"",isEmulated:!1};k(C,M),C.keyHandler&&!M.preventGesture&&!M.defaultPrevented&&(I={eventSource:C,keyCode:E.keyCode?E.keyCode:E.charCode,ctrl:E.ctrlKey,shift:E.shiftKey,alt:E.altKey,meta:E.metaKey,originalEvent:E,preventDefault:M.preventDefault||M.defaultPrevented,userData:C.userData},C.keyHandler(I)),(I&&I.preventDefault||M.preventDefault&&!M.defaultPrevented)&&t.cancelEvent(E),M.stopPropagation&&t.stopEvent(E)}function N(C,E){var I={originalEvent:E,eventType:"focus",pointerType:"",isEmulated:!1};k(C,I),C.focusHandler&&!I.preventGesture&&C.focusHandler({eventSource:C,originalEvent:E,userData:C.userData})}function U(C,E){var I={originalEvent:E,eventType:"blur",pointerType:"",isEmulated:!1};k(C,I),C.blurHandler&&!I.preventGesture&&C.blurHandler({eventSource:C,originalEvent:E,userData:C.userData})}function te(C,E){var I=null,M={originalEvent:E,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};k(C,M),C.contextMenuHandler&&!M.preventGesture&&!M.defaultPrevented&&(I={eventSource:C,position:z(D(E),C.element),originalEvent:M.originalEvent,preventDefault:M.preventDefault||M.defaultPrevented,userData:C.userData},C.contextMenuHandler(I)),(I&&I.preventDefault||M.preventDefault&&!M.defaultPrevented)&&t.cancelEvent(E),M.stopPropagation&&t.stopEvent(E)}function ve(C,E){Fe(C,E,E)}function ce(C,E){var I={target:E.target||E.srcElement,type:"wheel",shiftKey:E.shiftKey||!1,clientX:E.clientX,clientY:E.clientY,pageX:E.pageX?E.pageX:E.clientX,pageY:E.pageY?E.pageY:E.clientY,deltaMode:E.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};t.MouseTracker.wheelEventName==="mousewheel"?I.deltaY=-E.wheelDelta/t.DEFAULT_SETTINGS.pixelsPerWheelLine:I.deltaY=E.detail,Fe(C,I,E)}function Fe(C,E,I){var M=0,le,Ee=null;M=E.deltaY?E.deltaY<0?1:-1:0,le={originalEvent:E,eventType:"wheel",pointerType:"mouse",isEmulated:E!==I},k(C,le),C.scrollHandler&&!le.preventGesture&&!le.defaultPrevented&&(Ee={eventSource:C,pointerType:"mouse",position:F(E,C.element),scroll:M,shift:E.shiftKey,isTouchEvent:!1,originalEvent:I,preventDefault:le.preventDefault||le.defaultPrevented,userData:C.userData},C.scrollHandler(Ee)),le.stopPropagation&&t.stopEvent(I),(Ee&&Ee.preventDefault||le.preventDefault&&!le.defaultPrevented)&&t.cancelEvent(I)}function Ge(C,E){var I={id:t.MouseTracker.mousePointerId,type:"mouse"},M={originalEvent:E,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};k(C,M),E.target===C.element&&K(C,I,!1),M.stopPropagation&&t.stopEvent(E)}function yt(C,E){var I,M,le=E.changedTouches.length,Ee,nt=C.getActivePointersListByType("touch");I=t.now(),nt.getLength()>E.touches.length-le&&t.console.warn("Tracked touch contact count doesn't match event.touches.length");var Ot={originalEvent:E,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(k(C,Ot),M=0;M<le;M++)Ee={id:E.changedTouches[M].identifier,type:"touch",isPrimary:nt.getLength()===0,currentPos:D(E.changedTouches[M]),currentTime:I},he(C,Ot,Ee),We(C,Ot,Ee,0),K(C,Ee,!0);Ot.preventDefault&&!Ot.defaultPrevented&&t.cancelEvent(E),Ot.stopPropagation&&t.stopEvent(E)}function dt(C,E){var I,M,le=E.changedTouches.length,Ee;I=t.now();var nt={originalEvent:E,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(k(C,nt),M=0;M<le;M++)Ee={id:E.changedTouches[M].identifier,type:"touch",currentPos:D(E.changedTouches[M]),currentTime:I},ut(C,nt,Ee,0),K(C,Ee,!1),xe(C,nt,Ee);nt.preventDefault&&!nt.defaultPrevented&&t.cancelEvent(E),nt.stopPropagation&&t.stopEvent(E)}function Oe(C,E){var I,M,le=E.changedTouches.length,Ee;I=t.now();var nt={originalEvent:E,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(k(C,nt),M=0;M<le;M++)Ee={id:E.changedTouches[M].identifier,type:"touch",currentPos:D(E.changedTouches[M]),currentTime:I},ct(C,nt,Ee);nt.preventDefault&&!nt.defaultPrevented&&t.cancelEvent(E),nt.stopPropagation&&t.stopEvent(E)}function pe(C,E){var I=E.changedTouches.length,M,le,Ee={originalEvent:E,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(k(C,Ee),M=0;M<I;M++)le={id:E.changedTouches[M].identifier,type:"touch"},ze(C,Ee,le);Ee.stopPropagation&&t.stopEvent(E)}function ye(C,E){return t.eventIsCanceled(E)||E.preventDefault(),!1}function Re(C,E){return t.eventIsCanceled(E)||E.preventDefault(),!1}function j(C,E){var I={originalEvent:E,eventType:"gotpointercapture",pointerType:R(E),isEmulated:!1};k(C,I),E.target===C.element&&K(C,{id:E.pointerId,type:R(E)},!0),I.stopPropagation&&t.stopEvent(E)}function se(C,E){var I={originalEvent:E,eventType:"lostpointercapture",pointerType:R(E),isEmulated:!1};k(C,I),E.target===C.element&&K(C,{id:E.pointerId,type:R(E)},!1),I.stopPropagation&&t.stopEvent(E)}function ue(C,E){var I={id:T(E),type:R(E),isPrimary:L(E),currentPos:D(E),currentTime:t.now()},M={originalEvent:E,eventType:"pointerenter",pointerType:I.type,isEmulated:!1};k(C,M),he(C,M,I)}function Ne(C,E){var I={id:T(E),type:R(E),isPrimary:L(E),currentPos:D(E),currentTime:t.now()},M={originalEvent:E,eventType:"pointerleave",pointerType:I.type,isEmulated:!1};k(C,M),xe(C,M,I)}function He(C,E){var I={id:T(E),type:R(E),isPrimary:L(E),currentPos:D(E),currentTime:t.now()},M={originalEvent:E,eventType:"pointerover",pointerType:I.type,isEmulated:!1};k(C,M),Ie(C,M,I),M.preventDefault&&!M.defaultPrevented&&t.cancelEvent(E),M.stopPropagation&&t.stopEvent(E)}function Xe(C,E){var I={id:T(E),type:R(E),isPrimary:L(E),currentPos:D(E),currentTime:t.now()},M={originalEvent:E,eventType:"pointerout",pointerType:I.type,isEmulated:!1};k(C,M),de(C,M,I),M.preventDefault&&!M.defaultPrevented&&t.cancelEvent(E),M.stopPropagation&&t.stopEvent(E)}function lt(C,E){var I={id:T(E),type:R(E),isPrimary:L(E),currentPos:D(E),currentTime:t.now()},M=t.MouseTracker.havePointerEvents&&I.type==="touch",le={originalEvent:E,eventType:"pointerdown",pointerType:I.type,isEmulated:!1};k(C,le),We(C,le,I,E.button),le.preventDefault&&!le.defaultPrevented&&t.cancelEvent(E),le.stopPropagation&&t.stopEvent(E),le.shouldCapture&&(M?K(C,I,!0):v(C,I))}function Me(C,E){Et(C,E)}function Ke(C,E){var I=C.getActivePointersListByType(R(E));I.getById(E.pointerId)&&Et(C,E),t.stopEvent(E)}function Et(C,E){var I;I={id:T(E),type:R(E),isPrimary:L(E),currentPos:D(E),currentTime:t.now()};var M={originalEvent:E,eventType:"pointerup",pointerType:I.type,isEmulated:!1};k(C,M),ut(C,M,I,E.button),M.preventDefault&&!M.defaultPrevented&&t.cancelEvent(E),M.stopPropagation&&t.stopEvent(E),M.shouldReleaseCapture&&(E.target===C.element?w(C,I):K(C,I,!1))}function Ye(C,E){Bt(C,E)}function Ct(C,E){var I=C.getActivePointersListByType(R(E));I.getById(E.pointerId)&&Bt(C,E),t.stopEvent(E)}function Bt(C,E){var I={id:T(E),type:R(E),isPrimary:L(E),currentPos:D(E),currentTime:t.now()},M={originalEvent:E,eventType:"pointermove",pointerType:I.type,isEmulated:!1};k(C,M),ct(C,M,I),M.preventDefault&&!M.defaultPrevented&&t.cancelEvent(E),M.stopPropagation&&t.stopEvent(E)}function Tt(C,E){var I={id:E.pointerId,type:R(E)},M={originalEvent:E,eventType:"pointercancel",pointerType:I.type,isEmulated:!1};k(C,M),ze(C,M,I),M.stopPropagation&&t.stopEvent(E)}function pt(C,E){return E.speed=0,E.direction=0,E.contactPos=E.currentPos,E.contactTime=E.currentTime,E.lastPos=E.currentPos,E.lastTime=E.currentTime,C.add(E)}function gt(C,E,I){var M,le=E.getById(I.id);return le?(le.captured&&(t.console.warn("stopTrackingPointer() called on captured pointer"),w(C,le)),E.removeContact(),M=E.removeById(I.id)):M=E.getLength(),M}function S(C,E){switch(E.eventType){case"pointermove":E.isStoppable=!0,E.isCancelable=!0,E.preventDefault=!1,E.preventGesture=!C.hasGestureHandlers,E.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":E.isStoppable=!0,E.isCancelable=!0,E.preventDefault=!1,E.preventGesture=!1,E.stopPropagation=!1;break;case"pointerdown":E.isStoppable=!0,E.isCancelable=!0,E.preventDefault=!1,E.preventGesture=!C.hasGestureHandlers,E.stopPropagation=!1;break;case"pointerup":E.isStoppable=!0,E.isCancelable=!0,E.preventDefault=!1,E.preventGesture=!C.hasGestureHandlers,E.stopPropagation=!1;break;case"wheel":E.isStoppable=!0,E.isCancelable=!0,E.preventDefault=!1,E.preventGesture=!C.hasScrollHandler,E.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":E.isStoppable=!0,E.isCancelable=!1,E.preventDefault=!1,E.preventGesture=!1,E.stopPropagation=!1;break;case"click":E.isStoppable=!0,E.isCancelable=!0,E.preventDefault=!!C.clickHandler,E.preventGesture=!1,E.stopPropagation=!1;break;case"dblclick":E.isStoppable=!0,E.isCancelable=!0,E.preventDefault=!!C.dblClickHandler,E.preventGesture=!1,E.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:E.isStoppable=!1,E.isCancelable=!1,E.preventDefault=!1,E.preventGesture=!1,E.stopPropagation=!1;break}}function k(C,E){E.eventSource=C,E.eventPhase=E.originalEvent&&typeof E.originalEvent.eventPhase<"u"?E.originalEvent.eventPhase:0,E.defaultPrevented=t.eventIsCanceled(E.originalEvent),E.shouldCapture=!1,E.shouldReleaseCapture=!1,E.userData=C.userData,S(C,E),C.preProcessEventHandler&&C.preProcessEventHandler(E)}function K(C,E,I){var M=C.getActivePointersListByType(E.type),le=M.getById(E.id);le?I&&!le.captured?(le.captured=!0,M.captureCount++):!I&&le.captured&&(le.captured=!1,M.captureCount--,M.captureCount<0&&(M.captureCount=0,t.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):t.console.warn("updatePointerCaptured() called on untracked pointer")}function he(C,E,I){var M=C.getActivePointersListByType(I.type),le;le=M.getById(I.id),le?(le.insideElement=!0,le.lastPos=le.currentPos,le.lastTime=le.currentTime,le.currentPos=I.currentPos,le.currentTime=I.currentTime,I=le):(I.captured=!1,I.insideElementPressed=!1,I.insideElement=!0,pt(M,I)),C.enterHandler&&C.enterHandler({eventSource:C,pointerType:I.type,position:z(I.currentPos,C.element),buttons:M.buttons,pointers:C.getActivePointerCount(),insideElementPressed:I.insideElementPressed,buttonDownAny:M.buttons!==0,isTouchEvent:I.type==="touch",originalEvent:E.originalEvent,userData:C.userData})}function xe(C,E,I){var M=C.getActivePointersListByType(I.type),le,Ee;le=M.getById(I.id),le?(le.captured?(le.insideElement=!1,le.lastPos=le.currentPos,le.lastTime=le.currentTime,le.currentPos=I.currentPos,le.currentTime=I.currentTime):gt(C,M,le),I=le):(I.captured=!1,I.insideElementPressed=!1),(C.leaveHandler||C.exitHandler)&&(Ee={eventSource:C,pointerType:I.type,position:I.currentPos&&z(I.currentPos,C.element),buttons:M.buttons,pointers:C.getActivePointerCount(),insideElementPressed:I.insideElementPressed,buttonDownAny:M.buttons!==0,isTouchEvent:I.type==="touch",originalEvent:E.originalEvent,userData:C.userData},C.leaveHandler&&C.leaveHandler(Ee),C.exitHandler&&C.exitHandler(Ee))}function Ie(C,E,I){var M,le;M=C.getActivePointersListByType(I.type),le=M.getById(I.id),le?I=le:(I.captured=!1,I.insideElementPressed=!1),C.overHandler&&C.overHandler({eventSource:C,pointerType:I.type,position:z(I.currentPos,C.element),buttons:M.buttons,pointers:C.getActivePointerCount(),insideElementPressed:I.insideElementPressed,buttonDownAny:M.buttons!==0,isTouchEvent:I.type==="touch",originalEvent:E.originalEvent,userData:C.userData})}function de(C,E,I){var M,le;M=C.getActivePointersListByType(I.type),le=M.getById(I.id),le?I=le:(I.captured=!1,I.insideElementPressed=!1),C.outHandler&&C.outHandler({eventSource:C,pointerType:I.type,position:I.currentPos&&z(I.currentPos,C.element),buttons:M.buttons,pointers:C.getActivePointerCount(),insideElementPressed:I.insideElementPressed,buttonDownAny:M.buttons!==0,isTouchEvent:I.type==="touch",originalEvent:E.originalEvent,userData:C.userData})}function We(C,E,I,M){var le=r[C.hash],Ee=C.getActivePointersListByType(I.type),nt;if(typeof E.originalEvent.buttons<"u"?Ee.buttons=E.originalEvent.buttons:M===0?Ee.buttons|=1:M===1?Ee.buttons|=4:M===2?Ee.buttons|=2:M===3?Ee.buttons|=8:M===4?Ee.buttons|=16:M===5&&(Ee.buttons|=32),M!==0){E.shouldCapture=!1,E.shouldReleaseCapture=!1,C.nonPrimaryPressHandler&&!E.preventGesture&&!E.defaultPrevented&&(E.preventDefault=!0,C.nonPrimaryPressHandler({eventSource:C,pointerType:I.type,position:z(I.currentPos,C.element),button:M,buttons:Ee.buttons,isTouchEvent:I.type==="touch",originalEvent:E.originalEvent,userData:C.userData}));return}nt=Ee.getById(I.id),nt?(nt.insideElementPressed=!0,nt.insideElement=!0,nt.originalTarget=E.originalEvent.target,nt.contactPos=I.currentPos,nt.contactTime=I.currentTime,nt.lastPos=nt.currentPos,nt.lastTime=nt.currentTime,nt.currentPos=I.currentPos,nt.currentTime=I.currentTime,I=nt):(I.captured=!1,I.insideElementPressed=!0,I.insideElement=!0,I.originalTarget=E.originalEvent.target,pt(Ee,I)),Ee.addContact(),!E.preventGesture&&!E.defaultPrevented?(E.shouldCapture=!0,E.shouldReleaseCapture=!1,E.preventDefault=!0,(C.dragHandler||C.dragEndHandler||C.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.addPoint(C,I),Ee.contacts===1?C.pressHandler&&!E.preventGesture&&C.pressHandler({eventSource:C,pointerType:I.type,position:z(I.contactPos,C.element),buttons:Ee.buttons,isTouchEvent:I.type==="touch",originalEvent:E.originalEvent,userData:C.userData}):Ee.contacts===2&&C.pinchHandler&&I.type==="touch"&&(le.pinchGPoints=Ee.asArray(),le.lastPinchDist=le.currentPinchDist=le.pinchGPoints[0].currentPos.distanceTo(le.pinchGPoints[1].currentPos),le.lastPinchCenter=le.currentPinchCenter=q(le.pinchGPoints[0].currentPos,le.pinchGPoints[1].currentPos))):(E.shouldCapture=!1,E.shouldReleaseCapture=!1)}function ut(C,E,I,M){var le=r[C.hash],Ee=C.getActivePointersListByType(I.type),nt,Ot,it,fn=!1,tn;if(typeof E.originalEvent.buttons<"u"?Ee.buttons=E.originalEvent.buttons:M===0?Ee.buttons^=-2:M===1?Ee.buttons^=-5:M===2?Ee.buttons^=-3:M===3?Ee.buttons^=-9:M===4?Ee.buttons^=-17:M===5&&(Ee.buttons^=-33),E.shouldCapture=!1,M!==0){E.shouldReleaseCapture=!1,C.nonPrimaryReleaseHandler&&!E.preventGesture&&!E.defaultPrevented&&(E.preventDefault=!0,C.nonPrimaryReleaseHandler({eventSource:C,pointerType:I.type,position:z(I.currentPos,C.element),button:M,buttons:Ee.buttons,isTouchEvent:I.type==="touch",originalEvent:E.originalEvent,userData:C.userData}));return}it=Ee.getById(I.id),it?(Ee.removeContact(),it.captured&&(fn=!0),it.lastPos=it.currentPos,it.lastTime=it.currentTime,it.currentPos=I.currentPos,it.currentTime=I.currentTime,it.insideElement||gt(C,Ee,it),nt=it.currentPos,Ot=it.currentTime):(I.captured=!1,I.insideElementPressed=!1,I.insideElement=!0,pt(Ee,I),it=I),!E.preventGesture&&!E.defaultPrevented&&(fn?(E.shouldReleaseCapture=!0,E.preventDefault=!0,(C.dragHandler||C.dragEndHandler||C.pinchHandler)&&t.MouseTracker.gesturePointVelocityTracker.removePoint(C,it),Ee.contacts===0?(C.releaseHandler&&nt&&C.releaseHandler({eventSource:C,pointerType:it.type,position:z(nt,C.element),buttons:Ee.buttons,insideElementPressed:it.insideElementPressed,insideElementReleased:it.insideElement,isTouchEvent:it.type==="touch",originalEvent:E.originalEvent,userData:C.userData}),C.dragEndHandler&&le.sentDragEvent&&C.dragEndHandler({eventSource:C,pointerType:it.type,position:z(it.currentPos,C.element),speed:it.speed,direction:it.direction,shift:E.originalEvent.shiftKey,isTouchEvent:it.type==="touch",originalEvent:E.originalEvent,userData:C.userData}),le.sentDragEvent=!1,(C.clickHandler||C.dblClickHandler)&&it.insideElement&&(tn=Ot-it.contactTime<=C.clickTimeThreshold&&it.contactPos.distanceTo(nt)<=C.clickDistThreshold,C.clickHandler&&C.clickHandler({eventSource:C,pointerType:it.type,position:z(it.currentPos,C.element),quick:tn,shift:E.originalEvent.shiftKey,isTouchEvent:it.type==="touch",originalEvent:E.originalEvent,originalTarget:it.originalTarget,userData:C.userData}),C.dblClickHandler&&tn&&(Ee.clicks++,Ee.clicks===1?(le.lastClickPos=nt,le.dblClickTimeOut=setTimeout(function(){Ee.clicks=0},C.dblClickTimeThreshold)):Ee.clicks===2&&(clearTimeout(le.dblClickTimeOut),Ee.clicks=0,le.lastClickPos.distanceTo(nt)<=C.dblClickDistThreshold&&C.dblClickHandler({eventSource:C,pointerType:it.type,position:z(it.currentPos,C.element),shift:E.originalEvent.shiftKey,isTouchEvent:it.type==="touch",originalEvent:E.originalEvent,userData:C.userData}),le.lastClickPos=null)))):Ee.contacts===2&&C.pinchHandler&&it.type==="touch"&&(le.pinchGPoints=Ee.asArray(),le.lastPinchDist=le.currentPinchDist=le.pinchGPoints[0].currentPos.distanceTo(le.pinchGPoints[1].currentPos),le.lastPinchCenter=le.currentPinchCenter=q(le.pinchGPoints[0].currentPos,le.pinchGPoints[1].currentPos))):(E.shouldReleaseCapture=!1,C.releaseHandler&&nt&&(C.releaseHandler({eventSource:C,pointerType:it.type,position:z(nt,C.element),buttons:Ee.buttons,insideElementPressed:it.insideElementPressed,insideElementReleased:it.insideElement,isTouchEvent:it.type==="touch",originalEvent:E.originalEvent,userData:C.userData}),E.preventDefault=!0)))}function ct(C,E,I){var M=r[C.hash],le=C.getActivePointersListByType(I.type),Ee,nt,Ot;if(typeof E.originalEvent.buttons<"u"&&(le.buttons=E.originalEvent.buttons),Ee=le.getById(I.id),Ee)Ee.lastPos=Ee.currentPos,Ee.lastTime=Ee.currentTime,Ee.currentPos=I.currentPos,Ee.currentTime=I.currentTime;else return;E.shouldCapture=!1,E.shouldReleaseCapture=!1,C.stopHandler&&I.type==="mouse"&&(clearTimeout(C.stopTimeOut),C.stopTimeOut=setTimeout(function(){ht(C,E.originalEvent,I.type)},C.stopDelay)),le.contacts===0?C.moveHandler&&C.moveHandler({eventSource:C,pointerType:I.type,position:z(I.currentPos,C.element),buttons:le.buttons,isTouchEvent:I.type==="touch",originalEvent:E.originalEvent,userData:C.userData}):le.contacts===1?(C.moveHandler&&(Ee=le.asArray()[0],C.moveHandler({eventSource:C,pointerType:Ee.type,position:z(Ee.currentPos,C.element),buttons:le.buttons,isTouchEvent:Ee.type==="touch",originalEvent:E.originalEvent,userData:C.userData})),C.dragHandler&&!E.preventGesture&&!E.defaultPrevented&&(Ee=le.asArray()[0],Ot=Ee.currentPos.minus(Ee.lastPos),C.dragHandler({eventSource:C,pointerType:Ee.type,position:z(Ee.currentPos,C.element),buttons:le.buttons,delta:Ot,speed:Ee.speed,direction:Ee.direction,shift:E.originalEvent.shiftKey,isTouchEvent:Ee.type==="touch",originalEvent:E.originalEvent,userData:C.userData}),E.preventDefault=!0,M.sentDragEvent=!0)):le.contacts===2&&(C.moveHandler&&(nt=le.asArray(),C.moveHandler({eventSource:C,pointerType:nt[0].type,position:z(q(nt[0].currentPos,nt[1].currentPos),C.element),buttons:le.buttons,isTouchEvent:nt[0].type==="touch",originalEvent:E.originalEvent,userData:C.userData})),C.pinchHandler&&I.type==="touch"&&!E.preventGesture&&!E.defaultPrevented&&(Ot=M.pinchGPoints[0].currentPos.distanceTo(M.pinchGPoints[1].currentPos),Ot!==M.currentPinchDist&&(M.lastPinchDist=M.currentPinchDist,M.currentPinchDist=Ot,M.lastPinchCenter=M.currentPinchCenter,M.currentPinchCenter=q(M.pinchGPoints[0].currentPos,M.pinchGPoints[1].currentPos),C.pinchHandler({eventSource:C,pointerType:"touch",gesturePoints:M.pinchGPoints,lastCenter:z(M.lastPinchCenter,C.element),center:z(M.currentPinchCenter,C.element),lastDistance:M.lastPinchDist,distance:M.currentPinchDist,shift:E.originalEvent.shiftKey,originalEvent:E.originalEvent,userData:C.userData}),E.preventDefault=!0)))}function ze(C,E,I){var M=C.getActivePointersListByType(I.type),le;le=M.getById(I.id),le&&gt(C,M,le)}function ht(C,E,I){C.stopHandler&&C.stopHandler({eventSource:C,pointerType:I,position:F(E,C.element),buttons:C.getActivePointersListByType(I).buttons,isTouchEvent:I==="touch",originalEvent:E,userData:C.userData})}}(g),function(t){t.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},t.Control=function(r,l,a){var u=r.parentNode;typeof l=="number"&&(t.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),l={anchor:l}),l.attachToViewer=typeof l.attachToViewer>"u"?!0:l.attachToViewer,this.autoFade=typeof l.autoFade>"u"?!0:l.autoFade,this.element=r,this.anchor=l.anchor,this.container=a,this.anchor===t.ControlAnchor.ABSOLUTE?(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof l.top=="number"?l.top+"px":l.top,this.wrapper.style.left=typeof l.left=="number"?l.left+"px":l.left,this.wrapper.style.height=typeof l.height=="number"?l.height+"px":l.height,this.wrapper.style.width=typeof l.width=="number"?l.width+"px":l.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=t.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===t.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),l.attachToViewer?this.anchor===t.ControlAnchor.TOP_RIGHT||this.anchor===t.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):u.appendChild(this.wrapper)},t.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==t.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(r){this.wrapper.style.display=r?this.anchor===t.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(r){t.setElementOpacity(this.wrapper,r,!0)}}}(g),function(t){t.ControlDock=function(l){var a=["topleft","topright","bottomright","bottomleft"],u,p;for(t.extend(!0,this,{id:"controldock-"+t.now()+"-"+Math.floor(Math.random()*1e6),container:t.makeNeutralElement("div"),controls:[]},l),this.container.onsubmit=function(){return!1},this.element&&(this.element=t.getElement(this.element),this.element.appendChild(this.container),t.getElementStyle(this.element).position==="static"&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),p=0;p<a.length;p++)u=a[p],this.controls[u]=t.makeNeutralElement("div"),this.controls[u].style.position="absolute",u.match("left")&&(this.controls[u].style.left="0px"),u.match("right")&&(this.controls[u].style.right="0px"),u.match("top")&&(this.controls[u].style.top="0px"),u.match("bottom")&&(this.controls[u].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},t.ControlDock.prototype={addControl:function(l,a){l=t.getElement(l);var u=null;if(!(r(this,l)>=0)){switch(a.anchor){case t.ControlAnchor.TOP_RIGHT:u=this.controls.topright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.BOTTOM_RIGHT:u=this.controls.bottomright,l.style.position="relative",l.style.paddingRight="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.BOTTOM_LEFT:u=this.controls.bottomleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingBottom="0px";break;case t.ControlAnchor.TOP_LEFT:u=this.controls.topleft,l.style.position="relative",l.style.paddingLeft="0px",l.style.paddingTop="0px";break;case t.ControlAnchor.ABSOLUTE:u=this.container,l.style.margin="0px",l.style.padding="0px";break;default:case t.ControlAnchor.NONE:u=this.container,l.style.margin="0px",l.style.padding="0px";break}this.controls.push(new t.Control(l,a,u)),l.style.display="inline-block"}},removeControl:function(l){l=t.getElement(l);var a=r(this,l);return a>=0&&(this.controls[a].destroy(),this.controls.splice(a,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var l;for(l=this.controls.length-1;l>=0;l--)if(this.controls[l].isVisible())return!0;return!1},setControlsEnabled:function(l){var a;for(a=this.controls.length-1;a>=0;a--)this.controls[a].setVisible(l);return this}};function r(l,a){var u=l.controls,p;for(p=u.length-1;p>=0;p--)if(u[p].element===a)return p;return-1}}(g),function(t){t.Placement=t.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(g),function(t){var r={},l=1;t.Viewer=function(S){var k=arguments,K=this,he;t.isPlainObject(S)||(S={id:k[0],xmlPath:k.length>1?k[1]:void 0,prefixUrl:k.length>2?k[2]:void 0,controls:k.length>3?k[3]:void 0,overlays:k.length>4?k[4]:void 0}),S.config&&(t.extend(!0,S,S.config),delete S.config);let xe=["useCanvas"];if(S.drawerOptions=Object.assign({},xe.reduce((de,We)=>(de[We]=S[We],delete S[We],de),{}),S.drawerOptions),t.extend(!0,this,{id:S.id,hash:S.hash||l++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},t.DEFAULT_SETTINGS,S),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");typeof r[this.hash]<"u"&&t.console.warn("Hash "+this.hash+" has already been used."),r[this.hash]={fsBoundsDelta:new t.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=t.now(),t.EventSource.call(this),this.addHandler("open-failed",function(de){var We=t.getString("Errors.OpenFailed",de.eventSource,de.message);K._showMessage(We)}),t.ControlDock.call(this,S),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=t.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(de){de.width="100%",de.height="100%",de.overflow="hidden",de.position="absolute",de.top="0px",de.left="0px"}(this.canvas.style),t.setElementTouchActionNone(this.canvas),S.tabIndex!==""&&(this.canvas.tabIndex=S.tabIndex===void 0?0:S.tabIndex),this.container.className="openseadragon-container",function(de){de.width="100%",de.height="100%",de.position="relative",de.overflow="hidden",de.left="0px",de.top="0px",de.textAlign="left"}(this.container.style),t.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new t.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:t.delegate(this,F),keyDownHandler:t.delegate(this,z),keyHandler:t.delegate(this,q),clickHandler:t.delegate(this,ee),dblClickHandler:t.delegate(this,Le),dragHandler:t.delegate(this,Se),dragEndHandler:t.delegate(this,Z),enterHandler:t.delegate(this,we),leaveHandler:t.delegate(this,N),pressHandler:t.delegate(this,U),releaseHandler:t.delegate(this,te),nonPrimaryPressHandler:t.delegate(this,ve),nonPrimaryReleaseHandler:t.delegate(this,ce),scrollHandler:t.delegate(this,dt),pinchHandler:t.delegate(this,Fe),focusHandler:t.delegate(this,Ge),blurHandler:t.delegate(this,yt)}),this.outerTracker=new t.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:t.delegate(this,Oe),leaveHandler:t.delegate(this,pe)}),this.toolbar&&(this.toolbar=new t.ControlDock({element:this.toolbar})),this.bindStandardControls(),r[this.hash].prevContainerSize=a(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){r[K.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new t.World({viewer:this}),this.world.addHandler("add-item",function(de){K.source=K.world.getItemAt(0).source,r[K.hash].forceRedraw=!0,K._updateRequestId||(K._updateRequestId=f(K,ye))}),this.world.addHandler("remove-item",function(de){K.world.getItemCount()?K.source=K.world.getItemAt(0).source:K.source=null,r[K.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(de){K.viewport&&K.viewport._setContentBounds(K.world.getHomeBounds(),K.world.getContentFactor())}),this.world.addHandler("item-index-change",function(de){K.source=K.world.getItemAt(0).source}),this.viewport=new t.Viewport({containerSize:r[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new t.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:S.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new t.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(t.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=t.HTMLDrawer),delete this.drawerOptions.useCanvas);let Ie=Array.isArray(this.drawer)?this.drawer:[this.drawer];Ie.length===0&&(Ie=[t.DEFAULT_SETTINGS.drawer].flat(),t.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null;for(const de of Ie)if(this.requestDrawer(de,{mainDrawer:!0,redrawImmediately:!1}))break;if(!this.drawer)throw t.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=t.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(he=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(he,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(he=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(he,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new t.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),he=0;he<this.customControls.length;he++)this.addControl(this.customControls[he].id,{anchor:this.customControls[he].anchor});t.requestAnimationFrame(function(){w(K)}),t._viewers.set(this.element,this)},t.extend(t.Viewer.prototype,t.EventSource.prototype,t.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(S){return t.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(S)},openTileSource:function(S){return t.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(S)},get buttons(){return t.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(S,k){var K=this;if(this.close(),!S)return this;if(this.sequenceMode&&t.isArray(S))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof k<"u"&&!isNaN(k)&&(this.initialPage=k),this.tileSources=S,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(t.isArray(S)||(S=[S]),!S.length)return this;this._opening=!0;for(var he=S.length,xe=0,Ie=0,de,We=function(){if(xe+Ie===he)if(xe){(K._firstOpen||!K.preserveViewport)&&(K.viewport.goHome(!0),K.viewport.update()),K._firstOpen=!1;var ze=S[0];if(ze.tileSource&&(ze=ze.tileSource),K.overlays&&!K.preserveOverlays)for(var ht=0;ht<K.overlays.length;ht++)K.currentOverlays[ht]=p(K,K.overlays[ht]);K._drawOverlays(),K._opening=!1,K.raiseEvent("open",{source:ze})}else K._opening=!1,K.raiseEvent("open-failed",de)},ut=function(ze){(!t.isPlainObject(ze)||!ze.tileSource)&&(ze={tileSource:ze}),ze.index!==void 0&&(t.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete ze.index),ze.collectionImmediately===void 0&&(ze.collectionImmediately=!0);var ht=ze.success;ze.success=function(E){if(xe++,ze.tileSource.overlays)for(var I=0;I<ze.tileSource.overlays.length;I++)K.addOverlay(ze.tileSource.overlays[I]);ht&&ht(E),We()};var C=ze.error;ze.error=function(E){Ie++,de||(de=E),C&&C(E),We()},K.addTiledImage(ze)},ct=0;ct<S.length;ct++)ut(S[ct]);return this},close:function(){return r[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),r[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(r[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(t.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),r[this.navigator.hash]=null,delete r[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),r[this.hash]=null,delete r[this.hash],this.canvas=null,this.container=null,t._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer(S,k){const K={mainDrawer:!0,redrawImmediately:!0,drawerOptions:null};k=t.extend(!0,K,k);const he=k.mainDrawer,xe=k.redrawImmediately,Ie=k.drawerOptions,de=this.drawer;let We=null;if(S&&S.prototype instanceof t.DrawerBase?(We=S,S="custom"):typeof S=="string"&&(We=t.determineDrawer(S)),We||t.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),We&&We.isSupported()){de&&he&&de.destroy();const ut=new We({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:Ie||this.drawerOptions[S]});return he&&(this.drawer=ut,xe&&this.forceRedraw()),ut}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(S){return this.innerTracker.setTracking(S),this.outerTracker.setTracking(S),this.raiseEvent("mouse-enabled",{enabled:S}),this},areControlsEnabled:function(){var S=this.controls.length,k;for(k=0;k<this.controls.length;k++)S=S&&this.controls[k].isVisible();return S},setControlsEnabled:function(S){return S?R(this):w(this),this.raiseEvent("controls-enabled",{enabled:S}),this},setDebugMode:function(S){for(var k=0;k<this.world.getItemCount();k++)this.world.getItemAt(k).debugMode=S;this.debugMode=S,this.forceRedraw()},setAjaxHeaders:function(S,k){if(S===null&&(S={}),!t.isPlainObject(S)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(k===void 0&&(k=!0),this.ajaxHeaders=S,k){for(var K=0;K<this.world.getItemCount();K++)this.world.getItemAt(K)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var he in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[he].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(S){this.buttonGroup.addButton(S)},isFullPage:function(){return r[this.hash]&&r[this.hash].fullPage},setFullPage:function(S){var k=document.body,K=k.style,he=document.documentElement.style,xe=this,Ie,de;if(S===this.isFullPage())return this;var We={fullPage:S,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",We),We.preventDefaultAction)return this;if(S&&this.element){for(this.elementSize=t.getElementSize(this.element),this.pageScroll=t.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=K.margin,this.docMargin=he.margin,K.margin="0",he.margin="0",this.bodyPadding=K.padding,this.docPadding=he.padding,K.padding="0",he.padding="0",this.bodyWidth=K.width,this.docWidth=he.width,K.width="100%",he.width="100%",this.bodyHeight=K.height,this.docHeight=he.height,K.height="100%",he.height="100%",this.bodyDisplay=K.display,K.display="block",this.previousBody=[],r[this.hash].prevElementParent=this.element.parentNode,r[this.hash].prevNextSibling=this.element.nextSibling,r[this.hash].prevElementWidth=this.element.style.width,r[this.hash].prevElementHeight=this.element.style.height,Ie=k.childNodes.length,de=0;de<Ie;de++)this.previousBody.push(k.childNodes[0]),k.removeChild(k.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,k.appendChild(this.toolbar.element),t.addClass(this.toolbar.element,"fullpage")),t.addClass(this.element,"fullpage"),k.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=t.getElementSize(this.element).y-t.getElementSize(this.toolbar.element).y+"px"),r[this.hash].fullPage=!0,t.delegate(this,Oe)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,K.margin=this.bodyMargin,he.margin=this.docMargin,K.padding=this.bodyPadding,he.padding=this.docPadding,K.width=this.bodyWidth,he.width=this.docWidth,K.height=this.bodyHeight,he.height=this.docHeight,K.display=this.bodyDisplay,k.removeChild(this.element),Ie=this.previousBody.length,de=0;de<Ie;de++)k.appendChild(this.previousBody.shift());t.removeClass(this.element,"fullpage"),r[this.hash].prevElementParent.insertBefore(this.element,r[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(k.removeChild(this.toolbar.element),t.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=r[this.hash].prevElementWidth,this.element.style.height=r[this.hash].prevElementHeight;var ut=0,ct=function(){t.setPageScroll(xe.pageScroll);var ze=t.getPageScroll();ut++,ut<10&&(ze.x!==xe.pageScroll.x||ze.y!==xe.pageScroll.y)&&t.requestAnimationFrame(ct)};t.requestAnimationFrame(ct),r[this.hash].fullPage=!1,t.delegate(this,pe)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:S}),this},setFullScreen:function(S){var k=this;if(!t.supportsFullScreen)return this.setFullPage(S);if(t.isFullScreen()===S)return this;var K={fullScreen:S,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",K),K.preventDefaultAction)return this;if(S){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var he=function(){var xe=t.isFullScreen();xe||(t.removeEvent(document,t.fullScreenEventName,he),t.removeEvent(document,t.fullScreenErrorEventName,he),k.setFullPage(!1),k.isFullPage()&&(k.element.style.width=k.fullPageStyleWidth,k.element.style.height=k.fullPageStyleHeight)),k.navigator&&k.viewport&&setTimeout(function(){k.navigator.update(k.viewport)}),k.raiseEvent("full-screen",{fullScreen:xe})};t.addEvent(document,t.fullScreenEventName,he),t.addEvent(document,t.fullScreenErrorEventName,he),t.requestFullScreen(document.body)}else t.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return t.isFullScreen()&&this.isFullPage()},setVisible:function(S){return this.container.style.visibility=S?"":"hidden",this.raiseEvent("visible",{visible:S}),this},addTiledImage:function(S){t.console.assert(S,"[Viewer.addTiledImage] options is required"),t.console.assert(S.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),t.console.assert(!S.replace||S.index>-1&&S.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var k=this;S.replace&&(S.replaceItem=k.world.getItemAt(S.index)),this._hideMessage(),S.placeholderFillStyle===void 0&&(S.placeholderFillStyle=this.placeholderFillStyle),S.opacity===void 0&&(S.opacity=this.opacity),S.preload===void 0&&(S.preload=this.preload),S.compositeOperation===void 0&&(S.compositeOperation=this.compositeOperation),S.crossOriginPolicy===void 0&&(S.crossOriginPolicy=S.tileSource.crossOriginPolicy!==void 0?S.tileSource.crossOriginPolicy:this.crossOriginPolicy),S.ajaxWithCredentials===void 0&&(S.ajaxWithCredentials=this.ajaxWithCredentials),S.loadTilesWithAjax===void 0&&(S.loadTilesWithAjax=this.loadTilesWithAjax),t.isPlainObject(S.ajaxHeaders)||(S.ajaxHeaders={});var K={options:S};function he(de){for(var We=0;We<k._loadQueue.length;We++)if(k._loadQueue[We]===K){k._loadQueue.splice(We,1);break}k._loadQueue.length===0&&xe(K),k.raiseEvent("add-item-failed",de),S.error&&S.error(de)}function xe(de){k.collectionMode&&(k.world.arrange({immediately:de.options.collectionImmediately,rows:k.collectionRows,columns:k.collectionColumns,layout:k.collectionLayout,tileSize:k.collectionTileSize,tileMargin:k.collectionTileMargin}),k.world.setAutoRefigureSizes(!0))}if(t.isArray(S.tileSource)){setTimeout(function(){he({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:S.tileSource,options:S})});return}this._loadQueue.push(K);function Ie(){for(var de,We,ut;k._loadQueue.length&&(de=k._loadQueue[0],!!de.tileSource);){if(k._loadQueue.splice(0,1),de.options.replace){var ct=k.world.getIndexOfItem(de.options.replaceItem);ct!==-1&&(de.options.index=ct),k.world.removeItem(de.options.replaceItem)}We=new t.TiledImage({viewer:k,source:de.tileSource,viewport:k.viewport,drawer:k.drawer,tileCache:k.tileCache,imageLoader:k.imageLoader,x:de.options.x,y:de.options.y,width:de.options.width,height:de.options.height,fitBounds:de.options.fitBounds,fitBoundsPlacement:de.options.fitBoundsPlacement,clip:de.options.clip,placeholderFillStyle:de.options.placeholderFillStyle,opacity:de.options.opacity,preload:de.options.preload,degrees:de.options.degrees,flipped:de.options.flipped,compositeOperation:de.options.compositeOperation,springStiffness:k.springStiffness,animationTime:k.animationTime,minZoomImageRatio:k.minZoomImageRatio,wrapHorizontal:k.wrapHorizontal,wrapVertical:k.wrapVertical,maxTilesPerFrame:k.maxTilesPerFrame,immediateRender:k.immediateRender,blendTime:k.blendTime,alwaysBlend:k.alwaysBlend,minPixelRatio:k.minPixelRatio,smoothTileEdgesMinZoom:k.smoothTileEdgesMinZoom,iOSDevice:k.iOSDevice,crossOriginPolicy:de.options.crossOriginPolicy,ajaxWithCredentials:de.options.ajaxWithCredentials,loadTilesWithAjax:de.options.loadTilesWithAjax,ajaxHeaders:de.options.ajaxHeaders,debugMode:k.debugMode,subPixelRoundingForTransparency:k.subPixelRoundingForTransparency}),k.collectionMode&&k.world.setAutoRefigureSizes(!1),k.navigator&&(ut=t.extend({},de.options,{replace:!1,originalTiledImage:We,tileSource:de.tileSource}),k.navigator.addTiledImage(ut)),k.world.addItem(We,{index:de.options.index}),k._loadQueue.length===0&&xe(de),k.world.getItemCount()===1&&!k.preserveViewport&&k.viewport.goHome(!0),de.options.success&&de.options.success({item:We})}}u(this,S.tileSource,S,function(de){K.tileSource=de,Ie()},function(de){de.options=S,he(de),Ie()})},addSimpleImage:function(S){t.console.assert(S,"[Viewer.addSimpleImage] options is required"),t.console.assert(S.url,"[Viewer.addSimpleImage] options.url is required");var k=t.extend({},S,{tileSource:{type:"image",url:S.url}});delete k.url,this.addTiledImage(k)},addLayer:function(S){var k=this;t.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var K=t.extend({},S,{success:function(he){k.raiseEvent("add-layer",{options:S,drawer:he.item})},error:function(he){k.raiseEvent("add-layer-failed",he)}});return this.addTiledImage(K),this},getLayerAtLevel:function(S){return t.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(S)},getLevelOfLayer:function(S){return t.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(S)},getLayersCount:function(){return t.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(S,k){return t.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(S,k)},removeLayer:function(S){return t.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(S)},forceRedraw:function(){return r[this.hash].forceRedraw=!0,this},forceResize:function(){r[this.hash].needsResize=!0,r[this.hash].forceResize=!0},bindSequenceControls:function(){var S=t.delegate(this,L),k=t.delegate(this,D),K=t.delegate(this,this.goToNextPage),he=t.delegate(this,this.goToPreviousPage),xe=this.navImages,Ie=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Ie=!1),this.previousButton=new t.Button({element:this.previousButton?t.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.PreviousPage"),srcRest:ue(this.prefixUrl,xe.previous.REST),srcGroup:ue(this.prefixUrl,xe.previous.GROUP),srcHover:ue(this.prefixUrl,xe.previous.HOVER),srcDown:ue(this.prefixUrl,xe.previous.DOWN),onRelease:he,onFocus:S,onBlur:k}),this.nextButton=new t.Button({element:this.nextButton?t.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.NextPage"),srcRest:ue(this.prefixUrl,xe.next.REST),srcGroup:ue(this.prefixUrl,xe.next.GROUP),srcHover:ue(this.prefixUrl,xe.next.HOVER),srcDown:ue(this.prefixUrl,xe.next.DOWN),onRelease:K,onFocus:S,onBlur:k}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Ie&&(this.paging=new t.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:t.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||t.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var S=t.delegate(this,Ne),k=t.delegate(this,Xe),K=t.delegate(this,Ke),he=t.delegate(this,He),xe=t.delegate(this,Et),Ie=t.delegate(this,Ct),de=t.delegate(this,Bt),We=t.delegate(this,Tt),ut=t.delegate(this,pt),ct=t.delegate(this,gt),ze=t.delegate(this,L),ht=t.delegate(this,D),C=this.navImages,E=[],I=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(I=!1),this.showZoomControl&&(E.push(this.zoomInButton=new t.Button({element:this.zoomInButton?t.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomIn"),srcRest:ue(this.prefixUrl,C.zoomIn.REST),srcGroup:ue(this.prefixUrl,C.zoomIn.GROUP),srcHover:ue(this.prefixUrl,C.zoomIn.HOVER),srcDown:ue(this.prefixUrl,C.zoomIn.DOWN),onPress:S,onRelease:k,onClick:K,onEnter:S,onExit:k,onFocus:ze,onBlur:ht})),E.push(this.zoomOutButton=new t.Button({element:this.zoomOutButton?t.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.ZoomOut"),srcRest:ue(this.prefixUrl,C.zoomOut.REST),srcGroup:ue(this.prefixUrl,C.zoomOut.GROUP),srcHover:ue(this.prefixUrl,C.zoomOut.HOVER),srcDown:ue(this.prefixUrl,C.zoomOut.DOWN),onPress:he,onRelease:k,onClick:xe,onEnter:he,onExit:k,onFocus:ze,onBlur:ht}))),this.showHomeControl&&E.push(this.homeButton=new t.Button({element:this.homeButton?t.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Home"),srcRest:ue(this.prefixUrl,C.home.REST),srcGroup:ue(this.prefixUrl,C.home.GROUP),srcHover:ue(this.prefixUrl,C.home.HOVER),srcDown:ue(this.prefixUrl,C.home.DOWN),onRelease:Ie,onFocus:ze,onBlur:ht})),this.showFullPageControl&&E.push(this.fullPageButton=new t.Button({element:this.fullPageButton?t.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.FullPage"),srcRest:ue(this.prefixUrl,C.fullpage.REST),srcGroup:ue(this.prefixUrl,C.fullpage.GROUP),srcHover:ue(this.prefixUrl,C.fullpage.HOVER),srcDown:ue(this.prefixUrl,C.fullpage.DOWN),onRelease:de,onFocus:ze,onBlur:ht})),this.showRotationControl&&(E.push(this.rotateLeftButton=new t.Button({element:this.rotateLeftButton?t.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateLeft"),srcRest:ue(this.prefixUrl,C.rotateleft.REST),srcGroup:ue(this.prefixUrl,C.rotateleft.GROUP),srcHover:ue(this.prefixUrl,C.rotateleft.HOVER),srcDown:ue(this.prefixUrl,C.rotateleft.DOWN),onRelease:We,onFocus:ze,onBlur:ht})),E.push(this.rotateRightButton=new t.Button({element:this.rotateRightButton?t.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.RotateRight"),srcRest:ue(this.prefixUrl,C.rotateright.REST),srcGroup:ue(this.prefixUrl,C.rotateright.GROUP),srcHover:ue(this.prefixUrl,C.rotateright.HOVER),srcDown:ue(this.prefixUrl,C.rotateright.DOWN),onRelease:ut,onFocus:ze,onBlur:ht}))),this.showFlipControl&&E.push(this.flipButton=new t.Button({element:this.flipButton?t.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:t.getString("Tooltips.Flip"),srcRest:ue(this.prefixUrl,C.flip.REST),srcGroup:ue(this.prefixUrl,C.flip.GROUP),srcHover:ue(this.prefixUrl,C.flip.HOVER),srcDown:ue(this.prefixUrl,C.flip.DOWN),onRelease:ct,onFocus:ze,onBlur:ht})),I?(this.buttonGroup=new t.ButtonGroup({buttons:E,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",t.delegate(this,Ye)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||t.ControlAnchor.TOP_LEFT})):this.customButtons=E),this},currentPage:function(){return this._sequenceIndex},goToPage:function(S){return this.tileSources&&S>=0&&S<this.tileSources.length&&(this._sequenceIndex=S,this._updateSequenceButtons(S),this.open(this.tileSources[S]),this.referenceStrip&&this.referenceStrip.setFocus(S),this.raiseEvent("page",{page:S})),this},addOverlay:function(S,k,K,he){var xe;if(t.isPlainObject(S)?xe=S:xe={element:S,location:k,placement:K,onDraw:he},S=t.getElement(xe.element),h(this.currentOverlays,S)>=0)return this;var Ie=p(this,xe);return this.currentOverlays.push(Ie),Ie.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:S,location:xe.location,placement:xe.placement}),this},updateOverlay:function(S,k,K){var he;return S=t.getElement(S),he=h(this.currentOverlays,S),he>=0&&(this.currentOverlays[he].update(k,K),r[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:S,location:k,placement:K})),this},removeOverlay:function(S){var k;return S=t.getElement(S),k=h(this.currentOverlays,S),k>=0&&(this.currentOverlays[k].destroy(),this.currentOverlays.splice(k,1),r[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:S})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return r[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(S){var k;return S=t.getElement(S),k=h(this.currentOverlays,S),k>=0?this.currentOverlays[k]:null},_updateSequenceButtons:function(S){this.nextButton&&(!this.tileSources||this.tileSources.length-1===S?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(S>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(S){this._hideMessage();var k=t.makeNeutralElement("div");k.appendChild(document.createTextNode(S)),this.messageDiv=t.makeCenteredNode(k),t.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var S=this.messageDiv;S&&(S.parentNode.removeChild(S),delete this.messageDiv)},gestureSettingsByDeviceType:function(S){switch(S){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var S,k=this.currentOverlays.length;for(S=0;S<k;S++)this.currentOverlays[S].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new t.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else t.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),t.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){t.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var S=t.pixelDensityRatio,k=t.getCurrentPixelDensityRatio();S!==k&&(t.pixelDensityRatio=k,this.forceResize())},goToPreviousPage:function(){var S=this._sequenceIndex-1;this.navPrevNextWrap&&S<0&&(S+=this.tileSources.length),this.goToPage(S)},goToNextPage:function(){var S=this._sequenceIndex+1;this.navPrevNextWrap&&S>=this.tileSources.length&&(S=0),this.goToPage(S)},isAnimating:function(){return r[this.hash].animating}});function a(S){return S=t.getElement(S),new t.Point(S.clientWidth===0?1:S.clientWidth,S.clientHeight===0?1:S.clientHeight)}function u(S,k,K,he,xe){var Ie=S;if(t.type(k)==="string"){if(k.match(/^\s*<.*>\s*$/))k=t.parseXml(k);else if(k.match(/^\s*[{[].*[}\]]\s*$/))try{var de=t.parseJSON(k);k=de}catch{}}function We(ut,ct){ut.ready?he(ut):(ut.addHandler("ready",function(){he(ut)}),ut.addHandler("open-failed",function(ze){xe({message:ze.message,source:ct})}))}setTimeout(function(){if(t.type(k)==="string")k=new t.TileSource({url:k,crossOriginPolicy:K.crossOriginPolicy!==void 0?K.crossOriginPolicy:S.crossOriginPolicy,ajaxWithCredentials:S.ajaxWithCredentials,ajaxHeaders:K.ajaxHeaders?K.ajaxHeaders:S.ajaxHeaders,splitHashDataForPost:S.splitHashDataForPost,success:function(ht){he(ht.tileSource)}}),k.addHandler("open-failed",function(ht){xe(ht)});else if(t.isPlainObject(k)||k.nodeType)if(k.crossOriginPolicy===void 0&&(K.crossOriginPolicy!==void 0||S.crossOriginPolicy!==void 0)&&(k.crossOriginPolicy=K.crossOriginPolicy!==void 0?K.crossOriginPolicy:S.crossOriginPolicy),k.ajaxWithCredentials===void 0&&(k.ajaxWithCredentials=S.ajaxWithCredentials),t.isFunction(k.getTileUrl)){var ut=new t.TileSource(k);ut.getTileUrl=k.getTileUrl,he(ut)}else{var ct=t.TileSource.determineType(Ie,k);if(!ct){xe({message:"Unable to load TileSource",source:k});return}var ze=ct.prototype.configure.apply(Ie,[k]);We(new ct(ze),k)}else We(k,k)})}function p(S,k){if(k instanceof t.Overlay)return k;var K=null;if(k.element)K=t.getElement(k.element);else{var he=k.id?k.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);K=t.getElement(k.id),K||(K=document.createElement("a"),K.href="#/overlay/"+he),K.id=he,t.addClass(K,k.className?k.className:"openseadragon-overlay")}var xe=k.location,Ie=k.width,de=k.height;if(!xe){var We=k.x,ut=k.y;if(k.px!==void 0){var ct=S.viewport.imageToViewportRectangle(new t.Rect(k.px,k.py,Ie||0,de||0));We=ct.x,ut=ct.y,Ie=Ie!==void 0?ct.width:void 0,de=de!==void 0?ct.height:void 0}xe=new t.Point(We,ut)}var ze=k.placement;return ze&&t.type(ze)==="string"&&(ze=t.Placement[k.placement.toUpperCase()]),new t.Overlay({element:K,location:xe,placement:ze,onDraw:k.onDraw,checkResize:k.checkResize,width:Ie,height:de,rotationMode:k.rotationMode})}function h(S,k){var K;for(K=S.length-1;K>=0;K--)if(S[K].element===k)return K;return-1}function f(S,k){return t.requestAnimationFrame(function(){k(S)})}function v(S){t.requestAnimationFrame(function(){T(S)})}function w(S){S.autoHideControls&&(S.controlsShouldFade=!0,S.controlsFadeBeginTime=t.now()+S.controlsFadeDelay,window.setTimeout(function(){v(S)},S.controlsFadeDelay))}function T(S){var k,K,he,xe;if(S.controlsShouldFade){for(k=t.now(),K=k-S.controlsFadeBeginTime,he=1-K/S.controlsFadeLength,he=Math.min(1,he),he=Math.max(0,he),xe=S.controls.length-1;xe>=0;xe--)S.controls[xe].autoFade&&S.controls[xe].setOpacity(he);he>0&&v(S)}}function R(S){var k;for(S.controlsShouldFade=!1,k=S.controls.length-1;k>=0;k--)S.controls[k].setOpacity(1)}function L(){R(this)}function D(){w(this)}function F(S){var k={tracker:S.eventSource,position:S.position,originalEvent:S.originalEvent,preventDefault:S.preventDefault};this.raiseEvent("canvas-contextmenu",k),S.preventDefault=k.preventDefault}function z(S){var k={originalEvent:S.originalEvent,preventDefaultAction:!1,preventVerticalPan:S.preventVerticalPan||!this.panVertical,preventHorizontalPan:S.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",k),!k.preventDefaultAction&&!S.ctrl&&!S.alt&&!S.meta)switch(S.keyCode){case 38:k.preventVerticalPan||(S.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),S.preventDefault=!0;break;case 40:k.preventVerticalPan||(S.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),S.preventDefault=!0;break;case 37:k.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),S.preventDefault=!0;break;case 39:k.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),S.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),S.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),S.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),S.preventDefault=!0;break;case 87:k.preventVerticalPan||(S.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,-40))),this.viewport.applyConstraints()),S.preventDefault=!0;break;case 83:k.preventVerticalPan||(S.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(0,40))),this.viewport.applyConstraints()),S.preventDefault=!0;break;case 65:k.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(-40,0))),this.viewport.applyConstraints()),S.preventDefault=!0;break;case 68:k.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new t.Point(40,0))),this.viewport.applyConstraints()),S.preventDefault=!0;break;case 82:S.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),S.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),S.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:S.preventDefault=!1;break}else S.preventDefault=!1}function q(S){var k={originalEvent:S.originalEvent};this.raiseEvent("canvas-key-press",k)}function ee(S){var k,K=document.activeElement===this.canvas;K||this.canvas.focus(),this.viewport.flipped&&(S.position.x=this.viewport.getContainerSize().x-S.position.x);var he={tracker:S.eventSource,position:S.position,quick:S.quick,shift:S.shift,originalEvent:S.originalEvent,originalTarget:S.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",he),!he.preventDefaultAction&&this.viewport&&S.quick&&(k=this.gestureSettingsByDeviceType(S.pointerType),k.clickToZoom===!0&&(this.viewport.zoomBy(S.shift?1/this.zoomPerClick:this.zoomPerClick,k.zoomToRefPoint?this.viewport.pointFromPixel(S.position,!0):null),this.viewport.applyConstraints()),k.dblClickDragToZoom&&(r[this.hash].draggingToZoom===!0?(r[this.hash].lastClickTime=null,r[this.hash].draggingToZoom=!1):r[this.hash].lastClickTime=t.now()))}function Le(S){var k,K={tracker:S.eventSource,position:S.position,shift:S.shift,originalEvent:S.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",K),!K.preventDefaultAction&&this.viewport&&(k=this.gestureSettingsByDeviceType(S.pointerType),k.dblClickToZoom&&(this.viewport.zoomBy(S.shift?1/this.zoomPerClick:this.zoomPerClick,k.zoomToRefPoint?this.viewport.pointFromPixel(S.position,!0):null),this.viewport.applyConstraints()))}function Se(S){var k,K={tracker:S.eventSource,pointerType:S.pointerType,position:S.position,delta:S.delta,speed:S.speed,direction:S.direction,shift:S.shift,originalEvent:S.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",K),k=this.gestureSettingsByDeviceType(S.pointerType),!K.preventDefaultAction&&this.viewport){if(k.dblClickDragToZoom&&r[this.hash].draggingToZoom){var he=Math.pow(this.zoomPerDblClickDrag,S.delta.y/50);this.viewport.zoomBy(he)}else if(k.dragToPan&&!r[this.hash].draggingToZoom){if(this.panHorizontal||(S.delta.x=0),this.panVertical||(S.delta.y=0),this.viewport.flipped&&(S.delta.x=-S.delta.x),this.constrainDuringPan){var xe=this.viewport.deltaPointsFromPixels(S.delta.negate());this.viewport.centerSpringX.target.value+=xe.x,this.viewport.centerSpringY.target.value+=xe.y;var Ie=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=xe.x,this.viewport.centerSpringY.target.value-=xe.y,Ie.xConstrained&&(S.delta.x=0),Ie.yConstrained&&(S.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(S.delta.negate()),k.flickEnabled&&!this.constrainDuringPan)}}}function Z(S){var k,K={tracker:S.eventSource,pointerType:S.pointerType,position:S.position,speed:S.speed,direction:S.direction,shift:S.shift,originalEvent:S.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",K),k=this.gestureSettingsByDeviceType(S.pointerType),!K.preventDefaultAction&&this.viewport){if(!r[this.hash].draggingToZoom&&k.dragToPan&&k.flickEnabled&&S.speed>=k.flickMinSpeed){var he=0;this.panHorizontal&&(he=k.flickMomentum*S.speed*Math.cos(S.direction));var xe=0;this.panVertical&&(xe=k.flickMomentum*S.speed*Math.sin(S.direction));var Ie=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),de=this.viewport.pointFromPixel(new t.Point(Ie.x-he,Ie.y-xe));this.viewport.panTo(de,!1)}this.viewport.applyConstraints()}k.dblClickDragToZoom&&r[this.hash].draggingToZoom===!0&&(r[this.hash].draggingToZoom=!1)}function we(S){this.raiseEvent("canvas-enter",{tracker:S.eventSource,pointerType:S.pointerType,position:S.position,buttons:S.buttons,pointers:S.pointers,insideElementPressed:S.insideElementPressed,buttonDownAny:S.buttonDownAny,originalEvent:S.originalEvent})}function N(S){this.raiseEvent("canvas-exit",{tracker:S.eventSource,pointerType:S.pointerType,position:S.position,buttons:S.buttons,pointers:S.pointers,insideElementPressed:S.insideElementPressed,buttonDownAny:S.buttonDownAny,originalEvent:S.originalEvent})}function U(S){var k;if(this.raiseEvent("canvas-press",{tracker:S.eventSource,pointerType:S.pointerType,position:S.position,insideElementPressed:S.insideElementPressed,insideElementReleased:S.insideElementReleased,originalEvent:S.originalEvent}),k=this.gestureSettingsByDeviceType(S.pointerType),k.dblClickDragToZoom){var K=r[this.hash].lastClickTime,he=t.now();if(K===null)return;he-K<this.dblClickTimeThreshold&&(r[this.hash].draggingToZoom=!0),r[this.hash].lastClickTime=null}}function te(S){this.raiseEvent("canvas-release",{tracker:S.eventSource,pointerType:S.pointerType,position:S.position,insideElementPressed:S.insideElementPressed,insideElementReleased:S.insideElementReleased,originalEvent:S.originalEvent})}function ve(S){this.raiseEvent("canvas-nonprimary-press",{tracker:S.eventSource,position:S.position,pointerType:S.pointerType,button:S.button,buttons:S.buttons,originalEvent:S.originalEvent})}function ce(S){this.raiseEvent("canvas-nonprimary-release",{tracker:S.eventSource,position:S.position,pointerType:S.pointerType,button:S.button,buttons:S.buttons,originalEvent:S.originalEvent})}function Fe(S){var k,K,he,xe,Ie={tracker:S.eventSource,pointerType:S.pointerType,gesturePoints:S.gesturePoints,lastCenter:S.lastCenter,center:S.center,lastDistance:S.lastDistance,distance:S.distance,shift:S.shift,originalEvent:S.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",Ie),this.viewport&&(k=this.gestureSettingsByDeviceType(S.pointerType),k.pinchToZoom&&(!Ie.preventDefaultPanAction||!Ie.preventDefaultZoomAction)&&(K=this.viewport.pointFromPixel(S.center,!0),k.zoomToRefPoint&&!Ie.preventDefaultPanAction&&(he=this.viewport.pointFromPixel(S.lastCenter,!0),xe=he.minus(K),this.panHorizontal||(xe.x=0),this.panVertical||(xe.y=0),this.viewport.panBy(xe,!0)),Ie.preventDefaultZoomAction||this.viewport.zoomBy(S.distance/S.lastDistance,K,!0),this.viewport.applyConstraints()),k.pinchRotate&&!Ie.preventDefaultRotateAction)){var de=Math.atan2(S.gesturePoints[0].currentPos.y-S.gesturePoints[1].currentPos.y,S.gesturePoints[0].currentPos.x-S.gesturePoints[1].currentPos.x),We=Math.atan2(S.gesturePoints[0].lastPos.y-S.gesturePoints[1].lastPos.y,S.gesturePoints[0].lastPos.x-S.gesturePoints[1].lastPos.x);K=this.viewport.pointFromPixel(S.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+(de-We)*(180/Math.PI),K,!0)}}function Ge(S){this.raiseEvent("canvas-focus",{tracker:S.eventSource,originalEvent:S.originalEvent})}function yt(S){this.raiseEvent("canvas-blur",{tracker:S.eventSource,originalEvent:S.originalEvent})}function dt(S){var k,K,he,xe,Ie;xe=t.now(),Ie=xe-this._lastScrollTime,Ie>this.minScrollDeltaTime?(this._lastScrollTime=xe,k={tracker:S.eventSource,position:S.position,scroll:S.scroll,shift:S.shift,originalEvent:S.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",k),!k.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(S.position.x=this.viewport.getContainerSize().x-S.position.x),K=this.gestureSettingsByDeviceType(S.pointerType),K.scrollToZoom&&(he=Math.pow(this.zoomPerScroll,S.scroll),this.viewport.zoomBy(he,K.zoomToRefPoint?this.viewport.pointFromPixel(S.position,!0):null),this.viewport.applyConstraints())),S.preventDefault=k.preventDefault):S.preventDefault=!0}function Oe(S){r[this.hash].mouseInside=!0,R(this),this.raiseEvent("container-enter",{tracker:S.eventSource,pointerType:S.pointerType,position:S.position,buttons:S.buttons,pointers:S.pointers,insideElementPressed:S.insideElementPressed,buttonDownAny:S.buttonDownAny,originalEvent:S.originalEvent})}function pe(S){S.pointers<1&&(r[this.hash].mouseInside=!1,r[this.hash].animating||w(this)),this.raiseEvent("container-exit",{tracker:S.eventSource,pointerType:S.pointerType,position:S.position,buttons:S.buttons,pointers:S.pointers,insideElementPressed:S.insideElementPressed,buttonDownAny:S.buttonDownAny,originalEvent:S.originalEvent})}function ye(S){j(S),S.isOpen()?S._updateRequestId=f(S,ye):S._updateRequestId=!1}function Re(S,k){var K=S.viewport,he=K.getZoom(),xe=K.getCenter();K.resize(k,S.preserveImageSizeOnResize),K.panTo(xe,!0);var Ie;if(S.preserveImageSizeOnResize)Ie=r[S.hash].prevContainerSize.x/k.x;else{var de=new t.Point(0,0),We=new t.Point(r[S.hash].prevContainerSize.x,r[S.hash].prevContainerSize.y).distanceTo(de),ut=new t.Point(k.x,k.y).distanceTo(de);Ie=ut/We*r[S.hash].prevContainerSize.x/k.x}K.zoomTo(he*Ie,null,!0),r[S.hash].prevContainerSize=k,r[S.hash].forceRedraw=!0,r[S.hash].needsResize=!1,r[S.hash].forceResize=!1}function j(S){if(!(S._opening||!r[S.hash])){if(S.autoResize||r[S.hash].forceResize){var k;if(S._autoResizePolling){k=a(S.container);var K=r[S.hash].prevContainerSize;k.equals(K)||(r[S.hash].needsResize=!0)}r[S.hash].needsResize&&Re(S,k||a(S.container))}var he=S.viewport.update(),xe=S.world.update(he)||he;he&&S.raiseEvent("viewport-change"),S.referenceStrip&&(xe=S.referenceStrip.update(S.viewport)||xe);var Ie=r[S.hash].animating;!Ie&&xe&&(S.raiseEvent("animation-start"),R(S));var de=Ie&&!xe;de&&(r[S.hash].animating=!1),(xe||de||r[S.hash].forceRedraw||S.world.needsDraw())&&(se(S),S._drawOverlays(),S.navigator&&S.navigator.update(S.viewport),r[S.hash].forceRedraw=!1,xe&&S.raiseEvent("animation")),de&&(S.raiseEvent("animation-finish"),r[S.hash].mouseInside||w(S)),r[S.hash].animating=xe}}function se(S){S.imageLoader.clear(),S.world.draw(),S.raiseEvent("update-viewport",{})}function ue(S,k){return S?S+k:k}function Ne(){r[this.hash].lastZoomTime=t.now(),r[this.hash].zoomFactor=this.zoomPerSecond,r[this.hash].zooming=!0,lt(this)}function He(){r[this.hash].lastZoomTime=t.now(),r[this.hash].zoomFactor=1/this.zoomPerSecond,r[this.hash].zooming=!0,lt(this)}function Xe(){r[this.hash].zooming=!1}function lt(S){t.requestAnimationFrame(t.delegate(S,Me))}function Me(){var S,k,K;r[this.hash].zooming&&this.viewport&&(S=t.now(),k=S-r[this.hash].lastZoomTime,K=Math.pow(r[this.hash].zoomFactor,k/1e3),this.viewport.zoomBy(K),this.viewport.applyConstraints(),r[this.hash].lastZoomTime=S,lt(this))}function Ke(){this.viewport&&(r[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Et(){this.viewport&&(r[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Ye(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Ct(){this.viewport&&this.viewport.goHome()}function Bt(){this.isFullPage()&&!t.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Tt(){if(this.viewport){var S=this.viewport.getRotation();this.viewport.flipped?S+=this.rotationIncrement:S-=this.rotationIncrement,this.viewport.setRotation(S)}}function pt(){if(this.viewport){var S=this.viewport.getRotation();this.viewport.flipped?S-=this.rotationIncrement:S+=this.rotationIncrement,this.viewport.setRotation(S)}}function gt(){this.viewport.toggleFlip()}t.determineDrawer=function(S){for(let k in g){const K=g[k],he=K.prototype;if(he&&he instanceof g.DrawerBase&&t.isFunction(he.getType)&&he.getType.call(K)===S)return K}return null}}(g),function(t){t.Navigator=function(f){var v=f.viewer,w=this,T,R;f.element||f.id?(f.element?(f.id&&t.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),f.element.id?f.id=f.element.id:f.id="navigator-"+t.now(),this.element=f.element):this.element=document.getElementById(f.id),f.controlOptions={anchor:t.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(f.id="navigator-"+t.now(),this.element=t.makeNeutralElement("div"),f.controlOptions={anchor:t.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:f.autoFade},f.position&&(f.position==="BOTTOM_RIGHT"?f.controlOptions.anchor=t.ControlAnchor.BOTTOM_RIGHT:f.position==="BOTTOM_LEFT"?f.controlOptions.anchor=t.ControlAnchor.BOTTOM_LEFT:f.position==="TOP_RIGHT"?f.controlOptions.anchor=t.ControlAnchor.TOP_RIGHT:f.position==="TOP_LEFT"?f.controlOptions.anchor=t.ControlAnchor.TOP_LEFT:f.position==="ABSOLUTE"&&(f.controlOptions.anchor=t.ControlAnchor.ABSOLUTE,f.controlOptions.top=f.top,f.controlOptions.left=f.left,f.controlOptions.height=f.height,f.controlOptions.width=f.width))),this.element.id=f.id,this.element.className+=" navigator",f=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.navigatorSizeRatio},f,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:f.animationTime,autoResize:!1,minZoomImageRatio:1,background:f.background,opacity:f.opacity,borderColor:f.borderColor,displayRegionColor:f.displayRegionColor}),f.minPixelRatio=this.minPixelRatio=v.minPixelRatio,t.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new t.Point(1,1),this.totalBorderWidths=new t.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),f.controlOptions.anchor!==t.ControlAnchor.NONE&&function(F,z){F.margin="0px",F.border=z+"px solid "+f.borderColor,F.padding="0px",F.background=f.background,F.opacity=f.opacity,F.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=t.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(F,z){F.position="relative",F.top="0px",F.left="0px",F.fontSize="0px",F.overflow="hidden",F.border=z+"px solid "+f.displayRegionColor,F.margin="0px",F.padding="0px",F.background="transparent",F.float="left",F.cssFloat="left",F.zIndex=999999999,F.cursor="default",F.boxSizing="content-box"}(this.displayRegion.style,this.borderWidth),t.setElementPointerEventsNone(this.displayRegion),t.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=t.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",t.setElementPointerEventsNone(this.displayRegionContainer),t.setElementTouchActionNone(this.displayRegionContainer),v.addControl(this.element,f.controlOptions),this._resizeWithViewer=f.controlOptions.anchor!==t.ControlAnchor.ABSOLUTE&&f.controlOptions.anchor!==t.ControlAnchor.NONE,f.width&&f.height?(this.setWidth(f.width),this.setHeight(f.height)):this._resizeWithViewer&&(T=t.getElementSize(v.element),this.element.style.height=Math.round(T.y*f.sizeRatio)+"px",this.element.style.width=Math.round(T.x*f.sizeRatio)+"px",this.oldViewerSize=T,R=t.getElementSize(this.element),this.elementArea=R.x*R.y),this.oldContainerSize=new t.Point(0,0),t.Viewer.apply(this,[f]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function L(F,z){p(w.displayRegionContainer,F),p(w.displayRegion,-F),w.viewport.setRotation(F,z)}if(f.navigatorRotate){var D=f.viewer.viewport?f.viewer.viewport.getRotation():f.viewer.degrees||0;L(D,!0),f.viewer.addHandler("rotate",function(F){L(F.degrees,F.immediately)})}this.innerTracker.destroy(),this.innerTracker=new t.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:t.delegate(this,l),clickHandler:t.delegate(this,r),releaseHandler:t.delegate(this,a),scrollHandler:t.delegate(this,u),preProcessEventHandler:function(F){F.eventType==="wheel"&&(F.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",t.setElementPointerEventsNone(this.canvas),t.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){w.viewport&&w.viewport.goHome(!0)}),v.world.addHandler("item-index-change",function(F){window.setTimeout(function(){var z=w.world.getItemAt(F.previousIndex);w.world.setItemIndex(z,F.newIndex)},1)}),v.world.addHandler("remove-item",function(F){var z=F.item,q=w._getMatchingItem(z);q&&w.world.removeItem(q)}),this.update(v.viewport)},t.extend(t.Navigator.prototype,t.EventSource.prototype,t.Viewer.prototype,{updateSize:function(){if(this.viewport){var f=new t.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);f.equals(this.oldContainerSize)||(this.viewport.resize(f,!0),this.viewport.goHome(!0),this.oldContainerSize=f,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(f){this.width=f,this.element.style.width=typeof f=="number"?f+"px":f,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(f){this.height=f,this.element.style.height=typeof f=="number"?f+"px":f,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(f){return this.viewport.setFlip(f),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(f){h(this.canvas,f),h(this.element,f)},update:function(f){var v,w,T,R,L,D;if(f||(f=this.viewer.viewport),v=t.getElementSize(this.viewer.element),this._resizeWithViewer&&v.x&&v.y&&!v.equals(this.oldViewerSize)&&(this.oldViewerSize=v,this.maintainSizeRatio||!this.elementArea?(w=v.x*this.sizeRatio,T=v.y*this.sizeRatio):(w=Math.sqrt(this.elementArea*(v.x/v.y)),T=this.elementArea/w),this.element.style.width=Math.round(w)+"px",this.element.style.height=Math.round(T)+"px",this.elementArea||(this.elementArea=w*T),this.updateSize()),f&&this.viewport){if(R=f.getBoundsNoRotate(!0),L=this.viewport.pixelFromPointNoRotate(R.getTopLeft(),!1),D=this.viewport.pixelFromPointNoRotate(R.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var F=f.getRotation(!0);p(this.displayRegion,-F)}var z=this.displayRegion.style;z.display=this.world.getItemCount()?"block":"none",z.top=L.y.toFixed(2)+"px",z.left=L.x.toFixed(2)+"px";var q=D.x-L.x,ee=D.y-L.y;z.width=Math.round(Math.max(q,0))+"px",z.height=Math.round(Math.max(ee,0))+"px"}},addTiledImage:function(f){var v=this,w=f.originalTiledImage;delete f.original;var T=t.extend({},f,{success:function(R){var L=R.item;L._originalForNavigator=w,v._matchBounds(L,w,!0),v._matchOpacity(L,w),v._matchCompositeOperation(L,w);function D(){v._matchBounds(L,w)}function F(){v._matchOpacity(L,w)}function z(){v._matchCompositeOperation(L,w)}w.addHandler("bounds-change",D),w.addHandler("clip-change",D),w.addHandler("opacity-change",F),w.addHandler("composite-operation-change",z)}});return t.Viewer.prototype.addTiledImage.apply(this,[T])},destroy:function(){return t.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(f){for(var v=this.world.getItemCount(),w,T=0;T<v;T++)if(w=this.world.getItemAt(T),w._originalForNavigator===f)return w;return null},_matchBounds:function(f,v,w){var T=v.getBoundsNoRotate();f.setPosition(T.getTopLeft(),w),f.setWidth(T.width,w),f.setRotation(v.getRotation(),w),f.setClip(v.getClip()),f.setFlip(v.getFlip())},_matchOpacity:function(f,v){f.setOpacity(v.opacity)},_matchCompositeOperation:function(f,v){f.setCompositeOperation(v.compositeOperation)}});function r(f){var v={tracker:f.eventSource,position:f.position,quick:f.quick,shift:f.shift,originalEvent:f.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",v),!v.preventDefaultAction&&f.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(f.position.x=this.viewport.getContainerSize().x-f.position.x);var w=this.viewport.pointFromPixel(f.position);this.panVertical?this.panHorizontal||(w.x=this.viewer.viewport.getCenter(!0).x):w.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(w),this.viewer.viewport.applyConstraints()}}function l(f){var v={tracker:f.eventSource,position:f.position,delta:f.delta,speed:f.speed,direction:f.direction,shift:f.shift,originalEvent:f.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",v),!v.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(f.delta.x=0),this.panVertical||(f.delta.y=0),this.viewer.viewport.flipped&&(f.delta.x=-f.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(f.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function a(f){f.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function u(f){var v={tracker:f.eventSource,position:f.position,scroll:f.scroll,shift:f.shift,originalEvent:f.originalEvent,preventDefault:f.preventDefault};this.viewer.raiseEvent("navigator-scroll",v),f.preventDefault=v.preventDefault}function p(f,v){h(f,"rotate("+v+"deg)")}function h(f,v){f.style.webkitTransform=v,f.style.mozTransform=v,f.style.msTransform=v,f.style.oTransform=v,f.style.transform=v}}(g),function(t){var r={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};t.extend(t,{getString:function(l){var a=l.split("."),u=null,p=arguments,h=r,f;for(f=0;f<a.length-1;f++)h=h[a[f]]||{};return u=h[a[f]],typeof u!="string"&&(t.console.error("Untranslated source string:",l),u=""),u.replace(/\{\d+\}/g,function(v){var w=parseInt(v.match(/\d+/),10)+1;return w<p.length?p[w]:""})},setString:function(l,a){var u=l.split("."),p=r,h;for(h=0;h<u.length-1;h++)p[u[h]]||(p[u[h]]={}),p=p[u[h]];p[u[h]]=a}})}(g),function(t){t.Point=function(r,l){this.x=typeof r=="number"?r:0,this.y=typeof l=="number"?l:0},t.Point.prototype={clone:function(){return new t.Point(this.x,this.y)},plus:function(r){return new t.Point(this.x+r.x,this.y+r.y)},minus:function(r){return new t.Point(this.x-r.x,this.y-r.y)},times:function(r){return new t.Point(this.x*r,this.y*r)},divide:function(r){return new t.Point(this.x/r,this.y/r)},negate:function(){return new t.Point(-this.x,-this.y)},distanceTo:function(r){return Math.sqrt(Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2))},squaredDistanceTo:function(r){return Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2)},apply:function(r){return new t.Point(r(this.x),r(this.y))},equals:function(r){return r instanceof t.Point&&this.x===r.x&&this.y===r.y},rotate:function(r,l){l=l||new t.Point(0,0);var a,u;if(r%90===0){var p=t.positiveModulo(r,360);switch(p){case 0:a=1,u=0;break;case 90:a=0,u=1;break;case 180:a=-1,u=0;break;case 270:a=0,u=-1;break}}else{var h=r*Math.PI/180;a=Math.cos(h),u=Math.sin(h)}var f=a*(this.x-l.x)-u*(this.y-l.y)+l.x,v=u*(this.x-l.x)+a*(this.y-l.y)+l.y;return new t.Point(f,v)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(g),function(t){t.TileSource=function(l,a,u,p,h,f){var v=this,w=arguments,T,R;if(t.isPlainObject(l)?T=l:T={width:w[0],height:w[1],tileSize:w[2],tileOverlap:w[3],minLevel:w[4],maxLevel:w[5]},t.EventSource.call(this),t.extend(!0,this,T),!this.success){for(R=0;R<arguments.length;R++)if(t.isFunction(arguments[R])){this.success=arguments[R];break}}this.success&&this.addHandler("ready",function(L){v.success(L)}),t.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new t.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=T.width&&T.height?T.width/T.height:1,this.dimensions=new t.Point(T.width,T.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=T.tileOverlap?T.tileOverlap:0,this.minLevel=T.minLevel?T.minLevel:0,this.maxLevel=T.maxLevel!==void 0&&T.maxLevel!==null?T.maxLevel:T.width&&T.height?Math.ceil(Math.log(Math.max(T.width,T.height))/Math.log(2)):0,this.success&&t.isFunction(this.success)&&this.success(this))},t.TileSource.prototype={getTileSize:function(l){return t.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(l){return this._tileWidth?this._tileWidth:this.getTileSize(l)},getTileHeight:function(l){return this._tileHeight?this._tileHeight:this.getTileSize(l)},setMaxLevel:function(l){this.maxLevel=l,this._memoizeLevelScale()},getLevelScale:function(l){return this._memoizeLevelScale(),this.getLevelScale(l)},_memoizeLevelScale:function(){var l={},a;for(a=0;a<=this.maxLevel;a++)l[a]=1/Math.pow(2,this.maxLevel-a);this.getLevelScale=function(u){return l[u]}},getNumTiles:function(l){var a=this.getLevelScale(l),u=Math.ceil(a*this.dimensions.x/this.getTileWidth(l)),p=Math.ceil(a*this.dimensions.y/this.getTileHeight(l));return new t.Point(u,p)},getPixelRatio:function(l){var a=this.dimensions.times(this.getLevelScale(l)),u=1/a.x*t.pixelDensityRatio,p=1/a.y*t.pixelDensityRatio;return new t.Point(u,p)},getClosestLevel:function(){var l,a;for(l=this.minLevel+1;l<=this.maxLevel&&(a=this.getNumTiles(l),!(a.x>1||a.y>1));l++);return l-1},getTileAtPoint:function(l,a){var u=a.x>=0&&a.x<=1&&a.y>=0&&a.y<=1/this.aspectRatio;t.console.assert(u,"[TileSource.getTileAtPoint] must be called with a valid point.");var p=this.dimensions.x*this.getLevelScale(l),h=a.x*p,f=a.y*p,v=Math.floor(h/this.getTileWidth(l)),w=Math.floor(f/this.getTileHeight(l));a.x>=1&&(v=this.getNumTiles(l).x-1);var T=1e-15;return a.y>=1/this.aspectRatio-T&&(w=this.getNumTiles(l).y-1),new t.Point(v,w)},getTileBounds:function(l,a,u,p){var h=this.dimensions.times(this.getLevelScale(l)),f=this.getTileWidth(l),v=this.getTileHeight(l),w=a===0?0:f*a-this.tileOverlap,T=u===0?0:v*u-this.tileOverlap,R=f+(a===0?1:2)*this.tileOverlap,L=v+(u===0?1:2)*this.tileOverlap,D=1/h.x;return R=Math.min(R,h.x-w),L=Math.min(L,h.y-T),p?new t.Rect(0,0,R,L):new t.Rect(w*D,T*D,R*D,L*D)},getImageInfo:function(l){var a=this,u,p,h,f,v,w,T;l&&(v=l.split("/"),w=v[v.length-1],T=w.lastIndexOf("."),T>-1&&(v[v.length-1]=w.slice(0,T)));var R=null;if(this.splitHashDataForPost){var L=l.indexOf("#");L!==-1&&(R=l.substring(L+1),l=l.substr(0,L))}p=function(D){typeof D=="string"&&(D=t.parseXml(D));var F=t.TileSource.determineType(a,D,l);if(!F){a.raiseEvent("open-failed",{message:"Unable to load TileSource",source:l});return}f=F.prototype.configure.apply(a,[D,l,R]),f.ajaxWithCredentials===void 0&&(f.ajaxWithCredentials=a.ajaxWithCredentials),h=new F(f),a.ready=!0,a.raiseEvent("ready",{tileSource:h})},l.match(/\.js$/)?(u=l.split("/").pop().replace(".js",""),t.jsonp({url:l,async:!1,callbackName:u,callback:p})):t.makeAjaxRequest({url:l,postData:R,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(D){var F=r(D);p(F)},error:function(D,F){var z;try{z="HTTP "+D.status+" attempting to load TileSource: "+l}catch{var q;typeof F>"u"||!F.toString?q="Unknown error":q=F.toString(),z=q+" attempting to load TileSource: "+l}t.console.error(z),a.raiseEvent("open-failed",{message:z,source:l,postData:R})}})},supports:function(l,a){return!1},configure:function(l,a,u){throw new Error("Method not implemented.")},getTileUrl:function(l,a,u){throw new Error("Method not implemented.")},getTilePostData:function(l,a,u){return null},getTileAjaxHeaders:function(l,a,u){return{}},getTileHashKey:function(l,a,u,p,h,f){function v(w){return h?w+"+"+JSON.stringify(h):w}return v(typeof p!="string"?l+"/"+a+"_"+u:p)},tileExists:function(l,a,u){var p=this.getNumTiles(l);return l>=this.minLevel&&l<=this.maxLevel&&a>=0&&u>=0&&a<p.x&&u<p.y},hasTransparency:function(l,a,u,p){return!!l||a.match(".png")},downloadTileStart:function(l){var a=l.userData,u=new Image;a.image=u,a.request=null;var p=function(h){if(!u){l.finish(null,a.request,"Image load failed: undefined Image instance.");return}u.onload=u.onerror=u.onabort=null,l.finish(h?null:u,a.request,h)};u.onload=function(){p()},u.onabort=u.onerror=function(){p("Image load aborted.")},l.loadWithAjax?a.request=t.makeAjaxRequest({url:l.src,withCredentials:l.ajaxWithCredentials,headers:l.ajaxHeaders,responseType:"arraybuffer",postData:l.postData,success:function(h){var f;try{f=new window.Blob([h.response])}catch(T){var v=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(T.name==="TypeError"&&v){var w=new v;w.append(h.response),f=w.getBlob()}}f.size===0?p("Empty image response."):u.src=(window.URL||window.webkitURL).createObjectURL(f)},error:function(h){p("Image load aborted - XHR error")}}):(l.crossOriginPolicy!==!1&&(u.crossOrigin=l.crossOriginPolicy),u.src=l.src)},downloadTileAbort:function(l){l.userData.request&&l.userData.request.abort();var a=l.userData.image;l.userData.image&&(a.onload=a.onerror=a.onabort=null)},createTileCache:function(l,a,u){l._data=a},destroyTileCache:function(l){l._data=null,l._renderedContext=null},getTileCacheData:function(l){return l._data},getTileCacheDataAsImage:function(l){return l._data},getTileCacheDataAsContext2D:function(l){if(!l._renderedContext){var a=document.createElement("canvas");a.width=l._data.width,a.height=l._data.height,l._renderedContext=a.getContext("2d"),l._renderedContext.drawImage(l._data,0,0),l._data=null}return l._renderedContext}},t.extend(!0,t.TileSource.prototype,t.EventSource.prototype);function r(l){var a=l.responseText,u=l.status,p,h;if(l){if(l.status!==200&&l.status!==0)throw u=l.status,p=u===404?"Not Found":l.statusText,new Error(t.getString("Errors.Status",u,p))}else throw new Error(t.getString("Errors.Security"));if(a.match(/^\s*<.*/))try{h=l.responseXML&&l.responseXML.documentElement?l.responseXML:t.parseXml(a)}catch{h=l.responseText}else if(a.match(/\s*[{[].*/))try{h=t.parseJSON(a)}catch{h=a}else h=a;return h}t.TileSource.determineType=function(l,a,u){var p;for(p in g)if(p.match(/.+TileSource$/)&&t.isFunction(g[p])&&t.isFunction(g[p].prototype.supports)&&g[p].prototype.supports.call(l,a,u))return g[p];return t.console.error("No TileSource was able to open %s %s",u,a),null}}(g),function(t){t.DziTileSource=function(a,u,p,h,f,v,w,T,R){var L,D,F,z;if(t.isPlainObject(a)?z=a:z={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=z.tilesUrl,this.fileFormat=z.fileFormat,this.displayRects=z.displayRects,this.displayRects)for(L=this.displayRects.length-1;L>=0;L--)for(D=this.displayRects[L],F=D.minLevel;F<=D.maxLevel;F++)this._levelRects[F]||(this._levelRects[F]=[]),this._levelRects[F].push(D);t.TileSource.apply(this,[z])},t.extend(t.DziTileSource.prototype,t.TileSource.prototype,{supports:function(a,u){var p;return a.Image?p=a.Image.xmlns:a.documentElement&&(a.documentElement.localName==="Image"||a.documentElement.tagName==="Image")&&(p=a.documentElement.namespaceURI),p=(p||"").toLowerCase(),p.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||p.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(a,u,p){var h;return t.isPlainObject(a)?h=l(this,a):h=r(this,a),u&&!h.tilesUrl&&(h.tilesUrl=u.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),u.search(/\.(dzi|xml|js)\?/)!==-1?h.queryParams=u.match(/\?.*/):h.queryParams=""),h},getTileUrl:function(a,u,p){return[this.tilesUrl,a,"/",u,"_",p,".",this.fileFormat,this.queryParams].join("")},tileExists:function(a,u,p){var h=this._levelRects[a],f,v,w,T,R,L,D;if(this.minLevel&&a<this.minLevel||this.maxLevel&&a>this.maxLevel)return!1;if(!h||!h.length)return!0;for(D=h.length-1;D>=0;D--)if(f=h[D],!(a<f.minLevel||a>f.maxLevel)&&(v=this.getLevelScale(a),w=f.x*v,T=f.y*v,R=w+f.width*v,L=T+f.height*v,w=Math.floor(w/this._tileWidth),T=Math.floor(T/this._tileWidth),R=Math.ceil(R/this._tileWidth),L=Math.ceil(L/this._tileWidth),w<=u&&u<R&&T<=p&&p<L))return!0;return!1}});function r(a,u){if(!u||!u.documentElement)throw new Error(t.getString("Errors.Xml"));var p=u.documentElement,h=p.localName||p.tagName,f=u.documentElement.namespaceURI,v=null,w=[],T,R,L,D,F;if(h==="Image")try{if(D=p.getElementsByTagName("Size")[0],D===void 0&&(D=p.getElementsByTagNameNS(f,"Size")[0]),v={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:p.getAttribute("Url"),Format:p.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(p.getAttribute("Overlap"),10),TileSize:parseInt(p.getAttribute("TileSize"),10),Size:{Height:parseInt(D.getAttribute("Height"),10),Width:parseInt(D.getAttribute("Width"),10)}}},!t.imageFormatSupported(v.Image.Format))throw new Error(t.getString("Errors.ImageFormat",v.Image.Format.toUpperCase()));for(T=p.getElementsByTagName("DisplayRect"),T===void 0&&(T=p.getElementsByTagNameNS(f,"DisplayRect")[0]),F=0;F<T.length;F++)R=T[F],L=R.getElementsByTagName("Rect")[0],L===void 0&&(L=R.getElementsByTagNameNS(f,"Rect")[0]),w.push({Rect:{X:parseInt(L.getAttribute("X"),10),Y:parseInt(L.getAttribute("Y"),10),Width:parseInt(L.getAttribute("Width"),10),Height:parseInt(L.getAttribute("Height"),10),MinLevel:parseInt(R.getAttribute("MinLevel"),10),MaxLevel:parseInt(R.getAttribute("MaxLevel"),10)}});return w.length&&(v.Image.DisplayRect=w),l(a,v)}catch(ee){throw ee instanceof Error?ee:new Error(t.getString("Errors.Dzi"))}else{if(h==="Collection")throw new Error(t.getString("Errors.Dzc"));if(h==="Error"){var z=p.getElementsByTagName("Message")[0],q=z.firstChild.nodeValue;throw new Error(q)}}throw new Error(t.getString("Errors.Dzi"))}function l(a,u){var p=u.Image,h=p.Url,f=p.Format,v=p.Size,w=p.DisplayRect||[],T=parseInt(v.Width,10),R=parseInt(v.Height,10),L=parseInt(p.TileSize,10),D=parseInt(p.Overlap,10),F=[],z,q;for(q=0;q<w.length;q++)z=w[q].Rect,F.push(new t.DisplayRect(parseInt(z.X,10),parseInt(z.Y,10),parseInt(z.Width,10),parseInt(z.Height,10),parseInt(z.MinLevel,10),parseInt(z.MaxLevel,10)));return t.extend(!0,{width:T,height:R,tileSize:L,tileOverlap:D,minLevel:null,maxLevel:null,tilesUrl:h,fileFormat:f,displayRects:F},u)}}(g),function(t){t.IIIFTileSource=function(p){if(t.extend(!0,this,p),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw new Error("IIIF required parameters (width, height, or id) not provided.");if(p.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=p.version,this.tile_width&&this.tile_height)p.tileWidth=this.tile_width,p.tileHeight=this.tile_height;else if(this.tile_width)p.tileSize=this.tile_width;else if(this.tile_height)p.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)p.tileWidth=this.tiles[0].width,p.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var h=0;h<this.tiles.length;h++)for(var f=0;f<this.tiles[h].scaleFactors.length;f++){var v=this.tiles[h].scaleFactors[f];this.scale_factors.push(v),p.tileSizePerScaleFactor[v]={width:this.tiles[h].width,height:this.tiles[h].height||this.tiles[h].width}}}else if(r(p)){for(var w=Math.min(this.height,this.width),T=[256,512,1024],R=[],L=0;L<T.length;L++)T[L]<=w&&R.push(T[L]);R.length>0?p.tileSize=Math.max.apply(null,R):p.tileSize=w}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,p.levels=l(this),t.extend(!0,p,{width:p.levels[p.levels.length-1].width,height:p.levels[p.levels.length-1].height,tileSize:Math.max(p.height,p.width),tileOverlap:0,minLevel:0,maxLevel:p.levels.length-1}),this.levels=p.levels):t.console.error("Nothing in the info.json to construct image pyramids from");if(!p.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)p.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)));else{var D=Math.max.apply(null,this.scale_factors);p.maxLevel=Math.round(Math.log(D)*Math.LOG2E)}if(this.sizes){var F=this.sizes.length;(F===p.maxLevel||F===p.maxLevel+1)&&(this.levelSizes=this.sizes.slice().sort((z,q)=>z.width-q.width),F===p.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}t.TileSource.apply(this,[p])},t.extend(t.IIIFTileSource.prototype,t.TileSource.prototype,{supports:function(p,h){return p.protocol&&p.protocol==="http://iiif.io/api/image"||p["@context"]&&(p["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||p["@context"]==="http://iiif.io/api/image/1/context.json")||p.profile&&p.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||p.identifier&&p.width&&p.height?!0:!!(p.documentElement&&p.documentElement.tagName==="info"&&p.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(p,h,f){if(t.isPlainObject(p)){if(!p["@context"])p["@context"]="http://iiif.io/api/image/1.0/context.json",p["@id"]=h.replace("/info.json",""),p.version=1;else{var w=p["@context"];if(Array.isArray(w)){for(var T=0;T<w.length;T++)if(typeof w[T]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(w[T])||w[T]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){w=w[T];break}}switch(w){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":p.version=1;break;case"http://iiif.io/api/image/2/context.json":p.version=2;break;case"http://iiif.io/api/image/3/context.json":p.version=3;break;default:t.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(p.preferredFormats){for(var R=0;R<p.preferredFormats.length;R++)if(g.imageFormatSupported(p.preferredFormats[R])){p.tileFormat=p.preferredFormats[R];break}}return p}else{var v=a(p);return v["@context"]="http://iiif.io/api/image/1.0/context.json",v["@id"]=h.replace("/info.xml",""),v.version=1,v}},getTileWidth:function(p){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileWidth.call(this,p);var h=Math.pow(2,this.maxLevel-p);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[h]?this.tileSizePerScaleFactor[h].width:this._tileWidth},getTileHeight:function(p){if(this.emulateLegacyImagePyramid)return t.TileSource.prototype.getTileHeight.call(this,p);var h=Math.pow(2,this.maxLevel-p);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[h]?this.tileSizePerScaleFactor[h].height:this._tileHeight},getLevelScale:function(p){if(this.emulateLegacyImagePyramid){var h=NaN;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(h=this.levels[p].width/this.levels[this.maxLevel].width),h}return t.TileSource.prototype.getLevelScale.call(this,p)},getNumTiles:function(p){if(this.emulateLegacyImagePyramid){var h=this.getLevelScale(p);return h?new t.Point(1,1):new t.Point(0,0)}if(this.levelSizes){var f=this.levelSizes[p],v=Math.ceil(f.width/this.getTileWidth(p)),w=Math.ceil(f.height/this.getTileHeight(p));return new t.Point(v,w)}else return t.TileSource.prototype.getNumTiles.call(this,p)},getTileAtPoint:function(p,h){if(this.emulateLegacyImagePyramid)return new t.Point(0,0);if(this.levelSizes){var f=h.x>=0&&h.x<=1&&h.y>=0&&h.y<=1/this.aspectRatio;t.console.assert(f,"[TileSource.getTileAtPoint] must be called with a valid point.");var v=this.levelSizes[p].width,w=h.x*v,T=h.y*v,R=Math.floor(w/this.getTileWidth(p)),L=Math.floor(T/this.getTileHeight(p));h.x>=1&&(R=this.getNumTiles(p).x-1);var D=1e-15;return h.y>=1/this.aspectRatio-D&&(L=this.getNumTiles(p).y-1),new t.Point(R,L)}return t.TileSource.prototype.getTileAtPoint.call(this,p,h)},getTileUrl:function(p,h,f){if(this.emulateLegacyImagePyramid){var v=null;return this.levels.length>0&&p>=this.minLevel&&p<=this.maxLevel&&(v=this.levels[p].url),v}var w="0",T=Math.pow(.5,this.maxLevel-p),R,L,D,F,z,q,ee,Le,Se,Z,we,N,U,te,ve,ce;return this.levelSizes?(R=this.levelSizes[p].width,L=this.levelSizes[p].height):(R=Math.ceil(this.width*T),L=Math.ceil(this.height*T)),D=this.getTileWidth(p),F=this.getTileHeight(p),z=Math.round(D/T),q=Math.round(F/T),this.version===1?ve="native."+this.tileFormat:ve="default."+this.tileFormat,R<D&&L<F?(this.version===2&&R===this.width?N="full":this.version===3&&R===this.width&&L===this.height?N="max":this.version===3?N=R+","+L:N=R+",",ee="full"):(Le=h*z,Se=f*q,Z=Math.min(z,this.width-Le),we=Math.min(q,this.height-Se),h===0&&f===0&&Z===this.width&&we===this.height?ee="full":ee=[Le,Se,Z,we].join(","),U=Math.min(D,R-h*D),te=Math.min(F,L-f*F),this.version===2&&U===this.width?N="full":this.version===3&&U===this.width&&te===this.height?N="max":this.version===3?N=U+","+te:N=U+","),ce=[this._id,ee,N,w,ve].join("/"),ce},__testonly__:{canBeTiled:r,constructLevels:l}});function r(p){var h=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],f=Array.isArray(p.profile)?p.profile[0]:p.profile,v=h.indexOf(f)!==-1,w=!1;return p.version===2&&p.profile.length>1&&p.profile[1].supports&&(w=p.profile[1].supports.indexOf("sizeByW")!==-1),p.version===3&&p.extraFeatures&&(w=p.extraFeatures.indexOf("sizeByWh")!==-1),!v||w}function l(p){for(var h=[],f=0;f<p.sizes.length;f++)h.push({url:p._id+"/full/"+p.sizes[f].width+","+(p.version===3?p.sizes[f].height:"")+"/0/default."+p.tileFormat,width:p.sizes[f].width,height:p.sizes[f].height});return h.sort(function(v,w){return v.width-w.width})}function a(p){if(!p||!p.documentElement)throw new Error(t.getString("Errors.Xml"));var h=p.documentElement,f=h.tagName,v=null;if(f==="info")try{return v={},u(h,v),v}catch(w){throw w instanceof Error?w:new Error(t.getString("Errors.IIIF"))}throw new Error(t.getString("Errors.IIIF"))}function u(p,h,f){var v,w;if(p.nodeType===3&&f)w=p.nodeValue.trim(),w.match(/^\d*$/)&&(w=Number(w)),h[f]?(t.isArray(h[f])||(h[f]=[h[f]]),h[f].push(w)):h[f]=w;else if(p.nodeType===1)for(v=0;v<p.childNodes.length;v++)u(p.childNodes[v],h,p.nodeName)}}(g),function(t){t.OsmTileSource=function(r,l,a,u,p){var h;t.isPlainObject(r)?h=r:h={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!h.width||!h.height)&&(h.width=65572864,h.height=65572864),h.tileSize||(h.tileSize=256,h.tileOverlap=0),h.tilesUrl||(h.tilesUrl="http://tile.openstreetmap.org/"),h.minLevel=8,t.TileSource.apply(this,[h])},t.extend(t.OsmTileSource.prototype,t.TileSource.prototype,{supports:function(r,l){return r.type&&r.type==="openstreetmaps"},configure:function(r,l,a){return r},getTileUrl:function(r,l,a){return this.tilesUrl+(r-8)+"/"+l+"/"+a+".png"}})}(g),function(t){t.TmsTileSource=function(r,l,a,u,p){var h;t.isPlainObject(r)?h=r:h={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var f=Math.ceil(h.width/256)*256,v=Math.ceil(h.height/256)*256,w;f>v?w=f/256:w=v/256,h.maxLevel=Math.ceil(Math.log(w)/Math.log(2))-1,h.tileSize=256,h.width=f,h.height=v,t.TileSource.apply(this,[h])},t.extend(t.TmsTileSource.prototype,t.TileSource.prototype,{supports:function(r,l){return r.type&&r.type==="tiledmapservice"},configure:function(r,l,a){return r},getTileUrl:function(r,l,a){var u=this.getNumTiles(r).y-1;return this.tilesUrl+r+"/"+l+"/"+(u-a)+".png"}})}(g),function(t){t.ZoomifyTileSource=function(r){typeof r.tileSize>"u"&&(r.tileSize=256),typeof r.fileFormat>"u"&&(r.fileFormat="jpg",this.fileFormat=r.fileFormat);var l={x:r.width,y:r.height};for(r.imageSizes=[{x:r.width,y:r.height}],r.gridSize=[this._getGridSize(r.width,r.height,r.tileSize)];parseInt(l.x,10)>r.tileSize||parseInt(l.y,10)>r.tileSize;)l.x=Math.floor(l.x/2),l.y=Math.floor(l.y/2),r.imageSizes.push({x:l.x,y:l.y}),r.gridSize.push(this._getGridSize(l.x,l.y,r.tileSize));r.imageSizes.reverse(),r.gridSize.reverse(),r.minLevel=0,r.maxLevel=r.gridSize.length-1,g.TileSource.apply(this,[r])},t.extend(t.ZoomifyTileSource.prototype,t.TileSource.prototype,{_getGridSize:function(r,l,a){return{x:Math.ceil(r/a),y:Math.ceil(l/a)}},_calculateAbsoluteTileNumber:function(r,l,a){for(var u=0,p={},h=0;h<r;h++)p=this.gridSize[h],u+=p.x*p.y;return p=this.gridSize[r],u+=p.x*a+l,u},supports:function(r,l){return r.type&&r.type==="zoomifytileservice"},configure:function(r,l,a){return r},getTileUrl:function(r,l,a){var u=0,p=this._calculateAbsoluteTileNumber(r,l,a);return u=Math.floor(p/256),this.tilesUrl+"TileGroup"+u+"/"+r+"-"+l+"-"+a+"."+this.fileFormat}})}(g),function(t){t.LegacyTileSource=function(u){var p,h,f;t.isArray(u)&&(p={type:"legacy-image-pyramid",levels:u}),p.levels=r(p.levels),p.levels.length>0?(h=p.levels[p.levels.length-1].width,f=p.levels[p.levels.length-1].height):(h=0,f=0,t.console.error("No supported image formats found")),t.extend(!0,p,{width:h,height:f,tileSize:Math.max(f,h),tileOverlap:0,minLevel:0,maxLevel:p.levels.length>0?p.levels.length-1:0}),t.TileSource.apply(this,[p]),this.levels=p.levels},t.extend(t.LegacyTileSource.prototype,t.TileSource.prototype,{supports:function(u,p){return u.type&&u.type==="legacy-image-pyramid"||u.documentElement&&u.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(u,p,h){var f;return t.isPlainObject(u)?f=a(this,u):f=l(this,u),f},getLevelScale:function(u){var p=NaN;return this.levels.length>0&&u>=this.minLevel&&u<=this.maxLevel&&(p=this.levels[u].width/this.levels[this.maxLevel].width),p},getNumTiles:function(u){var p=this.getLevelScale(u);return p?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(u,p,h){var f=null;return this.levels.length>0&&u>=this.minLevel&&u<=this.maxLevel&&(f=this.levels[u].url),f}});function r(u){var p=[],h,f;for(f=0;f<u.length;f++)h=u[f],h.height&&h.width&&h.url?p.push({url:h.url,width:Number(h.width),height:Number(h.height)}):t.console.error("Unsupported image format: %s",h.url?h.url:"<no URL>");return p.sort(function(v,w){return v.height-w.height})}function l(u,p){if(!p||!p.documentElement)throw new Error(t.getString("Errors.Xml"));var h=p.documentElement,f=h.tagName,v=null,w=[],T,R;if(f==="image")try{for(v={type:h.getAttribute("type"),levels:[]},w=h.getElementsByTagName("level"),R=0;R<w.length;R++)T=w[R],v.levels.push({url:T.getAttribute("url"),width:parseInt(T.getAttribute("width"),10),height:parseInt(T.getAttribute("height"),10)});return a(u,v)}catch(L){throw L instanceof Error?L:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(f==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(f==="error")throw new Error("Error: "+p)}throw new Error("Unknown element "+f)}function a(u,p){return p.levels}}(g),function(t){t.ImageTileSource=function(r){r=t.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},r),t.TileSource.apply(this,[r])},t.extend(t.ImageTileSource.prototype,t.TileSource.prototype,{supports:function(r,l){return r.type&&r.type==="image"},configure:function(r,l,a){return r},getImageInfo:function(r){var l=this._image=new Image,a=this;this.crossOriginPolicy&&(l.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(l.useCredentials=this.ajaxWithCredentials),t.addEvent(l,"load",function(){a.width=l.naturalWidth,a.height=l.naturalHeight,a.aspectRatio=a.width/a.height,a.dimensions=new t.Point(a.width,a.height),a._tileWidth=a.width,a._tileHeight=a.height,a.tileOverlap=0,a.minLevel=0,a.levels=a._buildLevels(),a.maxLevel=a.levels.length-1,a.ready=!0,a.raiseEvent("ready",{tileSource:a})}),t.addEvent(l,"error",function(){a.raiseEvent("open-failed",{message:"Error loading image at "+r,source:r})}),l.src=r},getLevelScale:function(r){var l=NaN;return r>=this.minLevel&&r<=this.maxLevel&&(l=this.levels[r].width/this.levels[this.maxLevel].width),l},getNumTiles:function(r){var l=this.getLevelScale(r);return l?new t.Point(1,1):new t.Point(0,0)},getTileUrl:function(r,l,a){var u=null;return r>=this.minLevel&&r<=this.maxLevel&&(u=this.levels[r].url),u},getContext2D:function(r,l,a){var u=null;return r>=this.minLevel&&r<=this.maxLevel&&(u=this.levels[r].context2D),u},destroy:function(r){this._freeupCanvasMemory(r)},_buildLevels:function(){var r=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!t.supportsCanvas)return delete this._image,r;var l=this._image.naturalWidth,a=this._image.naturalHeight,u=document.createElement("canvas"),p=u.getContext("2d");if(u.width=l,u.height=a,p.drawImage(this._image,0,0,l,a),r[0].context2D=p,delete this._image,t.isCanvasTainted(u))return r;for(;l>=2&&a>=2;){l=Math.floor(l/2),a=Math.floor(a/2);var h=document.createElement("canvas"),f=h.getContext("2d");h.width=l,h.height=a,f.drawImage(u,0,0,l,a),r.splice(0,0,{context2D:f,width:l,height:a}),u=h,p=f}return r},_freeupCanvasMemory:function(r){for(var l=0;l<this.levels.length;l++)this.levels[l].context2D&&(this.levels[l].context2D.canvas.height=0,this.levels[l].context2D.canvas.width=0,r&&r.raiseEvent("image-unloaded",{context2D:this.levels[l].context2D}))}})}(g),function(t){t.TileSourceCollection=function(r,l,a,u){t.console.error("TileSourceCollection is deprecated; use World instead")}}(g),function(t){t.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},t.Button=function(f){var v=this;t.EventSource.call(this),t.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},f),this.element=f.element||t.makeNeutralElement("div"),f.element||(this.imgRest=t.makeTransparentImage(this.srcRest),this.imgGroup=t.makeTransparentImage(this.srcGroup),this.imgHover=t.makeTransparentImage(this.srcHover),this.imgDown=t.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,t.setElementPointerEventsNone(this.imgRest),t.setElementPointerEventsNone(this.imgGroup),t.setElementPointerEventsNone(this.imgHover),t.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",t.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=t.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new t.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(w){w.insideElementPressed?(p(v,t.ButtonState.DOWN),v.raiseEvent("enter",{originalEvent:w.originalEvent})):w.buttonDownAny||p(v,t.ButtonState.HOVER)},focusHandler:function(w){v.tracker.enterHandler(w),v.raiseEvent("focus",{originalEvent:w.originalEvent})},leaveHandler:function(w){h(v,t.ButtonState.GROUP),w.insideElementPressed&&v.raiseEvent("exit",{originalEvent:w.originalEvent})},blurHandler:function(w){v.tracker.leaveHandler(w),v.raiseEvent("blur",{originalEvent:w.originalEvent})},pressHandler:function(w){p(v,t.ButtonState.DOWN),v.raiseEvent("press",{originalEvent:w.originalEvent})},releaseHandler:function(w){w.insideElementPressed&&w.insideElementReleased?(h(v,t.ButtonState.HOVER),v.raiseEvent("release",{originalEvent:w.originalEvent})):w.insideElementPressed?h(v,t.ButtonState.GROUP):p(v,t.ButtonState.HOVER)},clickHandler:function(w){w.quick&&v.raiseEvent("click",{originalEvent:w.originalEvent})},keyHandler:function(w){w.keyCode===13?(v.raiseEvent("click",{originalEvent:w.originalEvent}),v.raiseEvent("release",{originalEvent:w.originalEvent}),w.preventDefault=!0):w.preventDefault=!1}}),h(this,t.ButtonState.REST)},t.extend(t.Button.prototype,t.EventSource.prototype,{notifyGroupEnter:function(){p(this,t.ButtonState.GROUP)},notifyGroupExit:function(){h(this,t.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),t.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),t.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function r(f){t.requestAnimationFrame(function(){l(f)})}function l(f){var v,w,T;f.shouldFade&&(v=t.now(),w=v-f.fadeBeginTime,T=1-w/f.fadeLength,T=Math.min(1,T),T=Math.max(0,T),f.imgGroup&&t.setElementOpacity(f.imgGroup,T,!0),T>0&&r(f))}function a(f){f.shouldFade=!0,f.fadeBeginTime=t.now()+f.fadeDelay,window.setTimeout(function(){r(f)},f.fadeDelay)}function u(f){f.shouldFade=!1,f.imgGroup&&t.setElementOpacity(f.imgGroup,1,!0)}function p(f,v){f.element.disabled||(v>=t.ButtonState.GROUP&&f.currentState===t.ButtonState.REST&&(u(f),f.currentState=t.ButtonState.GROUP),v>=t.ButtonState.HOVER&&f.currentState===t.ButtonState.GROUP&&(f.imgHover&&(f.imgHover.style.visibility=""),f.currentState=t.ButtonState.HOVER),v>=t.ButtonState.DOWN&&f.currentState===t.ButtonState.HOVER&&(f.imgDown&&(f.imgDown.style.visibility=""),f.currentState=t.ButtonState.DOWN))}function h(f,v){f.element.disabled||(v<=t.ButtonState.HOVER&&f.currentState===t.ButtonState.DOWN&&(f.imgDown&&(f.imgDown.style.visibility="hidden"),f.currentState=t.ButtonState.HOVER),v<=t.ButtonState.GROUP&&f.currentState===t.ButtonState.HOVER&&(f.imgHover&&(f.imgHover.style.visibility="hidden"),f.currentState=t.ButtonState.GROUP),v<=t.ButtonState.REST&&f.currentState===t.ButtonState.GROUP&&(a(f),f.currentState=t.ButtonState.REST))}}(g),function(t){t.ButtonGroup=function(r){t.extend(!0,this,{buttons:[],clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:t.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},r);var l=this.buttons.concat([]),a=this,u;if(this.element=r.element||t.makeNeutralElement("div"),!r.group)for(this.element.style.display="inline-block",u=0;u<l.length;u++)this.element.appendChild(l[u].element);t.setElementTouchActionNone(this.element),this.tracker=new t.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(p){var h;for(h=0;h<a.buttons.length;h++)a.buttons[h].notifyGroupEnter()},leaveHandler:function(p){var h;if(!p.insideElementPressed)for(h=0;h<a.buttons.length;h++)a.buttons[h].notifyGroupExit()}})},t.ButtonGroup.prototype={addButton:function(r){this.buttons.push(r),this.element.appendChild(r.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var r=this.buttons.pop();this.element.removeChild(r.element),r.destroy()}this.tracker.destroy(),this.element=null}}}(g),function(t){t.Rect=function(r,l,a,u,p){this.x=typeof r=="number"?r:0,this.y=typeof l=="number"?l:0,this.width=typeof a=="number"?a:0,this.height=typeof u=="number"?u:0,this.degrees=typeof p=="number"?p:0,this.degrees=t.positiveModulo(this.degrees,360);var h,f;this.degrees>=270?(h=this.getTopRight(),this.x=h.x,this.y=h.y,f=this.height,this.height=this.width,this.width=f,this.degrees-=270):this.degrees>=180?(h=this.getBottomRight(),this.x=h.x,this.y=h.y,this.degrees-=180):this.degrees>=90&&(h=this.getBottomLeft(),this.x=h.x,this.y=h.y,f=this.height,this.height=this.width,this.width=f,this.degrees-=90)},t.Rect.fromSummits=function(r,l,a){var u=r.distanceTo(l),p=r.distanceTo(a),h=l.minus(r),f=Math.atan(h.y/h.x);return h.x<0?f+=Math.PI:h.y<0&&(f+=2*Math.PI),new t.Rect(r.x,r.y,u,p,f/Math.PI*180)},t.Rect.prototype={clone:function(){return new t.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new t.Point(this.x,this.y)},getBottomRight:function(){return new t.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new t.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new t.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new t.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new t.Point(this.width,this.height)},equals:function(r){return r instanceof t.Rect&&this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height&&this.degrees===r.degrees},times:function(r){return new t.Rect(this.x*r,this.y*r,this.width*r,this.height*r,this.degrees)},translate:function(r){return new t.Rect(this.x+r.x,this.y+r.y,this.width,this.height,this.degrees)},union:function(r){var l=this.getBoundingBox(),a=r.getBoundingBox(),u=Math.min(l.x,a.x),p=Math.min(l.y,a.y),h=Math.max(l.x+l.width,a.x+a.width),f=Math.max(l.y+l.height,a.y+a.height);return new t.Rect(u,p,h-u,f-p)},intersection:function(r){var l=1e-10,a=[],u=this.getTopLeft();r.containsPoint(u,l)&&a.push(u);var p=this.getTopRight();r.containsPoint(p,l)&&a.push(p);var h=this.getBottomLeft();r.containsPoint(h,l)&&a.push(h);var f=this.getBottomRight();r.containsPoint(f,l)&&a.push(f);var v=r.getTopLeft();this.containsPoint(v,l)&&a.push(v);var w=r.getTopRight();this.containsPoint(w,l)&&a.push(w);var T=r.getBottomLeft();this.containsPoint(T,l)&&a.push(T);var R=r.getBottomRight();this.containsPoint(R,l)&&a.push(R);for(var L=this._getSegments(),D=r._getSegments(),F=0;F<L.length;F++)for(var z=L[F],q=0;q<D.length;q++){var ee=D[q],Le=Se(z[0],z[1],ee[0],ee[1]);Le&&a.push(Le)}function Se(ce,Fe,Ge,yt){var dt=Fe.minus(ce),Oe=yt.minus(Ge),pe=-Oe.x*dt.y+dt.x*Oe.y;if(pe===0)return null;var ye=(dt.x*(ce.y-Ge.y)-dt.y*(ce.x-Ge.x))/pe,Re=(Oe.x*(ce.y-Ge.y)-Oe.y*(ce.x-Ge.x))/pe;return-1e-10<=ye&&ye<=1-l&&-1e-10<=Re&&Re<=1-l?new t.Point(ce.x+Re*dt.x,ce.y+Re*dt.y):null}if(a.length===0)return null;for(var Z=a[0].x,we=a[0].x,N=a[0].y,U=a[0].y,te=1;te<a.length;te++){var ve=a[te];ve.x<Z&&(Z=ve.x),ve.x>we&&(we=ve.x),ve.y<N&&(N=ve.y),ve.y>U&&(U=ve.y)}return new t.Rect(Z,N,we-Z,U-N)},_getSegments:function(){var r=this.getTopLeft(),l=this.getTopRight(),a=this.getBottomLeft(),u=this.getBottomRight();return[[r,l],[l,u],[u,a],[a,r]]},rotate:function(r,l){if(r=t.positiveModulo(r,360),r===0)return this.clone();l=l||this.getCenter();var a=this.getTopLeft().rotate(r,l),u=this.getTopRight().rotate(r,l),p=u.minus(a);p=p.apply(function(f){var v=1e-15;return Math.abs(f)<v?0:f});var h=Math.atan(p.y/p.x);return p.x<0?h+=Math.PI:p.y<0&&(h+=2*Math.PI),new t.Rect(a.x,a.y,this.width,this.height,h/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var r=this.getTopLeft(),l=this.getTopRight(),a=this.getBottomLeft(),u=this.getBottomRight(),p=Math.min(r.x,l.x,a.x,u.x),h=Math.max(r.x,l.x,a.x,u.x),f=Math.min(r.y,l.y,a.y,u.y),v=Math.max(r.y,l.y,a.y,u.y);return new t.Rect(p,f,h-p,v-f)},getIntegerBoundingBox:function(){var r=this.getBoundingBox(),l=Math.floor(r.x),a=Math.floor(r.y),u=Math.ceil(r.width+r.x-l),p=Math.ceil(r.height+r.y-a);return new t.Rect(l,a,u,p)},containsPoint:function(r,l){l=l||0;var a=this.getTopLeft(),u=this.getTopRight(),p=this.getBottomLeft(),h=u.minus(a),f=p.minus(a);return(r.x-a.x)*h.x+(r.y-a.y)*h.y>=-l&&(r.x-u.x)*h.x+(r.y-u.y)*h.y<=l&&(r.x-a.x)*f.x+(r.y-a.y)*f.y>=-l&&(r.x-p.x)*f.x+(r.y-p.y)*f.y<=l},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(g),function(t){var r={};t.ReferenceStrip=function(T){var R=this,L=T.viewer,D=t.getElementSize(L.element),F,z,q;for(T.id||(T.id="referencestrip-"+t.now(),this.element=t.makeNeutralElement("div"),this.element.id=T.id,this.element.className="referencestrip"),T=t.extend(!0,{sizeRatio:t.DEFAULT_SETTINGS.referenceStripSizeRatio,position:t.DEFAULT_SETTINGS.referenceStripPosition,scroll:t.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:t.DEFAULT_SETTINGS.clickTimeThreshold},T,{element:this.element}),t.extend(this,T),r[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,z=this.element.style,z.marginTop="0px",z.marginRight="0px",z.marginBottom="0px",z.marginLeft="0px",z.left="0px",z.bottom="0px",z.border="0px",z.background="#000",z.position="relative",t.setElementTouchActionNone(this.element),t.setElementOpacity(this.element,.8),this.viewer=L,this.tracker=new t.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:t.delegate(this,l),dragHandler:t.delegate(this,a),scrollHandler:t.delegate(this,u),enterHandler:t.delegate(this,h),leaveHandler:t.delegate(this,f),keyDownHandler:t.delegate(this,v),keyHandler:t.delegate(this,w),preProcessEventHandler:function(ee){ee.eventType==="wheel"&&(ee.preventDefault=!0)}}),T.width&&T.height?(this.element.style.width=T.width+"px",this.element.style.height=T.height+"px",L.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):T.scroll==="horizontal"?(this.element.style.width=D.x*T.sizeRatio*L.tileSources.length+12*L.tileSources.length+"px",this.element.style.height=D.y*T.sizeRatio+"px",L.addControl(this.element,{anchor:t.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=D.y*T.sizeRatio*L.tileSources.length+12*L.tileSources.length+"px",this.element.style.width=D.x*T.sizeRatio+"px",L.addControl(this.element,{anchor:t.ControlAnchor.TOP_LEFT})),this.panelWidth=D.x*this.sizeRatio+8,this.panelHeight=D.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},q=0;q<L.tileSources.length;q++)F=t.makeNeutralElement("div"),F.id=this.element.id+"-"+q,F.style.width=R.panelWidth+"px",F.style.height=R.panelHeight+"px",F.style.display="inline",F.style.float="left",F.style.cssFloat="left",F.style.padding="2px",t.setElementTouchActionNone(F),t.setElementPointerEventsNone(F),this.element.appendChild(F),F.activePanel=!1,this.panels.push(F);p(this,this.scroll==="vertical"?D.y:D.x,0),this.setFocus(0)},t.ReferenceStrip.prototype={setFocus:function(T){var R=this.element.querySelector("#"+this.element.id+"-"+T),L=t.getElementSize(this.viewer.canvas),D=Number(this.element.style.width.replace("px","")),F=Number(this.element.style.height.replace("px","")),z=-Number(this.element.style.marginLeft.replace("px","")),q=-Number(this.element.style.marginTop.replace("px","")),ee;this.currentSelected!==R&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=R,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(ee=Number(T)*(this.panelWidth+3),ee>z+L.x-this.panelWidth?(ee=Math.min(ee,D-L.x),this.element.style.marginLeft=-ee+"px",p(this,L.x,-ee)):ee<z&&(ee=Math.max(0,ee-L.x/2),this.element.style.marginLeft=-ee+"px",p(this,L.x,-ee))):(ee=Number(T)*(this.panelHeight+3),ee>q+L.y-this.panelHeight?(ee=Math.min(ee,F-L.y),this.element.style.marginTop=-ee+"px",p(this,L.y,-ee)):ee<q&&(ee=Math.max(0,ee-L.y/2),this.element.style.marginTop=-ee+"px",p(this,L.y,-ee))),this.currentPage=T,h.call(this,{eventSource:this.tracker}))},update:function(){return!!r[this.id].animating},destroy:function(){if(this.miniViewers)for(var T in this.miniViewers)this.miniViewers[T].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function l(T){if(T.quick){var R;this.scroll==="horizontal"?R=Math.floor(T.position.x/(this.panelWidth+4)):R=Math.floor(T.position.y/this.panelHeight),this.viewer.goToPage(R)}this.element.focus()}function a(T){if(this.dragging=!0,this.element){var R=Number(this.element.style.marginLeft.replace("px","")),L=Number(this.element.style.marginTop.replace("px","")),D=Number(this.element.style.width.replace("px","")),F=Number(this.element.style.height.replace("px","")),z=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-T.delta.x>0?R>-(D-z.x)&&(this.element.style.marginLeft=R+T.delta.x*2+"px",p(this,z.x,R+T.delta.x*2)):-T.delta.x<0&&R<0&&(this.element.style.marginLeft=R+T.delta.x*2+"px",p(this,z.x,R+T.delta.x*2)):-T.delta.y>0?L>-(F-z.y)&&(this.element.style.marginTop=L+T.delta.y*2+"px",p(this,z.y,L+T.delta.y*2)):-T.delta.y<0&&L<0&&(this.element.style.marginTop=L+T.delta.y*2+"px",p(this,z.y,L+T.delta.y*2))}}function u(T){if(this.element){var R=Number(this.element.style.marginLeft.replace("px","")),L=Number(this.element.style.marginTop.replace("px","")),D=Number(this.element.style.width.replace("px","")),F=Number(this.element.style.height.replace("px","")),z=t.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?T.scroll>0?R>-(D-z.x)&&(this.element.style.marginLeft=R-T.scroll*60+"px",p(this,z.x,R-T.scroll*60)):T.scroll<0&&R<0&&(this.element.style.marginLeft=R-T.scroll*60+"px",p(this,z.x,R-T.scroll*60)):T.scroll<0?L>z.y-F&&(this.element.style.marginTop=L+T.scroll*60+"px",p(this,z.y,L+T.scroll*60)):T.scroll>0&&L<0&&(this.element.style.marginTop=L+T.scroll*60+"px",p(this,z.y,L+T.scroll*60)),T.preventDefault=!0}}function p(T,R,L){var D,F,z,q,ee,Le;for(T.scroll==="horizontal"?D=T.panelWidth:D=T.panelHeight,F=Math.ceil(R/D)+5,z=Math.ceil((Math.abs(L)+R)/D)+1,F=z-F,F=F<0?0:F,ee=F;ee<z&&ee<T.panels.length;ee++)if(Le=T.panels[ee],!Le.activePanel){var Se,Z=T.viewer.tileSources[ee];Z.referenceStripThumbnailUrl?Se={type:"image",url:Z.referenceStripThumbnailUrl}:Se=Z,q=new t.Viewer({id:Le.id,tileSources:[Se],element:Le,navigatorSizeRatio:T.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:T.viewer.loadTilesWithAjax,ajaxHeaders:T.viewer.ajaxHeaders,drawer:"canvas"}),t.setElementPointerEventsNone(q.canvas),t.setElementPointerEventsNone(q.container),q.innerTracker.setTracking(!1),q.outerTracker.setTracking(!1),T.miniViewers[Le.id]=q,Le.activePanel=!0}}function h(T){var R=T.eventSource.element;this.scroll==="horizontal"?R.style.marginBottom="0px":R.style.marginLeft="0px"}function f(T){var R=T.eventSource.element;this.scroll==="horizontal"?R.style.marginBottom="-"+t.getElementSize(R).y/2+"px":R.style.marginLeft="-"+t.getElementSize(R).x/2+"px"}function v(T){if(!T.ctrl&&!T.alt&&!T.meta)switch(T.keyCode){case 38:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;case 40:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 37:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 39:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;default:T.preventDefault=!1;break}else T.preventDefault=!1}function w(T){if(!T.ctrl&&!T.alt&&!T.meta)switch(T.keyCode){case 61:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;case 45:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 48:case 119:case 87:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;case 115:case 83:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 97:u.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),T.preventDefault=!0;break;case 100:u.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),T.preventDefault=!0;break;default:T.preventDefault=!1;break}else T.preventDefault=!1}}(g),function(t){t.DisplayRect=function(r,l,a,u,p,h){t.Rect.apply(this,[r,l,a,u]),this.minLevel=p,this.maxLevel=h},t.extend(t.DisplayRect.prototype,t.Rect.prototype)}(g),function(t){t.Spring=function(l){var a=arguments;typeof l!="object"&&(l={initial:a.length&&typeof a[0]=="number"?a[0]:void 0,springStiffness:a.length>1?a[1].springStiffness:5,animationTime:a.length>1?a[1].animationTime:1.5}),t.console.assert(typeof l.springStiffness=="number"&&l.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),t.console.assert(typeof l.animationTime=="number"&&l.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),l.exponential&&(this._exponential=!0,delete l.exponential),t.extend(!0,this,l),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:t.now()},t.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},t.Spring.prototype={resetTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=l,this.start.time=this.target.time=this.current.time=t.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(l){t.console.assert(!this._exponential||l!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=l,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(l){this.start.value+=l,this.target.value+=l,this._exponential&&(t.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(l){this._exponential=l,this._exponential&&(t.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=t.now();let l,a;if(this._exponential?(l=this.start._logValue,a=this.target._logValue):(l=this.start.value,a=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{let u=l+(a-l)*r(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time));this._exponential?this.current.value=Math.exp(u):this.current.value=u}return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function r(l,a){return(1-Math.exp(l*-a))/(1-Math.exp(-l))}}(g),function(t){t.ImageJob=function(l){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},l),this.data=null,this.userData={},this.errorMsg=null},t.ImageJob.prototype={start:function(){this.tries++;var l=this,a=this.abort;this.jobId=window.setTimeout(function(){l.finish(null,null,"Image load exceeded timeout ("+l.timeout+" ms)")},this.timeout),this.abort=function(){l.source.downloadTileAbort(l),typeof a=="function"&&a()},this.source.downloadTileStart(this)},finish:function(l,a,u){this.data=l,this.request=a,this.errorMsg=u,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(l){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},l)},t.ImageLoader.prototype={addJob:function(l){if(!l.source){t.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var a=t.TileSource.prototype;l.source={downloadTileStart:a.downloadTileStart,downloadTileAbort:a.downloadTileAbort}}var u=this,p=function(v){r(u,v,l.callback)},h={src:l.src,tile:l.tile||{},source:l.source,loadWithAjax:l.loadWithAjax,ajaxHeaders:l.loadWithAjax?l.ajaxHeaders:null,crossOriginPolicy:l.crossOriginPolicy,ajaxWithCredentials:l.ajaxWithCredentials,postData:l.postData,callback:p,abort:l.abort,timeout:this.timeout},f=new t.ImageJob(h);!this.jobLimit||this.jobsInProgress<this.jobLimit?(f.start(),this.jobsInProgress++):this.jobQueue.push(f)},clear:function(){for(var l=0;l<this.jobQueue.length;l++){var a=this.jobQueue[l];typeof a.abort=="function"&&a.abort()}this.jobQueue=[]}};function r(l,a,u){a.errorMsg!==""&&(a.data===null||a.data===void 0)&&a.tries<1+l.tileRetryMax&&l.failedTiles.push(a);var p;l.jobsInProgress--,(!l.jobLimit||l.jobsInProgress<l.jobLimit)&&l.jobQueue.length>0&&(p=l.jobQueue.shift(),p.start(),l.jobsInProgress++),l.tileRetryMax>0&&l.jobQueue.length===0&&(!l.jobLimit||l.jobsInProgress<l.jobLimit)&&l.failedTiles.length>0&&(p=l.failedTiles.shift(),setTimeout(function(){p.start()},l.tileRetryDelay),l.jobsInProgress++),u(a.data,a.errorMsg,a.request)}}(g),function(t){t.Tile=function(r,l,a,u,p,h,f,v,w,T,R,L){this.level=r,this.x=l,this.y=a,this.bounds=u,this.positionedBounds=new g.Rect(u.x,u.y,u.width,u.height),this.sourceBounds=T,this.exists=p,this._url=h,this.postData=R,this.context2D=f,this.loadWithAjax=v,this.ajaxHeaders=w,L===void 0&&(t.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),L=t.TileSource.prototype.getTileHashKey(r,l,a,h,w,R)),this.cacheKey=L,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},t.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return t.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return t.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return typeof this._url=="function"?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var r;if(this.cacheImageRecord)r=this.cacheImageRecord.getRenderedContext();else if(this.context2D)r=this.context2D;else return t.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return r.canvas.width/(this.size.x*t.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(r,l,a){var u=Math.max(1,Math.ceil((a.x-l.x)/2)),p=Math.max(1,Math.ceil((a.y-l.y)/2));return new t.Point(u,p).minus(this.position.times(t.pixelDensityRatio).times(r||1).apply(function(h){return h%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(g),function(t){t.OverlayPlacement=t.Placement,t.OverlayRotationMode=t.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),t.Overlay=function(r,l,a){var u;t.isPlainObject(r)?u=r:u={element:r,location:l,placement:a},this.elementWrapper=document.createElement("div"),this.element=u.element,this.elementWrapper.appendChild(this.element),this.element.id?this.elementWrapper.id="overlay-wrapper-"+this.element.id:this.elementWrapper.id="overlay-wrapper",this.style=this.elementWrapper.style,this._init(u)},t.Overlay.prototype={_init:function(r){this.location=r.location,this.placement=r.placement===void 0?t.Placement.TOP_LEFT:r.placement,this.onDraw=r.onDraw,this.checkResize=r.checkResize===void 0?!0:r.checkResize,this.width=r.width===void 0?null:r.width,this.height=r.height===void 0?null:r.height,this.rotationMode=r.rotationMode||t.OverlayRotationMode.EXACT,this.location instanceof t.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=t.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new t.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(r,l){var a=t.Placement.properties[this.placement];a&&(a.isHorizontallyCentered?r.x-=l.x/2:a.isRight&&(r.x-=l.x),a.isVerticallyCentered?r.y-=l.y/2:a.isBottom&&(r.y-=l.y))},destroy:function(){var r=this.elementWrapper,l=this.style;r.parentNode&&(r.parentNode.removeChild(r),r.prevElementParent&&(l.display="none",document.body.appendChild(r))),this.onDraw=null,l.top="",l.left="",l.position="",this.width!==null&&(l.width=""),this.height!==null&&(l.height="");var a=t.getCssPropertyWithVendorPrefix("transformOrigin"),u=t.getCssPropertyWithVendorPrefix("transform");a&&u&&(l[a]="",l[u]="")},drawHTML:function(r,l){var a=this.elementWrapper;a.parentNode!==r&&(a.prevElementParent=a.parentNode,a.prevNextSibling=a.nextSibling,r.appendChild(a),this.style.position="absolute",this.size=t.getElementSize(this.elementWrapper));var u=this._getOverlayPositionAndSize(l),p=u.position,h=this.size=u.size,f="";l.overlayPreserveContentDirection&&(f=l.flipped?" scaleX(-1)":" scaleX(1)");var v=l.flipped?-u.rotate:u.rotate,w=l.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(p,h,this.element);else{var T=this.style,R=this.element.style;R.display="block",T.left=p.x+"px",T.top=p.y+"px",this.width!==null&&(R.width=h.x+"px"),this.height!==null&&(R.height=h.y+"px");var L=t.getCssPropertyWithVendorPrefix("transformOrigin"),D=t.getCssPropertyWithVendorPrefix("transform");L&&D&&(v&&!l.flipped?(R[D]="",T[L]=this._getTransformOrigin(),T[D]="rotate("+v+"deg)"):!v&&l.flipped?(R[D]=f,T[L]=this._getTransformOrigin(),T[D]=w):v&&l.flipped?(R[D]=f,T[L]=this._getTransformOrigin(),T[D]="rotate("+v+"deg)"+w):(R[D]="",T[L]="",T[D]="")),T.display="flex"}},_getOverlayPositionAndSize:function(r){var l=r.pixelFromPoint(this.location,!0),a=this._getSizeInPixels(r);this.adjust(l,a);var u=0;if(r.getRotation(!0)&&this.rotationMode!==t.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var p=new t.Rect(l.x,l.y,a.x,a.y),h=this._getBoundingBox(p,r.getRotation(!0));l=h.getTopLeft(),a=h.getSize()}else u=r.getRotation(!0);return r.flipped&&(l.x=r.getContainerSize().x-l.x),{position:l,size:a,rotate:u}},_getSizeInPixels:function(r){var l=this.size.x,a=this.size.y;if(this.width!==null||this.height!==null){var u=r.deltaPixelsFromPointsNoRotate(new t.Point(this.width||0,this.height||0),!0);this.width!==null&&(l=u.x),this.height!==null&&(a=u.y)}if(this.checkResize&&(this.width===null||this.height===null)){var p=this.size=t.getElementSize(this.elementWrapper);this.width===null&&(l=p.x),this.height===null&&(a=p.y)}return new t.Point(l,a)},_getBoundingBox:function(r,l){var a=this._getPlacementPoint(r);return r.rotate(l,a).getBoundingBox()},_getPlacementPoint:function(r){var l=new t.Point(r.x,r.y),a=t.Placement.properties[this.placement];return a&&(a.isHorizontallyCentered?l.x+=r.width/2:a.isRight&&(l.x+=r.width),a.isVerticallyCentered?l.y+=r.height/2:a.isBottom&&(l.y+=r.height)),l},_getTransformOrigin:function(){var r="",l=t.Placement.properties[this.placement];return l&&(l.isLeft?r="left":l.isRight&&(r="right"),l.isTop?r+=" top":l.isBottom&&(r+=" bottom")),r},update:function(r,l){var a=t.isPlainObject(r)?r:{location:r,placement:l};this._init({location:a.location||this.location,placement:a.placement!==void 0?a.placement:this.placement,onDraw:a.onDraw||this.onDraw,checkResize:a.checkResize||this.checkResize,width:a.width!==void 0?a.width:this.width,height:a.height!==void 0?a.height:this.height,rotationMode:a.rotationMode||this.rotationMode})},getBounds:function(r){t.console.assert(r,"A viewport must now be passed to Overlay.getBounds.");var l=this.width,a=this.height;if(l===null||a===null){var u=r.deltaPointsFromPixelsNoRotate(this.size,!0);l===null&&(l=u.x),a===null&&(a=u.y)}var p=this.location.clone();return this.adjust(p,new t.Point(l,a)),this._adjustBoundsForRotation(r,new t.Rect(p.x,p.y,l,a))},_adjustBoundsForRotation:function(r,l){if(!r||r.getRotation(!0)===0||this.rotationMode===t.OverlayRotationMode.EXACT)return l;if(this.rotationMode===t.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return l;var a=this._getOverlayPositionAndSize(r);return r.viewerElementToViewportRectangle(new t.Rect(a.position.x,a.position.y,a.size.x,a.size.y))}return l.rotate(-r.getRotation(!0),this._getPlacementPoint(l))}}}(g),function(t){const r=t;r.DrawerBase=class{constructor(a){t.console.assert(a.viewer,"[Drawer] options.viewer is required"),t.console.assert(a.viewport,"[Drawer] options.viewport is required"),t.console.assert(a.element,"[Drawer] options.element is required"),this.viewer=a.viewer,this.viewport=a.viewport,this.debugGridColor=typeof a.debugGridColor=="string"?[a.debugGridColor]:a.debugGridColor||t.DEFAULT_SETTINGS.debugGridColor,this.options=a.options||{},this.container=t.getElement(a.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",t.setElementOpacity(this.canvas,this.viewer.opacity,!0),t.setElementPointerEventsNone(this.canvas),t.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}get canvas(){return this._renderingTarget}get element(){return t.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}getType(){t.console.error("Drawer.getType must be implemented by child class")}static isSupported(){t.console.error("Drawer.isSupported must be implemented by child class")}_createDrawingElement(){return t.console.error("Drawer._createDrawingElement must be implemented by child class"),null}draw(a){t.console.error("Drawer.draw must be implemented by child class")}canRotate(){t.console.error("Drawer.canRotate must be implemented by child class")}destroy(){t.console.error("Drawer.destroy must be implemented by child class")}minimumOverlapRequired(a){return!1}setImageSmoothingEnabled(a){t.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}drawDebuggingRect(a){t.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}clear(){t.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}_checkForAPIOverrides(){if(this._createDrawingElement===t.DrawerBase.prototype._createDrawingElement)throw new Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===t.DrawerBase.prototype.draw)throw new Error("[drawer].draw must be implemented by child class");if(this.canRotate===t.DrawerBase.prototype.canRotate)throw new Error("[drawer].canRotate must be implemented by child class");if(this.destroy===t.DrawerBase.prototype.destroy)throw new Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===t.DrawerBase.prototype.setImageSmoothingEnabled)throw new Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}viewportToDrawerRectangle(a){var u=this.viewport.pixelFromPointNoRotate(a.getTopLeft(),!0),p=this.viewport.deltaPixelsFromPointsNoRotate(a.getSize(),!0);return new t.Rect(u.x*t.pixelDensityRatio,u.y*t.pixelDensityRatio,p.x*t.pixelDensityRatio,p.y*t.pixelDensityRatio)}viewportCoordToDrawerCoord(a){var u=this.viewport.pixelFromPointNoRotate(a,!0);return new t.Point(u.x*t.pixelDensityRatio,u.y*t.pixelDensityRatio)}_calculateCanvasSize(){var a=t.pixelDensityRatio,u=this.viewport.getContainerSize();return new r.Point(Math.round(u.x*a),Math.round(u.y*a))}_raiseTiledImageDrawnEvent(a,u){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:a,tiles:u})}_raiseDrawerErrorEvent(a,u){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:a,drawer:this,error:u})}}}(g),function(t){const r=t;class l extends r.DrawerBase{constructor(u){super(u),this.viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),this.viewer.allowEventHandler("tile-drawn")}static isSupported(){return!0}getType(){return"html"}minimumOverlapRequired(u){return!0}_createDrawingElement(){return t.makeNeutralElement("div")}draw(u){var p=this;this._prepareNewFrame(),u.forEach(function(h){h.opacity!==0&&p._drawTiles(h)})}canRotate(){return!1}destroy(){this.container.removeChild(this.canvas)}setImageSmoothingEnabled(){}_prepareNewFrame(){this.canvas.innerHTML=""}_drawTiles(u){var p=u.getTilesToDraw().map(v=>v.tile);if(!(u.opacity===0||p.length===0&&!u.placeholderFillStyle))for(var h=p.length-1;h>=0;h--){var f=p[h];this._drawTile(f),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:u,tile:f})}}_drawTile(u){t.console.assert(u,"[Drawer._drawTile] tile is required");let p=this.canvas;if(!u.cacheImageRecord){t.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",u.toString());return}if(!u.loaded){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",u.toString());return}if(!u.element){var h=u.getImage();if(!h)return;u.element=t.makeNeutralElement("div"),u.imgElement=h.cloneNode(),u.imgElement.style.msInterpolationMode="nearest-neighbor",u.imgElement.style.width="100%",u.imgElement.style.height="100%",u.style=u.element.style,u.style.position="absolute"}u.element.parentNode!==p&&p.appendChild(u.element),u.imgElement.parentNode!==u.element&&u.element.appendChild(u.imgElement),u.style.top=u.position.y+"px",u.style.left=u.position.x+"px",u.style.height=u.size.y+"px",u.style.width=u.size.x+"px",u.flipped&&(u.style.transform="scaleX(-1)"),t.setElementOpacity(u.element,u.opacity)}}t.HTMLDrawer=l}(g),function(t){const r=t;class l extends r.DrawerBase{constructor(v){super(v),this.context=this.canvas.getContext("2d"),this.sketchCanvas=null,this.sketchContext=null,this._imageSmoothingEnabled=!0,this.viewer.allowEventHandler("tile-drawn"),this.viewer.allowEventHandler("tile-drawing")}static isSupported(){return t.supportsCanvas}getType(){return"canvas"}_createDrawingElement(){let v=t.makeNeutralElement("canvas"),w=this._calculateCanvasSize();return v.width=w.x,v.height=w.y,v}draw(v){this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip();for(const w of v)w.opacity!==0&&this._drawTiles(w)}canRotate(){return!0}destroy(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}minimumOverlapRequired(v){return!0}setImageSmoothingEnabled(v){this._imageSmoothingEnabled=!!v,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}drawDebuggingRect(v){var w=this.context;w.save(),w.lineWidth=2*t.pixelDensityRatio,w.strokeStyle=this.debugGridColor[0],w.fillStyle=this.debugGridColor[0],w.strokeRect(v.x*t.pixelDensityRatio,v.y*t.pixelDensityRatio,v.width*t.pixelDensityRatio,v.height*t.pixelDensityRatio),w.restore()}get _viewportFlipped(){return this.context.getTransform().a<0}_raiseTileDrawingEvent(v,w,T,R){this.viewer.raiseEvent("tile-drawing",{tiledImage:v,context:w,tile:T,rendered:R})}_prepareNewFrame(){var v=this._calculateCanvasSize();if((this.canvas.width!==v.x||this.canvas.height!==v.y)&&(this.canvas.width=v.x,this.canvas.height=v.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var w=this._calculateSketchCanvasSize();this.sketchCanvas.width=w.x,this.sketchCanvas.height=w.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}_clear(v,w){var T=this._getContext(v);if(w)T.clearRect(w.x,w.y,w.width,w.height);else{var R=T.canvas;T.clearRect(0,0,R.width,R.height)}}_drawTiles(v){var w=v.getTilesToDraw().map(ce=>ce.tile);if(!(v.opacity===0||w.length===0&&!v.placeholderFillStyle)){var T=w[0],R;T&&(R=v.opacity<1||v.compositeOperation&&v.compositeOperation!=="source-over"||!v._isBottomItem()&&v.source.hasTransparency(T.context2D,T.getUrl(),T.ajaxHeaders,T.postData));var L,D,F=this.viewport.getZoom(!0),z=v.viewportToImageZoom(F);w.length>1&&z>v.smoothTileEdgesMinZoom&&!v.iOSDevice&&v.getRotation(!0)%360===0&&(R=!0,L=T.getScaleForEdgeSmoothing(),D=T.getTranslationForEdgeSmoothing(L,this._getCanvasSize(!1),this._getCanvasSize(!0)));var q;R&&(L||(q=this.viewport.viewportToViewerElementRectangle(v.getClippedBounds(!0)).getIntegerBoundingBox(),q=q.times(t.pixelDensityRatio)),this._clear(!0,q)),L||this._setRotations(v,R);var ee=!1;if(v._clip){this._saveContext(R);var Le=v.imageToViewportRectangle(v._clip,!0);Le=Le.rotate(-v.getRotation(!0),v._getRotationPoint(!0));var Se=this.viewportToDrawerRectangle(Le);L&&(Se=Se.times(L)),D&&(Se=Se.translate(D)),this._setClip(Se,R),ee=!0}if(v._croppingPolygons){var Z=this;ee||this._saveContext(R);try{var we=v._croppingPolygons.map(function(ce){return ce.map(function(Fe){var Ge=v.imageToViewportCoordinates(Fe.x,Fe.y,!0).rotate(-v.getRotation(!0),v._getRotationPoint(!0)),yt=Z.viewportCoordToDrawerCoord(Ge);return L&&(yt=yt.times(L)),D&&(yt=yt.plus(D)),yt})});this._clipWithPolygons(we,R)}catch(ce){t.console.error(ce)}ee=!0}if(v._hasOpaqueTile=!1,v.placeholderFillStyle&&v._hasOpaqueTile===!1){let ce=this.viewportToDrawerRectangle(v.getBoundsNoRotate(!0));L&&(ce=ce.times(L)),D&&(ce=ce.translate(D));let Fe=null;typeof v.placeholderFillStyle=="function"?Fe=v.placeholderFillStyle(v,this.context):Fe=v.placeholderFillStyle,this._drawRectangle(ce,Fe,R)}var N=h(v.subPixelRoundingForTransparency),U=!1;if(N===t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)U=!0;else if(N===t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var te=this.viewer&&this.viewer.isAnimating();U=!te}for(var ve=0;ve<w.length;ve++)T=w[ve],this._drawTile(T,v,R,L,D,U,v.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:v,tile:T});ee&&this._restoreContext(R),L||(v.getRotation(!0)%360!==0&&this._restoreRotationChanges(R),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(R)),R&&(L&&this._setRotations(v),this.blendSketch({opacity:v.opacity,scale:L,translate:D,compositeOperation:v.compositeOperation,bounds:q}),L&&(v.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(v,w),this._raiseTiledImageDrawnEvent(v,w)}}_drawDebugInfo(v,w){if(v.debugMode)for(var T=w.length-1;T>=0;T--){var R=w[T];try{this._drawDebugInfoOnTile(R,w.length,T,v)}catch(L){t.console.error(L)}}}_clipWithPolygons(v,w){var T=this._getContext(w);T.beginPath();for(const R of v)for(const[L,D]of R.entries())T[L===0?"moveTo":"lineTo"](D.x,D.y);T.clip()}_drawTile(v,w,T,R,L,D,F){t.console.assert(v,"[Drawer._drawTile] tile is required"),t.console.assert(w,"[Drawer._drawTile] drawingHandler is required");var z=this._getContext(T);R=R||1,this._drawTileToCanvas(v,z,w,R,L,D,F)}_drawTileToCanvas(v,w,T,R,L,D,F){var z=v.position.times(t.pixelDensityRatio),q=v.size.times(t.pixelDensityRatio),ee;if(!v.context2D&&!v.cacheImageRecord){t.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",v.toString());return}if(ee=v.getCanvasContext(),!v.loaded||!ee){t.console.warn("Attempting to draw tile %s when it's not yet loaded.",v.toString());return}w.save(),typeof R=="number"&&R!==1&&(z=z.times(R),q=q.times(R)),L instanceof t.Point&&(z=z.plus(L)),w.globalAlpha===1&&v.hasTransparency&&(D&&(z.x=Math.round(z.x),z.y=Math.round(z.y),q.x=Math.round(q.x),q.y=Math.round(q.y)),w.clearRect(z.x,z.y,q.x,q.y)),this._raiseTileDrawingEvent(T,w,v,ee);var Le,Se;v.sourceBounds?(Le=Math.min(v.sourceBounds.width,ee.canvas.width),Se=Math.min(v.sourceBounds.height,ee.canvas.height)):(Le=ee.canvas.width,Se=ee.canvas.height),w.translate(z.x+q.x/2,0),v.flipped&&w.scale(-1,1),w.drawImage(ee.canvas,0,0,Le,Se,-q.x/2,z.y,q.x,q.y),w.restore()}_getContext(v){var w=this.context;if(v){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var T=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=T.x,this.sketchCanvas.height=T.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var R=this;this.viewer.addHandler("rotate",function L(){if(R.viewport.getRotation()!==0){R.viewer.removeHandler("rotate",L);var D=R._calculateSketchCanvasSize();R.sketchCanvas.width=D.x,R.sketchCanvas.height=D.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}w=this.sketchContext}return w}_saveContext(v){this._getContext(v).save()}_restoreContext(v){this._getContext(v).restore()}_setClip(v,w){var T=this._getContext(w);T.beginPath(),T.rect(v.x,v.y,v.width,v.height),T.clip()}_drawRectangle(v,w,T){var R=this._getContext(T);R.save(),R.fillStyle=w,R.fillRect(v.x,v.y,v.width,v.height),R.restore()}blendSketch(v,w,T,R){var L=v;t.isPlainObject(L)||(L={opacity:v,scale:w,translate:T,compositeOperation:R}),v=L.opacity,R=L.compositeOperation;var D=L.bounds;if(this.context.save(),this.context.globalAlpha=v,R&&(this.context.globalCompositeOperation=R),D)D.x<0&&(D.width+=D.x,D.x=0),D.x+D.width>this.canvas.width&&(D.width=this.canvas.width-D.x),D.y<0&&(D.height+=D.y,D.y=0),D.y+D.height>this.canvas.height&&(D.height=this.canvas.height-D.y),this.context.drawImage(this.sketchCanvas,D.x,D.y,D.width,D.height,D.x,D.y,D.width,D.height);else{w=L.scale||1,T=L.translate;var F=T instanceof t.Point?T:new t.Point(0,0),z=0,q=0;if(T){var ee=this.sketchCanvas.width-this.canvas.width,Le=this.sketchCanvas.height-this.canvas.height;z=Math.round(ee/2),q=Math.round(Le/2)}this.context.drawImage(this.sketchCanvas,F.x-z*w,F.y-q*w,(this.canvas.width+2*z)*w,(this.canvas.height+2*q)*w,-z,-q,this.canvas.width+2*z,this.canvas.height+2*q)}this.context.restore()}_drawDebugInfoOnTile(v,w,T,R){var L=this.viewer.world.getIndexOfItem(R)%this.debugGridColor.length,D=this.context;D.save(),D.lineWidth=2*t.pixelDensityRatio,D.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",D.strokeStyle=this.debugGridColor[L],D.fillStyle=this.debugGridColor[L],this._setRotations(R),this._viewportFlipped&&this._flip({point:v.position.plus(v.size.divide(2))}),D.strokeRect(v.position.x*t.pixelDensityRatio,v.position.y*t.pixelDensityRatio,v.size.x*t.pixelDensityRatio,v.size.y*t.pixelDensityRatio);var F=(v.position.x+v.size.x/2)*t.pixelDensityRatio,z=(v.position.y+v.size.y/2)*t.pixelDensityRatio;D.translate(F,z);const q=this.viewport.getRotation(!0);D.rotate(Math.PI/180*-q),D.translate(-F,-z),v.x===0&&v.y===0&&(D.fillText("Zoom: "+this.viewport.getZoom(),v.position.x*t.pixelDensityRatio,(v.position.y-30)*t.pixelDensityRatio),D.fillText("Pan: "+this.viewport.getBounds().toString(),v.position.x*t.pixelDensityRatio,(v.position.y-20)*t.pixelDensityRatio)),D.fillText("Level: "+v.level,(v.position.x+10)*t.pixelDensityRatio,(v.position.y+20)*t.pixelDensityRatio),D.fillText("Column: "+v.x,(v.position.x+10)*t.pixelDensityRatio,(v.position.y+30)*t.pixelDensityRatio),D.fillText("Row: "+v.y,(v.position.x+10)*t.pixelDensityRatio,(v.position.y+40)*t.pixelDensityRatio),D.fillText("Order: "+T+" of "+w,(v.position.x+10)*t.pixelDensityRatio,(v.position.y+50)*t.pixelDensityRatio),D.fillText("Size: "+v.size.toString(),(v.position.x+10)*t.pixelDensityRatio,(v.position.y+60)*t.pixelDensityRatio),D.fillText("Position: "+v.position.toString(),(v.position.x+10)*t.pixelDensityRatio,(v.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),R.getRotation(!0)%360!==0&&this._restoreRotationChanges(),D.restore()}_updateImageSmoothingEnabled(v){v.msImageSmoothingEnabled=this._imageSmoothingEnabled,v.imageSmoothingEnabled=this._imageSmoothingEnabled}_getCanvasSize(v){var w=this._getContext(v).canvas;return new t.Point(w.width,w.height)}_getCanvasCenter(){return new t.Point(this.canvas.width/2,this.canvas.height/2)}_setRotations(v,w=!1){var T=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:w,saveContext:T}),T=!1),v.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:v.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(v._getRotationPoint(!0),!0),useSketch:w,saveContext:T})}_offsetForRotation(v){var w=v.point?v.point.times(t.pixelDensityRatio):this._getCanvasCenter(),T=this._getContext(v.useSketch);T.save(),T.translate(w.x,w.y),T.rotate(Math.PI/180*v.degrees),T.translate(-w.x,-w.y)}_flip(v){v=v||{};var w=v.point?v.point.times(t.pixelDensityRatio):this._getCanvasCenter(),T=this._getContext(v.useSketch);T.translate(w.x,0),T.scale(-1,1),T.translate(-w.x,0)}_restoreRotationChanges(v){var w=this._getContext(v);w.restore()}_calculateCanvasSize(){var v=t.pixelDensityRatio,w=this.viewport.getContainerSize();return{x:Math.round(w.x*v),y:Math.round(w.y*v)}}_calculateSketchCanvasSize(){var v=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return v;var w=Math.ceil(Math.sqrt(v.x*v.x+v.y*v.y));return{x:w,y:w}}}t.CanvasDrawer=l;var a=t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function u(f){return f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&f!==t.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function p(f){return u(f)?a:f}function h(f){if(typeof f=="number")return p(f);if(!f||!t.Browser)return a;var v=f[t.Browser.vendor];return u(v)&&(v=f["*"]),p(v)}}(g),function(t){const r=t;r.WebGLDrawer=class extends r.DrawerBase{constructor(a){super(a),this._destroyed=!1,this._TextureMap=new Map,this._TileMap=new Map,this._gl=null,this._firstPass=null,this._secondPass=null,this._glFrameBuffer=null,this._renderToTexture=null,this._glFramebufferToCanvasTransform=null,this._outputCanvas=null,this._outputContext=null,this._clippingCanvas=null,this._clippingContext=null,this._renderingCanvas=null,this._backupCanvasDrawer=null,this._imageSmoothingEnabled=!0,this._boundToTileReady=u=>this._tileReadyHandler(u),this._boundToImageUnloaded=u=>this._imageUnloadedHandler(u),this.viewer.addHandler("tile-ready",this._boundToTileReady),this.viewer.addHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),this.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),this._setupCanvases(),this._setupRenderer(),this.context=this._outputContext}destroy(){if(this._destroyed)return;let a=this._gl;var u=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);for(let h=0;h<u;++h)a.activeTexture(a.TEXTURE0+h),a.bindTexture(a.TEXTURE_2D,null),a.bindTexture(a.TEXTURE_CUBE_MAP,null);a.bindBuffer(a.ARRAY_BUFFER,null),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null),a.bindRenderbuffer(a.RENDERBUFFER,null),a.bindFramebuffer(a.FRAMEBUFFER,null),this._unloadTextures(),a.deleteBuffer(this._secondPass.bufferOutputPosition),a.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;let p=a.getExtension("WEBGL_lose_context");p&&p.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.removeHandler("resize",this._resizeHandler),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}canRotate(){return!0}static isSupported(){let a=document.createElement("canvas"),u=t.isFunction(a.getContext)&&a.getContext("webgl"),p=u&&u.getExtension("WEBGL_lose_context");return p&&p.loseContext(),!!u}getType(){return"webgl"}minimumOverlapRequired(a){return a.isTainted()}_createDrawingElement(){let a=t.makeNeutralElement("canvas"),u=this._calculateCanvasSize();return a.width=u.x,a.height=u.y,a}_getBackupCanvasDrawer(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}draw(a){let u=this._gl;const p=this.viewport.getBoundsNoRotateWithMargins(!0);let h={bounds:p,center:new r.Point(p.x+p.width/2,p.y+p.height/2),rotation:this.viewport.getRotation(!0)*Math.PI/180},f=this.viewport.flipped?-1:1,v=t.Mat3.makeTranslation(-h.center.x,-h.center.y),w=t.Mat3.makeScaling(2/h.bounds.width*f,-2/h.bounds.height),T=t.Mat3.makeRotation(-h.rotation),R=w.multiply(T).multiply(v);u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);let L=!1;a.forEach((D,F)=>{if(D.isTainted()){L&&(this._outputContext.drawImage(this._renderingCanvas,0,0),u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT),L=!1);const z=this._getBackupCanvasDrawer();z.draw([D]),this._outputContext.drawImage(z.canvas,0,0)}else{let z=D.getTilesToDraw();if(D.placeholderFillStyle&&D._hasOpaqueTile===!1&&this._drawPlaceholder(D),z.length===0||D.getOpacity()===0)return;let q=z[0],ee=D.compositeOperation||this.viewer.compositeOperation||D._clip||D._croppingPolygons||D.debugMode,Le=ee||D.opacity<1||q.hasTransparency;ee&&(L&&this._outputContext.drawImage(this._renderingCanvas,0,0),u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT)),u.useProgram(this._firstPass.shaderProgram),Le?(u.bindFramebuffer(u.FRAMEBUFFER,this._glFrameBuffer),u.clear(u.COLOR_BUFFER_BIT)):u.bindFramebuffer(u.FRAMEBUFFER,null);let Se=R,Z=D.getRotation(!0);if(Z%360!==0){let ce=t.Mat3.makeRotation(-Z*Math.PI/180),Fe=D.getBoundsNoRotate(!0).getCenter(),Ge=t.Mat3.makeTranslation(Fe.x,Fe.y),yt=t.Mat3.makeTranslation(-Fe.x,-Fe.y),dt=Ge.multiply(ce).multiply(yt);Se=R.multiply(dt)}let we=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);if(we<=0)throw new Error(`WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (${we}). This could happen
                        if too many contexts have been created and not released, or there is another problem with the graphics card.`);let N=new Float32Array(we*12),U=new Array(we),te=new Array(we),ve=new Array(we);for(let ce=0;ce<z.length;ce++){let Fe=z[ce].tile,Ge=ce%we,yt=Ge+1,dt=Fe.getCanvasContext(),Oe=dt?this._TextureMap.get(dt.canvas):null;if(Oe||(this._tileReadyHandler({tile:Fe,tiledImage:D}),Oe=dt?this._TextureMap.get(dt.canvas):null),Oe&&this._getTileData(Fe,D,Oe,Se,Ge,N,U,te,ve),yt===we||ce===z.length-1){for(let pe=0;pe<=yt;pe++)u.activeTexture(u.TEXTURE0+pe),u.bindTexture(u.TEXTURE_2D,U[pe]);u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),u.bufferData(u.ARRAY_BUFFER,N,u.DYNAMIC_DRAW),te.forEach((pe,ye)=>{u.uniformMatrix3fv(this._firstPass.uTransformMatrices[ye],!1,pe)}),u.uniform1fv(this._firstPass.uOpacities,new Float32Array(ve)),u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),u.vertexAttribPointer(this._firstPass.aOutputPosition,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),u.vertexAttribPointer(this._firstPass.aTexturePosition,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this._firstPass.bufferIndex),u.vertexAttribPointer(this._firstPass.aIndex,1,u.FLOAT,!1,0,0),u.drawArrays(u.TRIANGLES,0,6*yt)}}Le&&(u.useProgram(this._secondPass.shaderProgram),u.bindFramebuffer(u.FRAMEBUFFER,null),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,this._renderToTexture),this._gl.uniform1f(this._secondPass.uOpacityMultiplier,D.opacity),u.bindBuffer(u.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),u.vertexAttribPointer(this._secondPass.aTexturePosition,2,u.FLOAT,!1,0,0),u.bindBuffer(u.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),u.vertexAttribPointer(this._secondPass.aOutputPosition,2,u.FLOAT,!1,0,0),u.drawArrays(u.TRIANGLES,0,6)),L=!0,ee&&(this._applyContext2dPipeline(D,z,F),L=!1,u.bindFramebuffer(u.FRAMEBUFFER,null),u.clear(u.COLOR_BUFFER_BIT)),F===0&&this._raiseTiledImageDrawnEvent(D,z.map(ce=>ce.tile))}}),L&&this._outputContext.drawImage(this._renderingCanvas,0,0)}setImageSmoothingEnabled(a){this._imageSmoothingEnabled!==a&&(this._imageSmoothingEnabled=a,this._unloadTextures(),this.viewer.world.draw())}drawDebuggingRect(a){let u=this._outputContext;u.save(),u.lineWidth=2*t.pixelDensityRatio,u.strokeStyle=this.debugGridColor[0],u.fillStyle=this.debugGridColor[0],u.strokeRect(a.x*t.pixelDensityRatio,a.y*t.pixelDensityRatio,a.width*t.pixelDensityRatio,a.height*t.pixelDensityRatio),u.restore()}_getTextureDataFromTile(a){return a.getCanvasContext().canvas}_applyContext2dPipeline(a,u,p){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=p===0?null:a.compositeOperation||this.viewer.compositeOperation,a._croppingPolygons||a._clip?(this._renderToClippingCanvas(a),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),a.debugMode){const h=this.viewer.viewport.getFlip();h&&this._flip(),this._drawDebugInfo(u,a,h),h&&this._flip()}}_getTileData(a,u,p,h,f,v,w,T,R){let L=p.texture,D=p.position;v.set(D,f*12);let F=this._calculateOverlapFraction(a,u),z=a.positionedBounds.width*F.x,q=a.positionedBounds.height*F.y,ee=a.positionedBounds.x+(a.x===0?0:z),Le=a.positionedBounds.y+(a.y===0?0:q),Se=a.positionedBounds.x+a.positionedBounds.width-(a.isRightMost?0:z),Z=a.positionedBounds.y+a.positionedBounds.height-(a.isBottomMost?0:q),we=Se-ee,N=Z-Le,U=new t.Mat3([we,0,0,0,N,0,ee,Le,1]);if(a.flipped){let ve=t.Mat3.makeTranslation(.5,0),ce=t.Mat3.makeTranslation(-.5,0),Fe=ve.multiply(t.Mat3.makeScaling(-1,1)).multiply(ce);U=U.multiply(Fe)}let te=h.multiply(U);R[f]=a.opacity,w[f]=L,T[f]=te.values}_textureFilter(){return this._imageSmoothingEnabled?this._gl.LINEAR:this._gl.NEAREST}_setupRenderer(){let a=this._gl;a||t.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=a.createTexture(),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,this._renderToTexture),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,a.RGBA,a.UNSIGNED_BYTE,null),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this._textureFilter()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),this._glFrameBuffer=a.createFramebuffer(),a.bindFramebuffer(a.FRAMEBUFFER,this._glFrameBuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this._renderToTexture,0),a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA)}_makeFirstPassShaderProgram(){let a=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),u=()=>[...Array(a).keys()].map(L=>`uniform mat3 u_matrix_${L};`).join(`
`),p=()=>[...Array(a).keys()].map(L=>`${L>0?"else ":""}if(int(a_index) == ${L}) { transform_matrix = u_matrix_${L}; }`).join(`
`);const h=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;
            attribute float a_index;

            ${u()} // create a uniform mat3 for each potential tile to draw

            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {

                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()

                ${p()}

                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
                v_image_index = a_index;
            }
            `,f=`
            precision mediump float;

            // our textures
            uniform sampler2D u_images[${a}];
            // our opacities
            uniform float u_opacities[${a}];

            // the varyings passed in from the vertex shader.
            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {
                // can't index directly with a variable, need to use a loop iterator hack
                for(int i = 0; i < ${a}; ++i){
                    if(i == int(v_image_index)){
                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];
                    }
                }
            }
            `;let v=this._gl,w=this.constructor.initShaderProgram(v,h,f);v.useProgram(w),this._firstPass={shaderProgram:w,aOutputPosition:v.getAttribLocation(w,"a_output_position"),aTexturePosition:v.getAttribLocation(w,"a_texture_position"),aIndex:v.getAttribLocation(w,"a_index"),uTransformMatrices:[...Array(this._glNumTextures).keys()].map(L=>v.getUniformLocation(w,`u_matrix_${L}`)),uImages:v.getUniformLocation(w,"u_images"),uOpacities:v.getUniformLocation(w,"u_opacities"),bufferOutputPosition:v.createBuffer(),bufferTexturePosition:v.createBuffer(),bufferIndex:v.createBuffer()},v.uniform1iv(this._firstPass.uImages,[...Array(a).keys()]);let T=new Float32Array(a*12);for(let L=0;L<a;++L)T.set(Float32Array.from(this._unitQuad),L*12);v.bindBuffer(v.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),v.bufferData(v.ARRAY_BUFFER,T,v.STATIC_DRAW),v.enableVertexAttribArray(this._firstPass.aOutputPosition),v.bindBuffer(v.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),v.enableVertexAttribArray(this._firstPass.aTexturePosition),v.bindBuffer(v.ARRAY_BUFFER,this._firstPass.bufferIndex);let R=[...Array(this._glNumTextures).keys()].map(L=>Array(6).fill(L)).flat();v.bufferData(v.ARRAY_BUFFER,new Float32Array(R),v.STATIC_DRAW),v.enableVertexAttribArray(this._firstPass.aIndex)}_makeSecondPassShaderProgram(){const a=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;

            uniform mat3 u_matrix;

            varying vec2 v_texture_position;

            void main() {
                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
            }
            `,u=`
            precision mediump float;

            // our texture
            uniform sampler2D u_image;

            // the texCoords passed in from the vertex shader.
            varying vec2 v_texture_position;

            // the opacity multiplier for the image
            uniform float u_opacity_multiplier;

            void main() {
                gl_FragColor = texture2D(u_image, v_texture_position);
                gl_FragColor *= u_opacity_multiplier;
            }
            `;let p=this._gl,h=this.constructor.initShaderProgram(p,a,u);p.useProgram(h),this._secondPass={shaderProgram:h,aOutputPosition:p.getAttribLocation(h,"a_output_position"),aTexturePosition:p.getAttribLocation(h,"a_texture_position"),uMatrix:p.getUniformLocation(h,"u_matrix"),uImage:p.getUniformLocation(h,"u_image"),uOpacityMultiplier:p.getUniformLocation(h,"u_opacity_multiplier"),bufferOutputPosition:p.createBuffer(),bufferTexturePosition:p.createBuffer()},p.bindBuffer(p.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),p.bufferData(p.ARRAY_BUFFER,this._unitQuad,p.STATIC_DRAW),p.enableVertexAttribArray(this._secondPass.aOutputPosition),p.bindBuffer(p.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),p.bufferData(p.ARRAY_BUFFER,this._unitQuad,p.DYNAMIC_DRAW),p.enableVertexAttribArray(this._secondPass.aTexturePosition);let f=t.Mat3.makeScaling(2,2).multiply(t.Mat3.makeTranslation(-.5,-.5));p.uniformMatrix3fv(this._secondPass.uMatrix,!1,f.values)}_resizeRenderer(){let a=this._gl,u=this._renderingCanvas.width,p=this._renderingCanvas.height;a.viewport(0,0,u,p),a.deleteTexture(this._renderToTexture),this._renderToTexture=a.createTexture(),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,this._renderToTexture),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,u,p,0,a.RGBA,a.UNSIGNED_BYTE,null),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,this._textureFilter()),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.bindFramebuffer(a.FRAMEBUFFER,this._glFrameBuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this._renderToTexture,0)}_setupCanvases(){let a=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this._resizeHandler=function(){a._outputCanvas!==a.viewer.drawer.canvas&&(a._outputCanvas.style.width=a.viewer.drawer.canvas.clientWidth+"px",a._outputCanvas.style.height=a.viewer.drawer.canvas.clientHeight+"px");let u=a._calculateCanvasSize();(a._outputCanvas.width!==u.x||a._outputCanvas.height!==u.y)&&(a._outputCanvas.width=u.x,a._outputCanvas.height=u.y),a._renderingCanvas.style.width=a._outputCanvas.clientWidth+"px",a._renderingCanvas.style.height=a._outputCanvas.clientHeight+"px",a._renderingCanvas.width=a._clippingCanvas.width=a._outputCanvas.width,a._renderingCanvas.height=a._clippingCanvas.height=a._outputCanvas.height,a._resizeRenderer()},this.viewer.addHandler("resize",this._resizeHandler)}_makeQuadVertexBuffer(a,u,p,h){return new Float32Array([a,h,u,h,a,p,a,p,u,h,u,p])}_tileReadyHandler(a){let u=a.tile,p=a.tiledImage;if(p.isTainted())return;let h=u.getCanvasContext(),f=h&&h.canvas;if(!f||t.isCanvasTainted(f)){p.isTainted()||(p.setTainted(!0),t.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(p,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage."));return}if(!this._TextureMap.get(f)){let w=this._gl,T=w.createTexture(),R,L=p.source.tileOverlap,D,F;if(u.sourceBounds?(D=Math.min(u.sourceBounds.width,f.width)/f.width,F=Math.min(u.sourceBounds.height,f.height)/f.height):(D=1,F=1),L>0){let q=this._calculateOverlapFraction(u,p),ee=(u.x===0?0:q.x)*D,Le=(u.y===0?0:q.y)*F,Se=(u.isRightMost?1:1-q.x)*D,Z=(u.isBottomMost?1:1-q.y)*F;R=this._makeQuadVertexBuffer(ee,Se,Le,Z)}else D===1&&F===1?R=this._unitQuad:R=this._makeQuadVertexBuffer(0,D,0,F);let z={texture:T,position:R};this._TextureMap.set(f,z),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,T),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,this._textureFilter()),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,this._textureFilter()),this._uploadImageData(h)}}_calculateOverlapFraction(a,u){let p=u.source.tileOverlap,h=a.sourceBounds.width,f=a.sourceBounds.height,v=(a.x===0?0:p)+(a.isRightMost?0:p),w=(a.y===0?0:p)+(a.isBottomMost?0:p),T=p/(h+v),R=p/(f+w);return{x:T,y:R}}_unloadTextures(){Array.from(this._TextureMap.keys()).forEach(u=>{this._cleanupImageData(u)})}_uploadImageData(a){let u=this._gl,p=a.canvas;try{if(!p)throw a;u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,p)}catch(h){t.console.error("Error uploading image data to WebGL",h)}}_imageUnloadedHandler(a){let u=a.context2D.canvas;this._cleanupImageData(u)}_cleanupImageData(a){let u=this._TextureMap.get(a);this._TextureMap.delete(a),u&&this._gl.deleteTexture(u.texture)}_setClip(){}_renderToClippingCanvas(a){if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){const u=new t.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(u.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-u.x,0)}if(a._clip){let p=[{x:a._clip.x,y:a._clip.y},{x:a._clip.x+a._clip.width,y:a._clip.y},{x:a._clip.x+a._clip.width,y:a._clip.y+a._clip.height},{x:a._clip.x,y:a._clip.y+a._clip.height}].map(h=>{let f=a.imageToViewportCoordinates(h.x,h.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(f)});this._clippingContext.beginPath(),p.forEach((h,f)=>{this._clippingContext[f===0?"moveTo":"lineTo"](h.x,h.y)}),this._clippingContext.clip(),this._setClip()}if(a._croppingPolygons){let u=a._croppingPolygons.map(p=>p.map(h=>{let f=a.imageToViewportCoordinates(h.x,h.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(f)}));this._clippingContext.beginPath(),u.forEach(p=>{p.forEach((h,f)=>{this._clippingContext[f===0?"moveTo":"lineTo"](h.x,h.y)})}),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){const u=new t.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(u.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-u.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}_setRotations(a){var u=!1;this.viewport.getRotation(!0)%360!==0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:u}),u=!1),a.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:a.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(a._getRotationPoint(!0),!0),saveContext:u})}_offsetForRotation(a){var u=a.point?a.point.times(t.pixelDensityRatio):this._getCanvasCenter(),p=this._outputContext;p.save(),p.translate(u.x,u.y),p.rotate(Math.PI/180*a.degrees),p.translate(-u.x,-u.y)}_flip(a){a=a||{};var u=a.point?a.point.times(t.pixelDensityRatio):this._getCanvasCenter(),p=this._outputContext;p.translate(u.x,0),p.scale(-1,1),p.translate(-u.x,0)}_drawDebugInfo(a,u,p){for(var h=a.length-1;h>=0;h--){var f=a[h].tile;try{this._drawDebugInfoOnTile(f,a.length,h,u,p)}catch(v){t.console.error(v)}}}_drawDebugInfoOnTile(a,u,p,h,f){var v=this.viewer.world.getIndexOfItem(h)%this.debugGridColor.length,w=this.context;w.save(),w.lineWidth=2*t.pixelDensityRatio,w.font="small-caps bold "+13*t.pixelDensityRatio+"px arial",w.strokeStyle=this.debugGridColor[v],w.fillStyle=this.debugGridColor[v],this._setRotations(h),f&&this._flip({point:a.position.plus(a.size.divide(2))}),w.strokeRect(a.position.x*t.pixelDensityRatio,a.position.y*t.pixelDensityRatio,a.size.x*t.pixelDensityRatio,a.size.y*t.pixelDensityRatio);var T=(a.position.x+a.size.x/2)*t.pixelDensityRatio,R=(a.position.y+a.size.y/2)*t.pixelDensityRatio;w.translate(T,R);const L=this.viewport.getRotation(!0);w.rotate(Math.PI/180*-L),w.translate(-T,-R),a.x===0&&a.y===0&&(w.fillText("Zoom: "+this.viewport.getZoom(),a.position.x*t.pixelDensityRatio,(a.position.y-30)*t.pixelDensityRatio),w.fillText("Pan: "+this.viewport.getBounds().toString(),a.position.x*t.pixelDensityRatio,(a.position.y-20)*t.pixelDensityRatio)),w.fillText("Level: "+a.level,(a.position.x+10)*t.pixelDensityRatio,(a.position.y+20)*t.pixelDensityRatio),w.fillText("Column: "+a.x,(a.position.x+10)*t.pixelDensityRatio,(a.position.y+30)*t.pixelDensityRatio),w.fillText("Row: "+a.y,(a.position.x+10)*t.pixelDensityRatio,(a.position.y+40)*t.pixelDensityRatio),w.fillText("Order: "+p+" of "+u,(a.position.x+10)*t.pixelDensityRatio,(a.position.y+50)*t.pixelDensityRatio),w.fillText("Size: "+a.size.toString(),(a.position.x+10)*t.pixelDensityRatio,(a.position.y+60)*t.pixelDensityRatio),w.fillText("Position: "+a.position.toString(),(a.position.x+10)*t.pixelDensityRatio,(a.position.y+70)*t.pixelDensityRatio),this.viewport.getRotation(!0)%360!==0&&this._restoreRotationChanges(),h.getRotation(!0)%360!==0&&this._restoreRotationChanges(),w.restore()}_drawPlaceholder(a){const u=a.getBounds(!0),p=this.viewportToDrawerRectangle(a.getBounds(!0)),h=this._outputContext;let f;typeof a.placeholderFillStyle=="function"?f=a.placeholderFillStyle(a,h):f=a.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),h.fillStyle=f,h.translate(p.x,p.y),h.rotate(Math.PI/180*u.degrees),h.translate(-p.x,-p.y),h.fillRect(p.x,p.y,p.width,p.height),this._restoreRotationChanges()}_getCanvasCenter(){return new t.Point(this.canvas.width/2,this.canvas.height/2)}_restoreRotationChanges(){var a=this._outputContext;a.restore()}static initShaderProgram(a,u,p){function h(T,R,L){const D=T.createShader(R);return T.shaderSource(D,L),T.compileShader(D),T.getShaderParameter(D,T.COMPILE_STATUS)?D:(t.console.error(`An error occurred compiling the shaders: ${T.getShaderInfoLog(D)}`),T.deleteShader(D),null)}const f=h(a,a.VERTEX_SHADER,u),v=h(a,a.FRAGMENT_SHADER,p),w=a.createProgram();return a.attachShader(w,f),a.attachShader(w,v),a.linkProgram(w),a.getProgramParameter(w,a.LINK_STATUS)?w:(t.console.error(`Unable to initialize the shader program: ${a.getProgramInfoLog(w)}`),null)}}}(g),function(t){t.Viewport=function(r){var l=arguments;l.length&&l[0]instanceof t.Point&&(r={containerSize:l[0],contentSize:l[1],config:l[2]}),r.config&&(t.extend(!0,r,r.config),delete r.config),this._margins=t.extend({left:0,top:0,right:0,bottom:0},r.margins||{}),delete r.margins,r.initialDegrees=r.degrees,delete r.degrees,t.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:t.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:t.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:t.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:t.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:t.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:t.DEFAULT_SETTINGS.degrees,flipped:t.DEFAULT_SETTINGS.flipped,homeFillsViewer:t.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:t.DEFAULT_SETTINGS.silenceMultiImageWarnings},r),this._updateContainerInnerSize(),this.centerSpringX=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new t.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new t.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new t.Spring({initial:r.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new t.Rect(0,0,1,1),1),this.goHome(!0),this.update()},t.Viewport.prototype={get degrees(){return t.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(r){t.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(r)},resetContentSize:function(r){return t.console.assert(r,"[Viewport.resetContentSize] contentSize is required"),t.console.assert(r instanceof t.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),t.console.assert(r.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),t.console.assert(r.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new t.Rect(0,0,1,r.y/r.x),r.x),this},setHomeBounds:function(r,l){t.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(r,l)},_setContentBounds:function(r,l){t.console.assert(r,"[Viewport._setContentBounds] bounds is required"),t.console.assert(r instanceof t.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),t.console.assert(r.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),t.console.assert(r.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=r.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(l),this._contentBounds=r.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(l),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:l,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var r=this._contentAspectRatio/this.getAspectRatio(),l;return this.homeFillsViewer?l=r>=1?r:1:l=r>=1?1:r,l/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var r=this._contentBounds.getCenter(),l=1/this.getHomeZoom(),a=l/this.getAspectRatio();return new t.Rect(r.x-l/2,r.y-a/2,l,a)},goHome:function(r){return this.viewer&&this.viewer.raiseEvent("home",{immediately:r}),this.fitBounds(this.getHomeBounds(),r)},getMinZoom:function(){var r=this.getHomeZoom(),l=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*r;return l},getMaxZoom:function(){var r=this.maxZoomLevel;return r||(r=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,r/=this._contentBounds.width),Math.max(r,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new t.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return t.extend({},this._margins)},setMargins:function(r){t.console.assert(t.type(r)==="object","[Viewport.setMargins] margins must be an object"),this._margins=t.extend({left:0,top:0,right:0,bottom:0},r),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(r){return this.getBoundsNoRotate(r).rotate(-this.getRotation(r))},getBoundsNoRotate:function(r){var l=this.getCenter(r),a=1/this.getZoom(r),u=a/this.getAspectRatio();return new t.Rect(l.x-a/2,l.y-u/2,a,u)},getBoundsWithMargins:function(r){return this.getBoundsNoRotateWithMargins(r).rotate(-this.getRotation(r),this.getCenter(r))},getBoundsNoRotateWithMargins:function(r){var l=this.getBoundsNoRotate(r),a=this._containerInnerSize.x*this.getZoom(r);return l.x-=this._margins.left/a,l.y-=this._margins.top/a,l.width+=(this._margins.left+this._margins.right)/a,l.height+=(this._margins.top+this._margins.bottom)/a,l},getCenter:function(r){var l=new t.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),a=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),u,p,h,f,v,w,T,R;return r?l:this.zoomPoint?(u=this.pixelFromPoint(this.zoomPoint,!0),p=this.getZoom(),h=1/p,f=h/this.getAspectRatio(),v=new t.Rect(l.x-h/2,l.y-f/2,h,f),w=this._pixelFromPoint(this.zoomPoint,v),T=w.minus(u).rotate(-this.getRotation(!0)),R=T.divide(this._containerInnerSize.x*p),a.plus(R)):a},getZoom:function(r){return r?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(r){return Math.max(Math.min(r,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(r){var l=this.viewportToViewerElementRectangle(r).getBoundingBox(),a=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),u=!1,p=!1;if(!this.wrapHorizontal){var h=l.x+l.width,f=a.x+a.width,v,w,T;l.width>a.width?v=this.visibilityRatio*a.width:v=this.visibilityRatio*l.width,w=a.x-h+v,T=f-l.x-v,v>a.width?(l.x+=(w+T)/2,u=!0):T<0?(l.x+=T,u=!0):w>0&&(l.x+=w,u=!0)}if(!this.wrapVertical){var R=l.y+l.height,L=a.y+a.height,D,F,z;l.height>a.height?D=this.visibilityRatio*a.height:D=this.visibilityRatio*l.height,F=a.y-R+D,z=L-l.y-D,D>a.height?(l.y+=(F+z)/2,p=!0):z<0?(l.y+=z,p=!0):F>0&&(l.y+=F,p=!0)}var q=u||p,ee=q?this.viewerElementToViewportRectangle(l):r.clone();return ee.xConstrained=u,ee.yConstrained=p,ee.constraintApplied=q,ee},_raiseConstraintsEvent:function(r){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:r})},applyConstraints:function(r){var l=this.getZoom(),a=this._applyZoomConstraints(l);l!==a&&this.zoomTo(a,this.zoomPoint,r);var u=this.getConstrainedBounds(!1);return u.constraintApplied&&(this.fitBounds(u,r),this._raiseConstraintsEvent(r)),this},ensureVisible:function(r){return this.applyConstraints(r)},_fitBounds:function(r,l){l=l||{};var a=l.immediately||!1,u=l.constraints||!1,p=this.getAspectRatio(),h=r.getCenter(),f=new t.Rect(r.x,r.y,r.width,r.height,r.degrees+this.getRotation()).getBoundingBox();f.getAspectRatio()>=p?f.height=f.width/p:f.width=f.height*p,f.x=h.x-f.width/2,f.y=h.y-f.height/2;var v=1/f.width;if(a)return this.panTo(h,!0),this.zoomTo(v,null,!0),u&&this.applyConstraints(!0),this;var w=this.getCenter(!0),T=this.getZoom(!0);this.panTo(w,!0),this.zoomTo(T,null,!0);var R=this.getBounds(),L=this.getZoom();if(L===0||Math.abs(v/L-1)<1e-8)return this.zoomTo(v,null,!0),this.panTo(h,a),u&&this.applyConstraints(!1),this;if(u){this.panTo(h,!1),v=this._applyZoomConstraints(v),this.zoomTo(v,null,!1);var D=this.getConstrainedBounds();this.panTo(w,!0),this.zoomTo(T,null,!0),this.fitBounds(D)}else{var F=f.rotate(-this.getRotation()),z=F.getTopLeft().times(v).minus(R.getTopLeft().times(L)).divide(v-L);this.zoomTo(v,z,a)}return this},fitBounds:function(r,l){return this._fitBounds(r,{immediately:l,constraints:!1})},fitBoundsWithConstraints:function(r,l){return this._fitBounds(r,{immediately:l,constraints:!0})},fitVertically:function(r){var l=new t.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(l,r)},fitHorizontally:function(r){var l=new t.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(l,r)},getConstrainedBounds:function(r){var l,a;return l=this.getBounds(r),a=this._applyBoundaryConstraints(l),a},panBy:function(r,l){var a=new t.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(a.plus(r),l)},panTo:function(r,l){return l?(this.centerSpringX.resetTo(r.x),this.centerSpringY.resetTo(r.y)):(this.centerSpringX.springTo(r.x),this.centerSpringY.springTo(r.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:r,immediately:l}),this},zoomBy:function(r,l,a){return this.zoomTo(this.zoomSpring.target.value*r,l,a)},zoomTo:function(r,l,a){var u=this;return this.zoomPoint=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,a?this._adjustCenterSpringsForZoomPoint(function(){u.zoomSpring.resetTo(r)}):this.zoomSpring.springTo(r),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:r,refPoint:l,immediately:a}),this},setRotation:function(r,l){return this.rotateTo(r,null,l)},getRotation:function(r){return r?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(r,l,a){return this.rotateTo(r,l,a)},rotateTo:function(r,l,a){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(this.degreesSpring.target.value===r&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=l instanceof t.Point&&!isNaN(l.x)&&!isNaN(l.y)?l:null,a)if(this.rotationPivot){var u=r-this._oldDegrees;if(!u)return this.rotationPivot=null,this;this._rotateAboutPivot(r)}else this.degreesSpring.resetTo(r);else{var p=t.positiveModulo(this.degreesSpring.current.value,360),h=t.positiveModulo(r,360),f=h-p;f>180?h-=360:f<-180&&(h+=360);var v=p-h;this.degreesSpring.resetTo(r+v),this.degreesSpring.springTo(r)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:r,immediately:!!a,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(r,l,a){return this.rotateTo(this.degreesSpring.target.value+r,l,a)},resize:function(r,l){var a=this.getBoundsNoRotate(),u=a,p;this.containerSize.x=r.x,this.containerSize.y=r.y,this._updateContainerInnerSize(),l&&(p=r.x/this.containerSize.x,u.width=a.width*p,u.height=u.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:r,maintain:l});var h=this.fitBounds(u,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:r,maintain:l}),h},_updateContainerInnerSize:function(){this._containerInnerSize=new t.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var r=this;this._adjustCenterSpringsForZoomPoint(function(){r.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var l=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value;var a=l||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue();return a},_rotateAboutPivot:function(r){var l=r===!0,a=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(a.x),this.centerSpringY.shiftBy(a.y),l?this.degreesSpring.update():this.degreesSpring.resetTo(r);var u=this.degreesSpring.current.value-this._oldDegrees,p=a.rotate(u*-1).times(-1);this.centerSpringX.shiftBy(p.x),this.centerSpringY.shiftBy(p.y)},_adjustCenterSpringsForZoomPoint:function(r){if(this.zoomPoint){var l=this.pixelFromPoint(this.zoomPoint,!0);r();var a=this.pixelFromPoint(this.zoomPoint,!0),u=a.minus(l),p=this.deltaPointsFromPixels(u,!0);this.centerSpringX.shiftBy(p.x),this.centerSpringY.shiftBy(p.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else r()},deltaPixelsFromPointsNoRotate:function(r,l){return r.times(this._containerInnerSize.x*this.getZoom(l))},deltaPixelsFromPoints:function(r,l){return this.deltaPixelsFromPointsNoRotate(r.rotate(this.getRotation(l)),l)},deltaPointsFromPixelsNoRotate:function(r,l){return r.divide(this._containerInnerSize.x*this.getZoom(l))},deltaPointsFromPixels:function(r,l){return this.deltaPointsFromPixelsNoRotate(r,l).rotate(-this.getRotation(l))},pixelFromPointNoRotate:function(r,l){return this._pixelFromPointNoRotate(r,this.getBoundsNoRotate(l))},pixelFromPoint:function(r,l){return this._pixelFromPoint(r,this.getBoundsNoRotate(l))},_pixelFromPointNoRotate:function(r,l){return r.minus(l.getTopLeft()).times(this._containerInnerSize.x/l.width).plus(new t.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(r,l){return this._pixelFromPointNoRotate(r.rotate(this.getRotation(!0),this.getCenter(!0)),l)},pointFromPixelNoRotate:function(r,l){var a=this.getBoundsNoRotate(l);return r.minus(new t.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/a.width).plus(a.getTopLeft())},pointFromPixel:function(r,l){return this.pointFromPixelNoRotate(r,l).rotate(-this.getRotation(l),this.getCenter(l))},_viewportToImageDelta:function(r,l){var a=this._contentBoundsNoRotate.width;return new t.Point(r*this._contentSizeNoRotate.x/a,l*this._contentSizeNoRotate.x/a)},viewportToImageCoordinates:function(r,l){if(r instanceof t.Point)return this.viewportToImageCoordinates(r.x,r.y);if(this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(a===1){var u=this.viewer.world.getItemAt(0);return u.viewportToImageCoordinates(r,l,!0)}}return this._viewportToImageDelta(r-this._contentBoundsNoRotate.x,l-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(r,l){var a=this._contentBoundsNoRotate.width;return new t.Point(r/this._contentSizeNoRotate.x*a,l/this._contentSizeNoRotate.x*a)},imageToViewportCoordinates:function(r,l){if(r instanceof t.Point)return this.imageToViewportCoordinates(r.x,r.y);if(this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(a===1){var u=this.viewer.world.getItemAt(0);return u.imageToViewportCoordinates(r,l,!0)}}var p=this._imageToViewportDelta(r,l);return p.x+=this._contentBoundsNoRotate.x,p.y+=this._contentBoundsNoRotate.y,p},imageToViewportRectangle:function(r,l,a,u){var p=r;if(p instanceof t.Rect||(p=new t.Rect(r,l,a,u)),this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(h===1){var f=this.viewer.world.getItemAt(0);return f.imageToViewportRectangle(r,l,a,u,!0)}}var v=this.imageToViewportCoordinates(p.x,p.y),w=this._imageToViewportDelta(p.width,p.height);return new t.Rect(v.x,v.y,w.x,w.y,p.degrees)},viewportToImageRectangle:function(r,l,a,u){var p=r;if(p instanceof t.Rect||(p=new t.Rect(r,l,a,u)),this.viewer){var h=this.viewer.world.getItemCount();if(h>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(h===1){var f=this.viewer.world.getItemAt(0);return f.viewportToImageRectangle(r,l,a,u,!0)}}var v=this.viewportToImageCoordinates(p.x,p.y),w=this._viewportToImageDelta(p.width,p.height);return new t.Rect(v.x,v.y,w.x,w.y,p.degrees)},viewerElementToImageCoordinates:function(r){var l=this.pointFromPixel(r,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(r){var l=this.imageToViewportCoordinates(r);return this.pixelFromPoint(l,!0)},windowToImageCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var l=r.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var l=this.imageToViewerElementCoordinates(r);return l.plus(t.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(r){return this.pointFromPixel(r,!0)},viewportToViewerElementCoordinates:function(r){return this.pixelFromPoint(r,!0)},viewerElementToViewportRectangle:function(r){return t.Rect.fromSummits(this.pointFromPixel(r.getTopLeft(),!0),this.pointFromPixel(r.getTopRight(),!0),this.pointFromPixel(r.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(r){return t.Rect.fromSummits(this.pixelFromPoint(r.getTopLeft(),!0),this.pixelFromPoint(r.getTopRight(),!0),this.pixelFromPoint(r.getBottomLeft(),!0))},windowToViewportCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var l=r.minus(t.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(l)},viewportToWindowCoordinates:function(r){t.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var l=this.viewportToViewerElementCoordinates(r);return l.plus(t.getElementPosition(this.viewer.element))},viewportToImageZoom:function(r){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(l===1){var a=this.viewer.world.getItemAt(0);return a.viewportToImageZoom(r)}}var u=this._contentSizeNoRotate.x,p=this._containerInnerSize.x,h=this._contentBoundsNoRotate.width,f=p/u*h;return r*f},imageToViewportZoom:function(r){if(this.viewer){var l=this.viewer.world.getItemCount();if(l>1)this.silenceMultiImageWarnings||t.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(l===1){var a=this.viewer.world.getItemAt(0);return a.imageToViewportZoom(r)}}var u=this._contentSizeNoRotate.x,p=this._containerInnerSize.x,h=this._contentBoundsNoRotate.width,f=u/p/h;return r*f},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(r){return this.flipped===r?this:(this.flipped=r,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:r}),this)},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(r,l=!0,a=!1){t.console.assert(!isNaN(r),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),!isNaN(r)&&(this.maxZoomPixelRatio=r,l&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(a))}}}(g),function(t){t.TiledImage=function(r){this._initialized=!1,t.console.assert(r.tileCache,"[TiledImage] options.tileCache is required"),t.console.assert(r.drawer,"[TiledImage] options.drawer is required"),t.console.assert(r.viewer,"[TiledImage] options.viewer is required"),t.console.assert(r.imageLoader,"[TiledImage] options.imageLoader is required"),t.console.assert(r.source,"[TiledImage] options.source is required"),t.console.assert(!r.clip||r.clip instanceof t.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),t.EventSource.call(this),this._tileCache=r.tileCache,delete r.tileCache,this._drawer=r.drawer,delete r.drawer,this._imageLoader=r.imageLoader,delete r.imageLoader,r.clip instanceof t.Rect&&(this._clip=r.clip.clone()),delete r.clip;var l=r.x||0;delete r.x;var a=r.y||0;delete r.y,this.normHeight=r.source.dimensions.y/r.source.dimensions.x,this.contentAspectX=r.source.dimensions.x/r.source.dimensions.y;var u=1;r.width?(u=r.width,delete r.width,r.height&&(t.console.error("specifying both width and height to a tiledImage is not supported"),delete r.height)):r.height&&(u=r.height/this.normHeight,delete r.height);var p=r.fitBounds;delete r.fitBounds;var h=r.fitBoundsPlacement||g.Placement.CENTER;delete r.fitBoundsPlacement;var f=r.degrees||0;delete r.degrees;var v=r.ajaxHeaders;delete r.ajaxHeaders,t.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:t.DEFAULT_SETTINGS.springStiffness,animationTime:t.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:t.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:t.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:t.DEFAULT_SETTINGS.wrapVertical,immediateRender:t.DEFAULT_SETTINGS.immediateRender,blendTime:t.DEFAULT_SETTINGS.blendTime,alwaysBlend:t.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:t.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:t.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:t.DEFAULT_SETTINGS.iOSDevice,debugMode:t.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:t.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:t.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:t.DEFAULT_SETTINGS.placeholderFillStyle,opacity:t.DEFAULT_SETTINGS.opacity,preload:t.DEFAULT_SETTINGS.preload,compositeOperation:t.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:t.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:t.DEFAULT_SETTINGS.maxTilesPerFrame},r),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new t.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new t.Spring({initial:a,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new t.Spring({initial:u,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new t.Spring({initial:f,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),p&&this.fitBounds(p,h,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(v,!1),this._initialized=!0},t.extend(t.TiledImage.prototype,t.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(r){r!==this._fullyLoaded&&(this._fullyLoaded=r,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=t.now(),this._needsDraw=!0},update:function(r){let l=this._xSpring.update(),a=this._ySpring.update(),u=this._scaleSpring.update(),p=this._degreesSpring.update(),h=l||a||u||p||this._needsUpdate;if(h||r||!this._fullyLoaded){let f=this._updateLevelsForViewport();this._setFullyLoaded(f)}return this._needsUpdate=!1,h?(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0):!1},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted(r){this._isTainted=r},isTainted(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(r){return this.getBoundsNoRotate(r).rotate(this.getRotation(r),this._getRotationPoint(r))},getBoundsNoRotate:function(r){return r?new t.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new t.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return t.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(r){var l=this.getBoundsNoRotate(r);if(this._clip){var a=r?this._worldWidthCurrent:this._worldWidthTarget,u=a/this.source.dimensions.x,p=this._clip.times(u);l=new t.Rect(l.x+p.x,l.y+p.y,p.width,p.height)}return l.rotate(this.getRotation(r),this._getRotationPoint(r))},getTileBounds:function(r,l,a){var u=this.source.getNumTiles(r),p=(u.x+l%u.x)%u.x,h=(u.y+a%u.y)%u.y,f=this.source.getTileBounds(r,p,h);return this.getFlip()&&(f.x=Math.max(0,1-f.x-f.width)),f.x+=(l-p)/u.x,f.y+=this._worldHeightCurrent/this._worldWidthCurrent*((a-h)/u.y),f},getContentSize:function(){return new t.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var r=this.imageToWindowCoordinates(new t.Point(0,0)),l=this.imageToWindowCoordinates(this.getContentSize());return new t.Point(l.x-r.x,l.y-r.y)},_viewportToImageDelta:function(r,l,a){var u=a?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(r*(this.source.dimensions.x/u),l*(this.source.dimensions.y*this.contentAspectX/u))},viewportToImageCoordinates:function(r,l,a){var u;return r instanceof t.Point?(a=l,u=r):u=new t.Point(r,l),u=u.rotate(-this.getRotation(a),this._getRotationPoint(a)),a?this._viewportToImageDelta(u.x-this._xSpring.current.value,u.y-this._ySpring.current.value):this._viewportToImageDelta(u.x-this._xSpring.target.value,u.y-this._ySpring.target.value)},_imageToViewportDelta:function(r,l,a){var u=a?this._scaleSpring.current.value:this._scaleSpring.target.value;return new t.Point(r/this.source.dimensions.x*u,l/this.source.dimensions.y/this.contentAspectX*u)},imageToViewportCoordinates:function(r,l,a){r instanceof t.Point&&(a=l,l=r.y,r=r.x);var u=this._imageToViewportDelta(r,l,a);return a?(u.x+=this._xSpring.current.value,u.y+=this._ySpring.current.value):(u.x+=this._xSpring.target.value,u.y+=this._ySpring.target.value),u.rotate(this.getRotation(a),this._getRotationPoint(a))},imageToViewportRectangle:function(r,l,a,u,p){var h=r;h instanceof t.Rect?p=l:h=new t.Rect(r,l,a,u);var f=this.imageToViewportCoordinates(h.getTopLeft(),p),v=this._imageToViewportDelta(h.width,h.height,p);return new t.Rect(f.x,f.y,v.x,v.y,h.degrees+this.getRotation(p))},viewportToImageRectangle:function(r,l,a,u,p){var h=r;r instanceof t.Rect?p=l:h=new t.Rect(r,l,a,u);var f=this.viewportToImageCoordinates(h.getTopLeft(),p),v=this._viewportToImageDelta(h.width,h.height,p);return new t.Rect(f.x,f.y,v.x,v.y,h.degrees-this.getRotation(p))},viewerElementToImageCoordinates:function(r){var l=this.viewport.pointFromPixel(r,!0);return this.viewportToImageCoordinates(l)},imageToViewerElementCoordinates:function(r){var l=this.imageToViewportCoordinates(r);return this.viewport.pixelFromPoint(l,!0)},windowToImageCoordinates:function(r){var l=r.minus(g.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(l)},imageToWindowCoordinates:function(r){var l=this.imageToViewerElementCoordinates(r);return l.plus(g.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(r){var l=this._scaleSpring.current.value;return r=r.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new t.Rect((r.x-this._xSpring.current.value)/l,(r.y-this._ySpring.current.value)/l,r.width/l,r.height/l,r.degrees)},viewportToImageZoom:function(r){var l=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return l*r},imageToViewportZoom:function(r){var l=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return r/l},setPosition:function(r,l){var a=this._xSpring.target.value===r.x&&this._ySpring.target.value===r.y;if(l){if(a&&this._xSpring.current.value===r.x&&this._ySpring.current.value===r.y)return;this._xSpring.resetTo(r.x),this._ySpring.resetTo(r.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(a)return;this._xSpring.springTo(r.x),this._ySpring.springTo(r.y),this._needsDraw=!0,this._needsUpdate=!0}a||this._raiseBoundsChange()},setWidth:function(r,l){this._setScale(r,l)},setHeight:function(r,l){this._setScale(r/this.normHeight,l)},setCroppingPolygons:function(r){var l=function(u){return u instanceof t.Point||typeof u.x=="number"&&typeof u.y=="number"},a=function(u){return u.map(function(p){try{if(l(p))return{x:p.x,y:p.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!t.isArray(r))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=r.map(function(u){return a(u)}),this._needsDraw=!0}catch(u){t.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),t.console.error(u),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(r,l,a){l=l||t.Placement.CENTER;var u=t.Placement.properties[l],p=this.contentAspectX,h=0,f=0,v=1,w=1;if(this._clip&&(p=this._clip.getAspectRatio(),v=this._clip.width/this.source.dimensions.x,w=this._clip.height/this.source.dimensions.y,r.getAspectRatio()>p?(h=this._clip.x/this._clip.height*r.height,f=this._clip.y/this._clip.height*r.height):(h=this._clip.x/this._clip.width*r.width,f=this._clip.y/this._clip.width*r.width)),r.getAspectRatio()>p){var T=r.height/w,R=0;u.isHorizontallyCentered?R=(r.width-r.height*p)/2:u.isRight&&(R=r.width-r.height*p),this.setPosition(new t.Point(r.x-h+R,r.y-f),a),this.setHeight(T,a)}else{var L=r.width/v,D=0;u.isVerticallyCentered?D=(r.height-r.width/p)/2:u.isBottom&&(D=r.height-r.width/p),this.setPosition(new t.Point(r.x-h,r.y-f+D),a),this.setWidth(L,a)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(r){t.console.assert(!r||r instanceof t.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),r instanceof t.Rect?this._clip=r.clone():this._clip=null,this._needsUpdate=!0,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(r){this.flipped=r},get flipped(){return this._flipped},set flipped(r){let l=this._flipped!==!!r;this._flipped=!!r,l&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(r){let l=this._wrapHorizontal!==!!r;this._wrapHorizontal=!!r,this._initialized&&l&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(r){let l=this._wrapVertical!==!!r;this._wrapVertical=!!r,this._initialized&&l&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(r){this._debugMode=!!r,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(r){this.opacity=r},get opacity(){return this._opacity},set opacity(r){r!==this.opacity&&(this._opacity=r,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(r){this._preload=!!r,this._needsDraw=!0},getRotation:function(r){return r?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(r,l){this._degreesSpring.target.value===r&&this._degreesSpring.isAtTargetValue()||(l?this._degreesSpring.resetTo(r):this._degreesSpring.springTo(r),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(this._opacity===0&&!this._preload)return!1;var r=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var l=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));r=r.intersection(l)}return r},getTilesToDraw:function(){let r=this._tilesToDraw.flat();return this._updateTilesInViewport(r),r=this._tilesToDraw.flat(),r.forEach(l=>{l.tile.beingDrawn=!0}),this._lastDrawn=r,r},_getRotationPoint:function(r){return this.getBoundsNoRotate(r).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(r){r!==this._compositeOperation&&(this._compositeOperation=r,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation}))},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(r){this.compositeOperation=r},setAjaxHeaders:function(r,l){if(r===null&&(r={}),!t.isPlainObject(r)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=r,this._updateAjaxHeaders(l)},_updateAjaxHeaders:function(r){if(r===void 0&&(r=!0),t.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=t.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,r){var l,a,u,p;for(var h in this.tilesMatrix){l=this.source.getNumTiles(h);for(var f in this.tilesMatrix[h]){a=(l.x+f%l.x)%l.x;for(var v in this.tilesMatrix[h][f])if(u=(l.y+v%l.y)%l.y,p=this.tilesMatrix[h][f][v],p.loadWithAjax=this.loadTilesWithAjax,p.loadWithAjax){var w=this.source.getTileAjaxHeaders(h,a,u);p.ajaxHeaders=t.extend({},this.ajaxHeaders,w)}else p.ajaxHeaders=null}}for(var T=0;T<this._imageLoader.jobQueue.length;T++){var R=this._imageLoader.jobQueue[T];R.loadWithAjax=R.tile.loadWithAjax,R.ajaxHeaders=R.tile.loadWithAjax?R.tile.ajaxHeaders:null}}},_setScale:function(r,l){var a=this._scaleSpring.target.value===r;if(l){if(a&&this._scaleSpring.current.value===r)return;this._scaleSpring.resetTo(r),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(a)return;this._scaleSpring.springTo(r),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}a||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var r=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),l=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,a=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(l/this.minPixelRatio)/Math.log(2))));return a=Math.max(a,this.source.minLevel||0),r=Math.min(r,a),{lowestLevel:r,highestLevel:a}},_updateLevelsForViewport:function(){var r=this._getLevelsInterval(),l=r.lowestLevel,a=r.highestLevel,u=[],p=this.getDrawArea(),h=t.now();if(this._lastDrawn.forEach(Se=>{Se.tile.beingDrawn=!1}),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!p)return this._needsDraw=!1,this._fullyLoaded;var f=new Array(a-l+1);for(let Se=0,Z=a;Z>=l;Z--,Se++)f[Se]=Z;for(let Se=a+1;Se<=this.source.maxLevel;Se++){var v=this.tilesMatrix[Se]&&this.tilesMatrix[Se][0]&&this.tilesMatrix[Se][0][0];if(v&&v.isBottomMost&&v.isRightMost&&v.loaded){f.push(Se);break}}let w=!1;for(let Se=0;Se<f.length;Se++){let Z=f[Se];var T=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Z),!0).x*this._scaleSpring.current.value;if(Se===f.length-1||T>=this.minPixelRatio)w=!0;else if(!w)continue;var R=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Z),!1).x*this._scaleSpring.current.value,L=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,D=this.immediateRender?1:L,F=Math.min(1,(T-.5)/.5),z=D/Math.abs(D-R),q=this._updateLevel(Z,F,z,p,h,u);u=q.bestTiles;var ee=q.updatedTiles.filter(we=>we.loaded),Le=function(we,N,U){return function(te){return{tile:te,level:we,levelOpacity:N,currentTime:U}}}(Z,F,h);if(this._tilesToDraw[Z]=ee.map(Le),this._providesCoverage(this.coverage,Z))break}return u&&u.length>0?(u.forEach(function(Se){Se&&!Se.context2D&&this._loadTile(Se,h)},this),this._needsDraw=!0,!1):this._tilesLoading===0},_updateTilesInViewport:function(r){let l=t.now(),a=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};let u=r.length?r[0].level:0;if(!this.getDrawArea())return;function h(v){let w=v.tile;if(w&&w.loaded){let T=a._blendTile(w,w.x,w.y,v.level,v.levelOpacity,l,u);a._isBlending=a._isBlending||T,a._needsDraw=a._needsDraw||T||a._wasBlending}}let f=0;for(let v=0;v<r.length;v++){let w=r[v];h(w),this._providesCoverage(this.coverage,w.level)&&(f=Math.max(f,w.level))}if(f>0)for(let v in this._tilesToDraw)v<f&&delete this._tilesToDraw[v]},_blendTile:function(r,l,a,u,p,h,f){let v=1e3*this.blendTime,w,T;return r.blendStart||(r.blendStart=h),w=h-r.blendStart,T=v?Math.min(1,w/v):1,u===f&&(T=1,w=v),this.alwaysBlend&&(T*=p),r.opacity=T,T===1&&(this._setCoverage(this.coverage,u,l,a,!0),this._hasOpaqueTile=!0),w<v},_updateLevel:function(r,l,a,u,p,h){var f=u.getBoundingBox().getTopLeft(),v=u.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:r,opacity:l,visibility:a,drawArea:u,topleft:f,bottomright:v,currenttime:p,best:h}),this._resetCoverage(this.coverage,r),this._resetCoverage(this.loadingCoverage,r);var w=this._getCornerTiles(r,f,v),T=w.topLeft,R=w.bottomRight,L=this.source.getNumTiles(r),D=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(R.x+=1,this.wrapHorizontal||(R.x=Math.min(R.x,L.x-1)));for(var F=Math.max(0,(R.x-T.x)*(R.y-T.y)),z=new Array(F),q=0,ee=T.x;ee<=R.x;ee++)for(var Le=T.y;Le<=R.y;Le++){var Se;if(this.getFlip()){var Z=(L.x+ee%L.x)%L.x;Se=ee+L.x-Z-Z-1}else Se=ee;if(u.intersection(this.getTileBounds(r,Se,Le))!==null){var we=this._updateTile(Se,Le,r,a,D,L,p,h);h=we.bestTiles,z[q]=we.tile,q+=1}}return{bestTiles:h,updatedTiles:z}},_positionTile:function(r,l,a,u,p){var h=r.bounds.getTopLeft();h.x*=this._scaleSpring.current.value,h.y*=this._scaleSpring.current.value,h.x+=this._xSpring.current.value,h.y+=this._ySpring.current.value;var f=r.bounds.getSize();f.x*=this._scaleSpring.current.value,f.y*=this._scaleSpring.current.value,r.positionedBounds.x=h.x,r.positionedBounds.y=h.y,r.positionedBounds.width=f.x,r.positionedBounds.height=f.y;var v=a.pixelFromPointNoRotate(h,!0),w=a.pixelFromPointNoRotate(h,!1),T=a.deltaPixelsFromPointsNoRotate(f,!0),R=a.deltaPixelsFromPointsNoRotate(f,!1),L=w.plus(R.divide(2)),D=u.squaredDistanceTo(L);this.viewer.drawer.minimumOverlapRequired(this)&&(l||(T=T.plus(new t.Point(1,1))),r.isRightMost&&this.wrapHorizontal&&(T.x+=.75),r.isBottomMost&&this.wrapVertical&&(T.y+=.75)),r.position=v,r.size=T,r.squaredDistance=D,r.visibility=p},_updateTile:function(r,l,a,u,p,h,f,v){var w=this._getTile(r,l,a,f,h);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:w}),this._setCoverage(this.coverage,a,r,l,!1);var T=w.loaded||w.loading||this._isCovered(this.loadingCoverage,a,r,l);if(this._setCoverage(this.loadingCoverage,a,r,l,T),!w.exists)return{bestTiles:v,tile:w};if(w.loaded&&w.opacity===1&&this._setCoverage(this.coverage,a,r,l,!0),this._positionTile(w,this.source.tileOverlap,this.viewport,p,u),!w.loaded)if(w.context2D)this._setTileLoaded(w);else{var R=this._tileCache.getImageRecord(w.cacheKey);R&&this._setTileLoaded(w,R.getData())}return w.loading?this._tilesLoading++:T||(v=this._compareTiles(v,w,this.maxTilesPerFrame)),{bestTiles:v,tile:w}},_getCornerTiles:function(r,l,a){var u,p;this.wrapHorizontal?(u=t.positiveModulo(l.x,1),p=t.positiveModulo(a.x,1)):(u=Math.max(0,l.x),p=Math.min(1,a.x));var h,f,v=1/this.source.aspectRatio;this.wrapVertical?(h=t.positiveModulo(l.y,v),f=t.positiveModulo(a.y,v)):(h=Math.max(0,l.y),f=Math.min(v,a.y));var w=this.source.getTileAtPoint(r,new t.Point(u,h)),T=this.source.getTileAtPoint(r,new t.Point(p,f)),R=this.source.getNumTiles(r);return this.wrapHorizontal&&(w.x+=R.x*Math.floor(l.x),T.x+=R.x*Math.floor(a.x)),this.wrapVertical&&(w.y+=R.y*Math.floor(l.y/v),T.y+=R.y*Math.floor(a.y/v)),{topLeft:w,bottomRight:T}},_getTile:function(r,l,a,u,p){var h,f,v,w,T,R,L,D,F,z,q=this.tilesMatrix,ee=this.source;return q[a]||(q[a]={}),q[a][r]||(q[a][r]={}),(!q[a][r][l]||!q[a][r][l].flipped!=!this.flipped)&&(h=(p.x+r%p.x)%p.x,f=(p.y+l%p.y)%p.y,v=this.getTileBounds(a,r,l),w=ee.getTileBounds(a,h,f,!0),T=ee.tileExists(a,h,f),R=ee.getTileUrl(a,h,f),L=ee.getTilePostData(a,h,f),this.loadTilesWithAjax?(D=ee.getTileAjaxHeaders(a,h,f),t.isPlainObject(this.ajaxHeaders)&&(D=t.extend({},this.ajaxHeaders,D))):D=null,F=ee.getContext2D?ee.getContext2D(a,h,f):void 0,z=new t.Tile(a,r,l,v,T,R,F,this.loadTilesWithAjax,D,w,L,ee.getTileHashKey(a,h,f,R,D,L)),this.getFlip()?h===0&&(z.isRightMost=!0):h===p.x-1&&(z.isRightMost=!0),f===p.y-1&&(z.isBottomMost=!0),z.flipped=this.flipped,q[a][r][l]=z),z=q[a][r][l],z.lastTouchTime=u,z},_loadTile:function(r,l){var a=this;r.loading=!0,this._imageLoader.addJob({src:r.getUrl(),tile:r,source:this.source,postData:r.postData,loadWithAjax:r.loadWithAjax,ajaxHeaders:r.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(u,p,h){a._onTileLoad(r,l,u,p,h)},abort:function(){r.loading=!1}})},_onTileLoad:function(r,l,a,u,p){if(a)r.exists=!0;else{t.console.error("Tile %s failed to load: %s - error: %s",r,r.getUrl(),u),this.viewer.raiseEvent("tile-load-failed",{tile:r,tiledImage:this,time:l,message:u,tileRequest:p}),r.loading=!1,r.exists=!1;return}if(l<this.lastResetTime){t.console.warn("Ignoring tile %s loaded before reset: %s",r,r.getUrl()),r.loading=!1;return}var h=this,f=function(){var v=h.source,w=v.getClosestLevel();h._setTileLoaded(r,a,w,p)};f()},_setTileLoaded:function(r,l,a,u){var p=0,h=!1,f=this;function v(){return h&&t.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),p++,w}function w(){p--,p===0&&(r.loading=!1,r.loaded=!0,r.hasTransparency=f.source.hasTransparency(r.context2D,r.getUrl(),r.ajaxHeaders,r.postData),r.context2D||f._tileCache.cacheTile({data:l,tile:r,cutoff:a,tiledImage:f}),f.viewer.raiseEvent("tile-ready",{tile:r,tiledImage:f,tileRequest:u}),f._needsDraw=!0)}var T=v();this.viewer.raiseEvent("tile-loaded",{tile:r,tiledImage:this,tileRequest:u,get image(){return t.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),l},data:l,getCompletionCallback:v}),h=!0,T()},_compareTiles:function(r,l,a){return r?(r.push(l),this._sortTiles(r),r.length>a&&r.pop(),r):[l]},_sortTiles:function(r){r.sort(function(l,a){return l===null?1:a===null?-1:l.visibility===a.visibility?l.squaredDistance-a.squaredDistance:a.visibility-l.visibility})},_providesCoverage:function(r,l,a,u){var p,h,f,v;if(!r[l])return!1;if(a===void 0||u===void 0){p=r[l];for(f in p)if(Object.prototype.hasOwnProperty.call(p,f)){h=p[f];for(v in h)if(Object.prototype.hasOwnProperty.call(h,v)&&!h[v])return!1}return!0}return r[l][a]===void 0||r[l][a][u]===void 0||r[l][a][u]===!0},_isCovered:function(r,l,a,u){return a===void 0||u===void 0?this._providesCoverage(r,l+1):this._providesCoverage(r,l+1,2*a,2*u)&&this._providesCoverage(r,l+1,2*a,2*u+1)&&this._providesCoverage(r,l+1,2*a+1,2*u)&&this._providesCoverage(r,l+1,2*a+1,2*u+1)},_setCoverage:function(r,l,a,u,p){if(!r[l]){t.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",l);return}r[l][a]||(r[l][a]={}),r[l][a][u]=p},_resetCoverage:function(r,l){r[l]={}}})}(g),function(t){var r=function(a){t.console.assert(a,"[TileCache.cacheTile] options is required"),t.console.assert(a.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(a.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=a.tile,this.tiledImage=a.tiledImage},l=function(a){t.console.assert(a,"[ImageRecord] options is required"),t.console.assert(a.data,"[ImageRecord] options.data is required"),this._tiles=[],a.create.apply(null,[this,a.data,a.ownerTile]),this._destroyImplementation=a.destroy.bind(null,this),this.getImage=a.getImage.bind(null,this),this.getData=a.getData.bind(null,this),this.getRenderedContext=a.getRenderedContext.bind(null,this)};l.prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(a){t.console.assert(a,"[ImageRecord.addTile] tile is required"),this._tiles.push(a)},removeTile:function(a){for(var u=0;u<this._tiles.length;u++)if(this._tiles[u]===a){this._tiles.splice(u,1);return}t.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",a)},getTileCount:function(){return this._tiles.length}},t.TileCache=function(a){a=a||{},this._maxImageCacheCount=a.maxImageCacheCount||t.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},t.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(a){t.console.assert(a,"[TileCache.cacheTile] options is required"),t.console.assert(a.tile,"[TileCache.cacheTile] options.tile is required"),t.console.assert(a.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),t.console.assert(a.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var u=a.cutoff||0,p=this._tilesLoaded.length,h=this._imagesLoaded[a.tile.cacheKey];if(h||(a.data||(t.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),a.data=a.image),t.console.assert(a.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),h=this._imagesLoaded[a.tile.cacheKey]=new l({data:a.data,ownerTile:a.tile,create:a.tiledImage.source.createTileCache,destroy:a.tiledImage.source.destroyTileCache,getImage:a.tiledImage.source.getTileCacheDataAsImage,getData:a.tiledImage.source.getTileCacheData,getRenderedContext:a.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),h.addTile(a.tile),a.tile.cacheImageRecord=h,this._imagesLoadedCount>this._maxImageCacheCount){for(var f=null,v=-1,w=null,T,R,L,D,F,z,q=this._tilesLoaded.length-1;q>=0;q--)if(z=this._tilesLoaded[q],T=z.tile,!(T.level<=u||T.beingDrawn)){if(!f){f=T,v=q,w=z;continue}D=T.lastTouchTime,R=f.lastTouchTime,F=T.level,L=f.level,(D<R||D===R&&F>L)&&(f=T,v=q,w=z)}f&&v>=0&&(this._unloadTile(w),p=v)}this._tilesLoaded[p]=new r({tile:a.tile,tiledImage:a.tiledImage})},clearTilesFor:function(a){t.console.assert(a,"[TileCache.clearTilesFor] tiledImage is required");for(var u,p=0;p<this._tilesLoaded.length;++p)u=this._tilesLoaded[p],u.tiledImage===a&&(this._unloadTile(u),this._tilesLoaded.splice(p,1),p--)},getImageRecord:function(a){return t.console.assert(a,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[a]},_unloadTile:function(a){t.console.assert(a,"[TileCache._unloadTile] tileRecord is required");var u=a.tile,p=a.tiledImage;let h=u.getCanvasContext&&u.getCanvasContext();u.unload(),u.cacheImageRecord=null;var f=this._imagesLoaded[u.cacheKey];f&&(f.removeTile(u),f.getTileCount()||(f.destroy(),delete this._imagesLoaded[u.cacheKey],this._imagesLoadedCount--,h&&(h.canvas.width=0,h.canvas.height=0,p.viewer.raiseEvent("image-unloaded",{context2D:h,tile:u}))),p.viewer.raiseEvent("tile-unloaded",{tile:u,tiledImage:p}))}}}(g),function(t){t.World=function(r){var l=this;t.console.assert(r.viewer,"[World] options.viewer is required"),t.EventSource.call(this),this.viewer=r.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(a){l._autoRefigureSizes?l._figureSizes():l._needsSizesFigured=!0},this._figureSizes()},t.extend(t.World.prototype,t.EventSource.prototype,{addItem:function(r,l){if(t.console.assert(r,"[World.addItem] item is required"),t.console.assert(r instanceof t.TiledImage,"[World.addItem] only TiledImages supported at this time"),l=l||{},l.index!==void 0){var a=Math.max(0,Math.min(this._items.length,l.index));this._items.splice(a,0,r)}else this._items.push(r);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,r.addHandler("bounds-change",this._delegatedFigureSizes),r.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:r})},getItemAt:function(r){return t.console.assert(r!==void 0,"[World.getItemAt] index is required"),this._items[r]},getIndexOfItem:function(r){return t.console.assert(r,"[World.getIndexOfItem] item is required"),t.indexOf(this._items,r)},getItemCount:function(){return this._items.length},setItemIndex:function(r,l){t.console.assert(r,"[World.setItemIndex] item is required"),t.console.assert(l!==void 0,"[World.setItemIndex] index is required");var a=this.getIndexOfItem(r);if(l>=this._items.length)throw new Error("Index bigger than number of layers.");l===a||a===-1||(this._items.splice(a,1),this._items.splice(l,0,r),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:r,previousIndex:a,newIndex:l}))},removeItem:function(r){t.console.assert(r,"[World.removeItem] item is required");var l=t.indexOf(this._items,r);l!==-1&&(r.removeHandler("bounds-change",this._delegatedFigureSizes),r.removeHandler("clip-change",this._delegatedFigureSizes),r.destroy(),this._items.splice(l,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(r))},removeAll:function(){this.viewer._cancelPendingImages();var r,l;for(l=0;l<this._items.length;l++)r=this._items[l],r.removeHandler("bounds-change",this._delegatedFigureSizes),r.removeHandler("clip-change",this._delegatedFigureSizes),r.destroy();var a=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,l=0;l<a.length;l++)r=a[l],this._raiseRemoveItem(r)},resetItems:function(){for(var r=0;r<this._items.length;r++)this._items[r].reset()},update:function(r){for(var l=!1,a=0;a<this._items.length;a++)l=this._items[a].update(r)||l;return l},draw:function(){this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach(r=>{this._needsDraw=r.setDrawn()||this._needsDraw})},needsDraw:function(){for(var r=0;r<this._items.length;r++)if(this._items[r].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(r){this._autoRefigureSizes=r,r&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(r){r=r||{};var l=r.immediately||!1,a=r.layout||t.DEFAULT_SETTINGS.collectionLayout,u=r.rows||t.DEFAULT_SETTINGS.collectionRows,p=r.columns||t.DEFAULT_SETTINGS.collectionColumns,h=r.tileSize||t.DEFAULT_SETTINGS.collectionTileSize,f=r.tileMargin||t.DEFAULT_SETTINGS.collectionTileMargin,v=h+f,w;!r.rows&&p?w=p:w=Math.ceil(this._items.length/u);var T=0,R=0,L,D,F,z,q;this.setAutoRefigureSizes(!1);for(var ee=0;ee<this._items.length;ee++)ee&&ee%w===0&&(a==="horizontal"?(R+=v,T=0):(T+=v,R=0)),L=this._items[ee],D=L.getBounds(),D.width>D.height?F=h:F=h*(D.width/D.height),z=F*(D.height/D.width),q=new t.Point(T+(h-F)/2,R+(h-z)/2),L.setPosition(q,l),L.setWidth(F,l),a==="horizontal"?T+=v:R+=v;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var r=this._homeBounds?this._homeBounds.clone():null,l=this._contentSize?this._contentSize.clone():null,a=this._contentFactor||0;if(!this._items.length)this._homeBounds=new t.Rect(0,0,1,1),this._contentSize=new t.Point(1,1),this._contentFactor=1;else{var u=this._items[0],p=u.getBounds();this._contentFactor=u.getContentSize().x/p.width;for(var h=u.getClippedBounds().getBoundingBox(),f=h.x,v=h.y,w=h.x+h.width,T=h.y+h.height,R=1;R<this._items.length;R++)u=this._items[R],p=u.getBounds(),this._contentFactor=Math.max(this._contentFactor,u.getContentSize().x/p.width),h=u.getClippedBounds().getBoundingBox(),f=Math.min(f,h.x),v=Math.min(v,h.y),w=Math.max(w,h.x+h.width),T=Math.max(T,h.y+h.height);this._homeBounds=new t.Rect(f,v,w-f,T-v),this._contentSize=new t.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==a||!this._homeBounds.equals(r)||!this._contentSize.equals(l))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(r){this.raiseEvent("remove-item",{item:r})}})}(g)}(mf)),mf.exports}var Id=W0();const Wd=59055,Vd=59055,og=1.4,ag=7,V0=({id:m="seadragon-viewer",tileSources:g,points:t})=>{const r=De.useRef(null);return De.useEffect(()=>{const l=new Id.Viewer({id:m,tileSources:g,animationTime:.5,homeFillsViewer:!0,constrainDuringPan:!0});return r.current=l,()=>{l.destroy(),r.current=null}},[m,g]),De.useEffect(()=>{const l=r.current;if(!l||!(t!=null&&t.length))return;const a=t.map(p=>{const h=document.createElement("DIV");return h.addEventListener("click",f=>{f.stopPropagation(),l.destroy()},!0),h.innerHTML=`
        <a
          href="#/topic/${p.id}"
          class="result font-monospace position-relative rounded rounded-1 d-flex flex-row d-inline-block w-auto h-auto"
        >
          <span class="result-number bg-primary text-white px-2 py-1 flex-shrink-0" style="white-space:pre-wrap">${(p.index+"").padStart(4," ")}</span>
          <span class="result-label bg-white text-primary flex-grow-1 px-2 py-1 text-truncate text-decoration-none">${p.label}</span>
        </a>
      `,h.classList.add("overlay-result"),l.viewport.getZoom(!0)>ag&&h.classList.add("expand"),l.addOverlay(h,new Id.Point(p.x/Wd,p.y/Vd),Id.Placement.LEFT),h}),u=p=>{const h=p.zoom>ag;a.forEach(f=>{h?f.classList.add("expand"):f.classList.remove("expand")})};return l.addHandler("zoom",u),()=>{a.forEach(p=>l.removeOverlay(p)),l.removeHandler("zoom",u)}},[t]),ie.jsxs("div",{className:"image-viewer",children:[ie.jsx("div",{id:m,className:"openseadragon-wrapper"}),ie.jsxs("div",{className:"navigation p-3 d-flex flex-column",children:[ie.jsx("button",{className:"btn btn-primary border-white mb-1 small",onClick:()=>{var l;return(l=r.current)==null?void 0:l.viewport.goHome()},children:ie.jsx(P0,{className:"small"})}),ie.jsx("button",{className:"btn btn-primary border-white mb-1",onClick:()=>{var l;return(l=r.current)==null?void 0:l.viewport.zoomBy(og)},children:ie.jsx(_0,{})}),ie.jsx("button",{className:"btn btn-primary border-white",onClick:()=>{var l;return(l=r.current)==null?void 0:l.viewport.zoomBy(1/og)},children:ie.jsx(w0,{})})]})]})},ep=({inputClassName:m,initialQuery:g})=>{const{language:t}=Io(),[r,l]=De.useState(g),a=(u="")=>{u?window.location.href=`#/map?q=${encodeURIComponent(u)}`:window.location.href="#/map"};return De.useEffect(()=>{l(g)},[g]),ie.jsxs("form",{onSubmit:u=>{u.preventDefault(),a(r)},children:[ie.jsx("label",{htmlFor:"topics-search",className:"form-label text-uppercase mb-0",children:Si({en:"Find topic by code or keyword",da:"Find emne efter kode eller ngleord"},t)}),ie.jsxs("div",{className:"input-group",children:[ie.jsx("input",{type:"string",autoComplete:"off",className:ps("form-control bg-light-blue",m),id:"topics-search",placeholder:"Eg: 1640, Food",value:r,onChange:u=>l(u.target.value)}),g&&ie.jsx("button",{className:ps("btn btn-light px-1",m),type:"button",onClick:()=>{l(""),a("")},children:ie.jsx(v0,{})}),ie.jsx("button",{className:ps("btn btn-light px-2",m),type:"submit",children:ie.jsx(x0,{})})]})]})},G0=({query:m,results:g})=>ie.jsx(ie.Fragment,{children:g.length?ie.jsxs(ie.Fragment,{children:[ie.jsxs("h2",{className:"display-2 mb-4",children:["Topics related to: ",ie.jsx("div",{className:"fw-normal",children:Fa.capitalize(m)})]}),g.map(t=>ie.jsxs("a",{href:`#/topic/${t.id}`,className:"font-monospace rounded rounded-1 d-flex flex-row mb-4 text-decoration-none overflow-hidden",children:[ie.jsx("span",{className:"bg-primary text-white px-3 py-1 flex-shrink-0",style:{whiteSpace:"pre-wrap"},children:(t.index+"").padStart(4," ")}),ie.jsx("span",{className:"bg-white text-primary flex-grow-1 px-3 py-1 text-truncate",children:t.label})]},t.id))]}):ie.jsxs("h2",{className:"display-3 mt-5 pt-5",children:["No topics related to: ",ie.jsx("div",{className:"fw-normal",children:Fa.capitalize(m)})]})}),lg=({id:m,label:g,checked:t,disabled:r,onChange:l,className:a})=>ie.jsxs("label",{htmlFor:m,className:ps("d-flex flex-row align-items-center cursor",a),role:"button",children:[ie.jsx("input",{id:m,type:"checkbox",className:"visually-hidden",checked:t,disabled:r,onChange:u=>l(u.target.checked)}),t?ie.jsx(R0,{className:"fs-1"}):ie.jsx(C0,{className:"fs-1"}),g&&ie.jsx("span",{className:"ms-2 small",children:g})]}),q0=()=>{const{language:m,topics:g,topicsDict:t}=Io(),[r,l]=De.useState("map"),[a,u]=De.useState(!1),{search:p}=Dg(),f=De.useMemo(()=>Fa.fromPairs([...new URLSearchParams(p.replace(/^\?/,""))]),[p]).q,v=De.useMemo(()=>{const T=new cu({fields:["label","index"],idField:"id"});return T.addAll(g.map(R=>({id:R.id,label:R.label,index:R.index+""}))),T},[g]),w=De.useMemo(()=>f?v.search(f).map(({id:T})=>t[T]):null,[v,f,t]);return ie.jsxs("main",{className:"bg-secondary text-white d-flex flex-column",children:[ie.jsx(Ef,{colorClassNameSuffix:"light",children:ie.jsx("h1",{className:"fs-5 mt-1",children:"Grounding AI"})}),ie.jsxs("section",{className:"flex-grow-1 position-relative",children:[ie.jsx(V0,{tileSources:"/web-application/map/map.dzi",points:w||void 0}),r==="list"&&w&&ie.jsx("div",{className:"position-absolute inset-0 bg-secondary p-4 overflow-auto pt-5",children:ie.jsx(G0,{query:f,results:w})})]}),ie.jsxs("section",{className:"p-4 pt-0 pb-4",children:[ie.jsx("div",{className:"mb-2 mt-2",children:ie.jsx(lg,{id:"select-results-mode",className:ps("small font-monospace text-light",!f&&"invisible"),disabled:!f,checked:r==="list",onChange:T=>l(T?"list":"map"),label:Si({en:"Show results in a list",da:"Vis resultater i en liste"},m).toUpperCase()})}),ie.jsx("div",{className:"mb-2 d-none",children:ie.jsx(lg,{id:"show-clusters",className:"small font-monospace text-light",checked:a,onChange:T=>u(T),label:Si({en:"Show cluster tags",da:"Vis klyngemrker"},m).toUpperCase()})}),ie.jsx("div",{className:"font-monospace",children:ie.jsx(ep,{inputClassName:"bg-light-blue border-light-blue",initialQuery:f})})]})]})};var tp=Iw,Gg=m=>m,vf={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var Z0=vf.exports,ug;function X0(){return ug||(ug=1,function(m,g){((t,r)=>{m.exports=r()})(Z0,function t(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},l,a=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,p={},h=0,f={};function v(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(U){var te=Se(U);te.chunkSize=parseInt(te.chunkSize),U.step||U.chunk||(te.chunkSize=null),this._handle=new D(te),(this._handle.streamer=this)._config=te}).call(this,N),this.parseChunk=function(U,te){var ve=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<ve){let Fe=this._config.newline;Fe||(ce=this._config.quoteChar||'"',Fe=this._handle.guessLineEndings(U,ce)),U=[...U.split(Fe).slice(ve)].join(Fe)}this.isFirstChunk&&we(this._config.beforeFirstChunk)&&(ce=this._config.beforeFirstChunk(U))!==void 0&&(U=ce),this.isFirstChunk=!1,this._halted=!1;var ve=this._partialLine+U,ce=(this._partialLine="",this._handle.parse(ve,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(U=ce.meta.cursor,ve=(this._finished||(this._partialLine=ve.substring(U-this._baseIndex),this._baseIndex=U),ce&&ce.data&&(this._rowCount+=ce.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)r.postMessage({results:ce,workerId:f.WORKER_ID,finished:ve});else if(we(this._config.chunk)&&!te){if(this._config.chunk(ce,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=ce=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ce.data),this._completeResults.errors=this._completeResults.errors.concat(ce.errors),this._completeResults.meta=ce.meta),this._completed||!ve||!we(this._config.complete)||ce&&ce.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ve||ce&&ce.meta.paused||this._nextChunk(),ce}this._halted=!0},this._sendError=function(U){we(this._config.error)?this._config.error(U):u&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:U,finished:!1})}}function w(N){var U;(N=N||{}).chunkSize||(N.chunkSize=f.RemoteChunkSize),v.call(this,N),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(te){this._input=te,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(U=new XMLHttpRequest,this._config.withCredentials&&(U.withCredentials=this._config.withCredentials),a||(U.onload=Z(this._chunkLoaded,this),U.onerror=Z(this._chunkError,this)),U.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var te,ve=this._config.downloadRequestHeaders;for(te in ve)U.setRequestHeader(te,ve[te])}var ce;this._config.chunkSize&&(ce=this._start+this._config.chunkSize-1,U.setRequestHeader("Range","bytes="+this._start+"-"+ce));try{U.send(this._config.downloadRequestBody)}catch(Fe){this._chunkError(Fe.message)}a&&U.status===0&&this._chunkError()}},this._chunkLoaded=function(){U.readyState===4&&(U.status<200||400<=U.status?this._chunkError():(this._start+=this._config.chunkSize||U.responseText.length,this._finished=!this._config.chunkSize||this._start>=(te=>(te=te.getResponseHeader("Content-Range"))!==null?parseInt(te.substring(te.lastIndexOf("/")+1)):-1)(U),this.parseChunk(U.responseText)))},this._chunkError=function(te){te=U.statusText||te,this._sendError(new Error(te))}}function T(N){(N=N||{}).chunkSize||(N.chunkSize=f.LocalChunkSize),v.call(this,N);var U,te,ve=typeof FileReader<"u";this.stream=function(ce){this._input=ce,te=ce.slice||ce.webkitSlice||ce.mozSlice,ve?((U=new FileReader).onload=Z(this._chunkLoaded,this),U.onerror=Z(this._chunkError,this)):U=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ce=this._input,Fe=(this._config.chunkSize&&(Fe=Math.min(this._start+this._config.chunkSize,this._input.size),ce=te.call(ce,this._start,Fe)),U.readAsText(ce,this._config.encoding));ve||this._chunkLoaded({target:{result:Fe}})},this._chunkLoaded=function(ce){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ce.target.result)},this._chunkError=function(){this._sendError(U.error)}}function R(N){var U;v.call(this,N=N||{}),this.stream=function(te){return U=te,this._nextChunk()},this._nextChunk=function(){var te,ve;if(!this._finished)return te=this._config.chunkSize,U=te?(ve=U.substring(0,te),U.substring(te)):(ve=U,""),this._finished=!U,this.parseChunk(ve)}}function L(N){v.call(this,N=N||{});var U=[],te=!0,ve=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ce){this._input=ce,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ve&&U.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),U.length?this.parseChunk(U.shift()):te=!0},this._streamData=Z(function(ce){try{U.push(typeof ce=="string"?ce:ce.toString(this._config.encoding)),te&&(te=!1,this._checkIsFinished(),this.parseChunk(U.shift()))}catch(Fe){this._streamError(Fe)}},this),this._streamError=Z(function(ce){this._streamCleanUp(),this._sendError(ce)},this),this._streamEnd=Z(function(){this._streamCleanUp(),ve=!0,this._streamData("")},this),this._streamCleanUp=Z(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function D(N){var U,te,ve,ce,Fe=Math.pow(2,53),Ge=-Fe,yt=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,dt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Oe=this,pe=0,ye=0,Re=!1,j=!1,se=[],ue={data:[],errors:[],meta:{}};function Ne(Me){return N.skipEmptyLines==="greedy"?Me.join("").trim()==="":Me.length===1&&Me[0].length===0}function He(){if(ue&&ve&&(lt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),ve=!1),N.skipEmptyLines&&(ue.data=ue.data.filter(function(Ct){return!Ne(Ct)})),Xe()){let Ct=function(Bt,Tt){we(N.transformHeader)&&(Bt=N.transformHeader(Bt,Tt)),se.push(Bt)};var Ye=Ct;if(ue)if(Array.isArray(ue.data[0])){for(var Me=0;Xe()&&Me<ue.data.length;Me++)ue.data[Me].forEach(Ct);ue.data.splice(0,1)}else ue.data.forEach(Ct)}function Ke(Ct,Bt){for(var Tt=N.header?{}:[],pt=0;pt<Ct.length;pt++){var gt=pt,S=Ct[pt],S=((k,K)=>(he=>(N.dynamicTypingFunction&&N.dynamicTyping[he]===void 0&&(N.dynamicTyping[he]=N.dynamicTypingFunction(he)),(N.dynamicTyping[he]||N.dynamicTyping)===!0))(k)?K==="true"||K==="TRUE"||K!=="false"&&K!=="FALSE"&&((he=>{if(yt.test(he)&&(he=parseFloat(he),Ge<he&&he<Fe))return 1})(K)?parseFloat(K):dt.test(K)?new Date(K):K===""?null:K):K)(gt=N.header?pt>=se.length?"__parsed_extra":se[pt]:gt,S=N.transform?N.transform(S,gt):S);gt==="__parsed_extra"?(Tt[gt]=Tt[gt]||[],Tt[gt].push(S)):Tt[gt]=S}return N.header&&(pt>se.length?lt("FieldMismatch","TooManyFields","Too many fields: expected "+se.length+" fields but parsed "+pt,ye+Bt):pt<se.length&&lt("FieldMismatch","TooFewFields","Too few fields: expected "+se.length+" fields but parsed "+pt,ye+Bt)),Tt}var Et;ue&&(N.header||N.dynamicTyping||N.transform)&&(Et=1,!ue.data.length||Array.isArray(ue.data[0])?(ue.data=ue.data.map(Ke),Et=ue.data.length):ue.data=Ke(ue.data,0),N.header&&ue.meta&&(ue.meta.fields=se),ye+=Et)}function Xe(){return N.header&&se.length===0}function lt(Me,Ke,Et,Ye){Me={type:Me,code:Ke,message:Et},Ye!==void 0&&(Me.row=Ye),ue.errors.push(Me)}we(N.step)&&(ce=N.step,N.step=function(Me){ue=Me,Xe()?He():(He(),ue.data.length!==0&&(pe+=Me.data.length,N.preview&&pe>N.preview?te.abort():(ue.data=ue.data[0],ce(ue,Oe))))}),this.parse=function(Me,Ke,Et){var Ye=N.quoteChar||'"',Ye=(N.newline||(N.newline=this.guessLineEndings(Me,Ye)),ve=!1,N.delimiter?we(N.delimiter)&&(N.delimiter=N.delimiter(Me),ue.meta.delimiter=N.delimiter):((Ye=((Ct,Bt,Tt,pt,gt)=>{var S,k,K,he;gt=gt||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var xe=0;xe<gt.length;xe++){for(var Ie,de=gt[xe],We=0,ut=0,ct=0,ze=(K=void 0,new z({comments:pt,delimiter:de,newline:Bt,preview:10}).parse(Ct)),ht=0;ht<ze.data.length;ht++)Tt&&Ne(ze.data[ht])?ct++:(Ie=ze.data[ht].length,ut+=Ie,K===void 0?K=Ie:0<Ie&&(We+=Math.abs(Ie-K),K=Ie));0<ze.data.length&&(ut/=ze.data.length-ct),(k===void 0||We<=k)&&(he===void 0||he<ut)&&1.99<ut&&(k=We,S=de,he=ut)}return{successful:!!(N.delimiter=S),bestDelimiter:S}})(Me,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=Ye.bestDelimiter:(ve=!0,N.delimiter=f.DefaultDelimiter),ue.meta.delimiter=N.delimiter),Se(N));return N.preview&&N.header&&Ye.preview++,U=Me,te=new z(Ye),ue=te.parse(U,Ke,Et),He(),Re?{meta:{paused:!0}}:ue||{meta:{paused:!1}}},this.paused=function(){return Re},this.pause=function(){Re=!0,te.abort(),U=we(N.chunk)?"":U.substring(te.getCharIndex())},this.resume=function(){Oe.streamer._halted?(Re=!1,Oe.streamer.parseChunk(U,!0)):setTimeout(Oe.resume,3)},this.aborted=function(){return j},this.abort=function(){j=!0,te.abort(),ue.meta.aborted=!0,we(N.complete)&&N.complete(ue),U=""},this.guessLineEndings=function(Ct,Ye){Ct=Ct.substring(0,1048576);var Ye=new RegExp(F(Ye)+"([^]*?)"+F(Ye),"gm"),Et=(Ct=Ct.replace(Ye,"")).split("\r"),Ye=Ct.split(`
`),Ct=1<Ye.length&&Ye[0].length<Et[0].length;if(Et.length===1||Ct)return`
`;for(var Bt=0,Tt=0;Tt<Et.length;Tt++)Et[Tt][0]===`
`&&Bt++;return Bt>=Et.length/2?`\r
`:"\r"}}function F(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function z(N){var U=(N=N||{}).delimiter,te=N.newline,ve=N.comments,ce=N.step,Fe=N.preview,Ge=N.fastMode,yt=null,dt=!1,Oe=N.quoteChar==null?'"':N.quoteChar,pe=Oe;if(N.escapeChar!==void 0&&(pe=N.escapeChar),(typeof U!="string"||-1<f.BAD_DELIMITERS.indexOf(U))&&(U=","),ve===U)throw new Error("Comment character same as delimiter");ve===!0?ve="#":(typeof ve!="string"||-1<f.BAD_DELIMITERS.indexOf(ve))&&(ve=!1),te!==`
`&&te!=="\r"&&te!==`\r
`&&(te=`
`);var ye=0,Re=!1;this.parse=function(j,se,ue){if(typeof j!="string")throw new Error("Input must be a string");var Ne=j.length,He=U.length,Xe=te.length,lt=ve.length,Me=we(ce),Ke=[],Et=[],Ye=[],Ct=ye=0;if(!j)return We();if(Ge||Ge!==!1&&j.indexOf(Oe)===-1){for(var Bt=j.split(te),Tt=0;Tt<Bt.length;Tt++){if(Ye=Bt[Tt],ye+=Ye.length,Tt!==Bt.length-1)ye+=te.length;else if(ue)return We();if(!ve||Ye.substring(0,lt)!==ve){if(Me){if(Ke=[],he(Ye.split(U)),ut(),Re)return We()}else he(Ye.split(U));if(Fe&&Fe<=Tt)return Ke=Ke.slice(0,Fe),We(!0)}}return We()}for(var pt=j.indexOf(U,ye),gt=j.indexOf(te,ye),S=new RegExp(F(pe)+F(Oe),"g"),k=j.indexOf(Oe,ye);;)if(j[ye]===Oe)for(k=ye,ye++;;){if((k=j.indexOf(Oe,k+1))===-1)return ue||Et.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ke.length,index:ye}),Ie();if(k===Ne-1)return Ie(j.substring(ye,k).replace(S,Oe));if(Oe===pe&&j[k+1]===pe)k++;else if(Oe===pe||k===0||j[k-1]!==pe){pt!==-1&&pt<k+1&&(pt=j.indexOf(U,k+1));var K=xe((gt=gt!==-1&&gt<k+1?j.indexOf(te,k+1):gt)===-1?pt:Math.min(pt,gt));if(j.substr(k+1+K,He)===U){Ye.push(j.substring(ye,k).replace(S,Oe)),j[ye=k+1+K+He]!==Oe&&(k=j.indexOf(Oe,ye)),pt=j.indexOf(U,ye),gt=j.indexOf(te,ye);break}if(K=xe(gt),j.substring(k+1+K,k+1+K+Xe)===te){if(Ye.push(j.substring(ye,k).replace(S,Oe)),de(k+1+K+Xe),pt=j.indexOf(U,ye),k=j.indexOf(Oe,ye),Me&&(ut(),Re))return We();if(Fe&&Ke.length>=Fe)return We(!0);break}Et.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ke.length,index:ye}),k++}}else if(ve&&Ye.length===0&&j.substring(ye,ye+lt)===ve){if(gt===-1)return We();ye=gt+Xe,gt=j.indexOf(te,ye),pt=j.indexOf(U,ye)}else if(pt!==-1&&(pt<gt||gt===-1))Ye.push(j.substring(ye,pt)),ye=pt+He,pt=j.indexOf(U,ye);else{if(gt===-1)break;if(Ye.push(j.substring(ye,gt)),de(gt+Xe),Me&&(ut(),Re))return We();if(Fe&&Ke.length>=Fe)return We(!0)}return Ie();function he(ct){Ke.push(ct),Ct=ye}function xe(ct){var ze=0;return ze=ct!==-1&&(ct=j.substring(k+1,ct))&&ct.trim()===""?ct.length:ze}function Ie(ct){return ue||(ct===void 0&&(ct=j.substring(ye)),Ye.push(ct),ye=Ne,he(Ye),Me&&ut()),We()}function de(ct){ye=ct,he(Ye),Ye=[],gt=j.indexOf(te,ye)}function We(ct){if(N.header&&!se&&Ke.length&&!dt){var ze=Ke[0],ht={},C=new Set(ze);let E=!1;for(let I=0;I<ze.length;I++){let M=ze[I];if(ht[M=we(N.transformHeader)?N.transformHeader(M,I):M]){let le,Ee=ht[M];for(;le=M+"_"+Ee,Ee++,C.has(le););C.add(le),ze[I]=le,ht[M]++,E=!0,(yt=yt===null?{}:yt)[le]=M}else ht[M]=1,ze[I]=M;C.add(M)}E&&console.warn("Duplicate headers found and renamed."),dt=!0}return{data:Ke,errors:Et,meta:{delimiter:U,linebreak:te,aborted:Re,truncated:!!ct,cursor:Ct+(se||0),renamedHeaders:yt}}}function ut(){ce(We()),Ke=[],Et=[]}},this.abort=function(){Re=!0},this.getCharIndex=function(){return ye}}function q(N){var U=N.data,te=p[U.workerId],ve=!1;if(U.error)te.userError(U.error,U.file);else if(U.results&&U.results.data){var ce={abort:function(){ve=!0,ee(U.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Le,resume:Le};if(we(te.userStep)){for(var Fe=0;Fe<U.results.data.length&&(te.userStep({data:U.results.data[Fe],errors:U.results.errors,meta:U.results.meta},ce),!ve);Fe++);delete U.results}else we(te.userChunk)&&(te.userChunk(U.results,ce,U.file),delete U.results)}U.finished&&!ve&&ee(U.workerId,U.results)}function ee(N,U){var te=p[N];we(te.userComplete)&&te.userComplete(U),te.terminate(),delete p[N]}function Le(){throw new Error("Not implemented.")}function Se(N){if(typeof N!="object"||N===null)return N;var U,te=Array.isArray(N)?[]:{};for(U in N)te[U]=Se(N[U]);return te}function Z(N,U){return function(){N.apply(U,arguments)}}function we(N){return typeof N=="function"}return f.parse=function(N,U){var te=(U=U||{}).dynamicTyping||!1;if(we(te)&&(U.dynamicTypingFunction=te,te={}),U.dynamicTyping=te,U.transform=!!we(U.transform)&&U.transform,!U.worker||!f.WORKERS_SUPPORTED)return te=null,f.NODE_STREAM_INPUT,typeof N=="string"?(N=(ve=>ve.charCodeAt(0)!==65279?ve:ve.slice(1))(N),te=new(U.download?w:R)(U)):N.readable===!0&&we(N.read)&&we(N.on)?te=new L(U):(r.File&&N instanceof File||N instanceof Object)&&(te=new T(U)),te.stream(N);(te=(()=>{var ve;return!!f.WORKERS_SUPPORTED&&(ve=(()=>{var ce=r.URL||r.webkitURL||null,Fe=t.toString();return f.BLOB_URL||(f.BLOB_URL=ce.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Fe,")();"],{type:"text/javascript"})))})(),(ve=new r.Worker(ve)).onmessage=q,ve.id=h++,p[ve.id]=ve)})()).userStep=U.step,te.userChunk=U.chunk,te.userComplete=U.complete,te.userError=U.error,U.step=we(U.step),U.chunk=we(U.chunk),U.complete=we(U.complete),U.error=we(U.error),delete U.worker,te.postMessage({input:N,config:U,workerId:te.id})},f.unparse=function(N,U){var te=!1,ve=!0,ce=",",Fe=`\r
`,Ge='"',yt=Ge+Ge,dt=!1,Oe=null,pe=!1,ye=((()=>{if(typeof U=="object"){if(typeof U.delimiter!="string"||f.BAD_DELIMITERS.filter(function(se){return U.delimiter.indexOf(se)!==-1}).length||(ce=U.delimiter),typeof U.quotes!="boolean"&&typeof U.quotes!="function"&&!Array.isArray(U.quotes)||(te=U.quotes),typeof U.skipEmptyLines!="boolean"&&typeof U.skipEmptyLines!="string"||(dt=U.skipEmptyLines),typeof U.newline=="string"&&(Fe=U.newline),typeof U.quoteChar=="string"&&(Ge=U.quoteChar),typeof U.header=="boolean"&&(ve=U.header),Array.isArray(U.columns)){if(U.columns.length===0)throw new Error("Option columns is empty");Oe=U.columns}U.escapeChar!==void 0&&(yt=U.escapeChar+Ge),U.escapeFormulae instanceof RegExp?pe=U.escapeFormulae:typeof U.escapeFormulae=="boolean"&&U.escapeFormulae&&(pe=/^[=+\-@\t\r].*$/)}})(),new RegExp(F(Ge),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return Re(null,N,dt);if(typeof N[0]=="object")return Re(Oe||Object.keys(N[0]),N,dt)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||Oe),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),Re(N.fields||[],N.data||[],dt);throw new Error("Unable to serialize unrecognized input");function Re(se,ue,Ne){var He="",Xe=(typeof se=="string"&&(se=JSON.parse(se)),typeof ue=="string"&&(ue=JSON.parse(ue)),Array.isArray(se)&&0<se.length),lt=!Array.isArray(ue[0]);if(Xe&&ve){for(var Me=0;Me<se.length;Me++)0<Me&&(He+=ce),He+=j(se[Me],Me);0<ue.length&&(He+=Fe)}for(var Ke=0;Ke<ue.length;Ke++){var Et=(Xe?se:ue[Ke]).length,Ye=!1,Ct=Xe?Object.keys(ue[Ke]).length===0:ue[Ke].length===0;if(Ne&&!Xe&&(Ye=Ne==="greedy"?ue[Ke].join("").trim()==="":ue[Ke].length===1&&ue[Ke][0].length===0),Ne==="greedy"&&Xe){for(var Bt=[],Tt=0;Tt<Et;Tt++){var pt=lt?se[Tt]:Tt;Bt.push(ue[Ke][pt])}Ye=Bt.join("").trim()===""}if(!Ye){for(var gt=0;gt<Et;gt++){0<gt&&!Ct&&(He+=ce);var S=Xe&&lt?se[gt]:gt;He+=j(ue[Ke][S],gt)}Ke<ue.length-1&&(!Ne||0<Et&&!Ct)&&(He+=Fe)}}return He}function j(se,ue){var Ne,He;return se==null?"":se.constructor===Date?JSON.stringify(se).slice(1,25):(He=!1,pe&&typeof se=="string"&&pe.test(se)&&(se="'"+se,He=!0),Ne=se.toString().replace(ye,yt),(He=He||te===!0||typeof te=="function"&&te(se,ue)||Array.isArray(te)&&te[ue]||((Xe,lt)=>{for(var Me=0;Me<lt.length;Me++)if(-1<Xe.indexOf(lt[Me]))return!0;return!1})(Ne,f.BAD_DELIMITERS)||-1<Ne.indexOf(ce)||Ne.charAt(0)===" "||Ne.charAt(Ne.length-1)===" ")?Ge+Ne+Ge:Ne)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!a&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=z,f.ParserHandle=D,f.NetworkStreamer=w,f.FileStreamer=T,f.StringStreamer=R,f.ReadableStreamStreamer=L,r.jQuery&&((l=r.jQuery).fn.parse=function(N){var U=N.config||{},te=[];return this.each(function(Fe){if(!(l(this).prop("tagName").toUpperCase()==="INPUT"&&l(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Ge=0;Ge<this.files.length;Ge++)te.push({file:this.files[Ge],inputElem:this,instanceConfig:l.extend({},U)})}),ve(),this;function ve(){if(te.length===0)we(N.complete)&&N.complete();else{var Fe,Ge,yt,dt,Oe=te[0];if(we(N.before)){var pe=N.before(Oe.file,Oe.inputElem);if(typeof pe=="object"){if(pe.action==="abort")return Fe="AbortError",Ge=Oe.file,yt=Oe.inputElem,dt=pe.reason,void(we(N.error)&&N.error({name:Fe},Ge,yt,dt));if(pe.action==="skip")return void ce();typeof pe.config=="object"&&(Oe.instanceConfig=l.extend(Oe.instanceConfig,pe.config))}else if(pe==="skip")return void ce()}var ye=Oe.instanceConfig.complete;Oe.instanceConfig.complete=function(Re){we(ye)&&ye(Re,Oe.file,Oe.inputElem),ce()},f.parse(Oe.file,Oe.instanceConfig)}}function ce(){te.splice(0,1),ve()}}),u&&(r.onmessage=function(N){N=N.data,f.WORKER_ID===void 0&&N&&(f.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=f.parse(N.input,N.config))&&r.postMessage({workerId:f.WORKER_ID,results:N,finished:!0})}),(w.prototype=Object.create(v.prototype)).constructor=w,(T.prototype=Object.create(v.prototype)).constructor=T,(R.prototype=Object.create(R.prototype)).constructor=R,(L.prototype=Object.create(v.prototype)).constructor=L,f})}(vf)),vf.exports}var K0=X0();async function Y0(){const g=await(await fetch("/web-application/labels.csv")).text(),{data:t}=K0.parse(g,{header:!0});return t.map(r=>({id:r.id,label:r.label,index:+r.number,x:+r.X,y:+r.Y}))}async function Q0(m){return await(await fetch(`/web-application/summaries/${m}.json`)).json()}const J0=["en","da"],$0=new Set(J0),e_="en",t_={en:["en-GB","en",/^en[-_]/],da:["da-DK","da",/^da[-_]/,/^en[-_]/]},n_={en:"en-GB",da:"da-DK"},i_={size:19,color:"#ff6b5f"},cg="grounded-ai-language",r_=Gg(async()=>({topics:await Y0()})),s_=()=>{const{topics:m}=tp(),g=De.useMemo(()=>Fa.keyBy(m,"id"),[m]),t=De.useMemo(()=>{const p=localStorage.getItem(cg);return p&&$0.has(p)?p:e_},[]),[r,l]=De.useState(t),[a,u]=De.useState(null);return De.useEffect(()=>{localStorage.setItem(cg,r)},[r]),ie.jsx(Ig.Provider,{value:{language:r,topics:m,topicsDict:g,selectedTopic:a,setLanguage:l,selectTopic:u},children:ie.jsx(zw,{})})};function o_(m){return Xn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.5 10c-.223 0-.437.034-.65.065.069-.232.14-.468.254-.68.114-.308.292-.575.469-.844.148-.291.409-.488.601-.737.201-.242.475-.403.692-.604.213-.21.492-.315.714-.463.232-.133.434-.28.65-.35l.539-.222.474-.197-.485-1.938-.597.144c-.191.048-.424.104-.689.171-.271.05-.56.187-.882.312-.318.142-.686.238-1.028.466-.344.218-.741.4-1.091.692-.339.301-.748.562-1.05.945-.33.358-.656.734-.909 1.162-.293.408-.492.856-.702 1.299-.19.443-.343.896-.468 1.336-.237.882-.343 1.72-.384 2.437-.034.718-.014 1.315.028 1.747.015.204.043.402.063.539l.025.168.026-.006A4.5 4.5 0 1 0 6.5 10zm11 0c-.223 0-.437.034-.65.065.069-.232.14-.468.254-.68.114-.308.292-.575.469-.844.148-.291.409-.488.601-.737.201-.242.475-.403.692-.604.213-.21.492-.315.714-.463.232-.133.434-.28.65-.35l.539-.222.474-.197-.485-1.938-.597.144c-.191.048-.424.104-.689.171-.271.05-.56.187-.882.312-.317.143-.686.238-1.028.467-.344.218-.741.4-1.091.692-.339.301-.748.562-1.05.944-.33.358-.656.734-.909 1.162-.293.408-.492.856-.702 1.299-.19.443-.343.896-.468 1.336-.237.882-.343 1.72-.384 2.437-.034.718-.014 1.315.028 1.747.015.204.043.402.063.539l.025.168.026-.006A4.5 4.5 0 1 0 17.5 10z"},child:[]}]})(m)}function a_(m){return Xn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.95 8.721-.025-.168-.026.006A4.5 4.5 0 1 0 17.5 14c.223 0 .437-.034.65-.065-.069.232-.14.468-.254.68-.114.308-.292.575-.469.844-.148.291-.409.488-.601.737-.201.242-.475.403-.692.604-.213.21-.492.315-.714.463-.232.133-.434.28-.65.35l-.539.222-.474.197.484 1.939.597-.144c.191-.048.424-.104.689-.171.271-.05.56-.187.882-.312.317-.143.686-.238 1.028-.467.344-.218.741-.4 1.091-.692.339-.301.748-.562 1.05-.944.33-.358.656-.734.909-1.162.293-.408.492-.856.702-1.299.19-.443.343-.896.468-1.336.237-.882.343-1.72.384-2.437.034-.718.014-1.315-.028-1.747a7.028 7.028 0 0 0-.063-.539zm-11 0-.025-.168-.026.006A4.5 4.5 0 1 0 6.5 14c.223 0 .437-.034.65-.065-.069.232-.14.468-.254.68-.114.308-.292.575-.469.844-.148.291-.409.488-.601.737-.201.242-.475.403-.692.604-.213.21-.492.315-.714.463-.232.133-.434.28-.65.35l-.539.222c-.301.123-.473.195-.473.195l.484 1.939.597-.144c.191-.048.424-.104.689-.171.271-.05.56-.187.882-.312.317-.143.686-.238 1.028-.467.344-.218.741-.4 1.091-.692.339-.301.748-.562 1.05-.944.33-.358.656-.734.909-1.162.293-.408.492-.856.702-1.299.19-.443.343-.896.468-1.336.237-.882.343-1.72.384-2.437.034-.718.014-1.315-.028-1.747a7.571 7.571 0 0 0-.064-.537z"},child:[]}]})(m)}const df=typeof speechSynthesis<"u";function l_(){const[m,g]=De.useState([]);return De.useEffect(()=>{const t=Date.now(),r=5e3,l=setInterval(()=>{const a=window.speechSynthesis.getVoices();if(a.length){g(a),clearInterval(l);return}if(Date.now()-t>r){clearInterval(l);return}},10)},[]),m}function u_(m){const g=l_(),[t,r]=De.useState(!1),[l,a]=De.useState(null),u=De.useCallback(()=>{!df||!speechSynthesis.speaking||(speechSynthesis.cancel(),r(!1))},[]),p=De.useCallback(h=>{if(speechSynthesis.speaking&&u(),!l||!df)return;const f=new SpeechSynthesisUtterance;f.voice=l,f.rate=1,f.pitch=1,f.lang=n_[m],f.text=h,f.volume=.5,speechSynthesis.speak(f),r(!0)},[u,l]);return De.useEffect(()=>{if(df&&g.length){speechSynthesis.addEventListener("end",()=>r(!1));let h=null;const f=t_[m];f.length?f.some(v=>(h=g.find(w=>typeof v=="string"?w.lang===v:w.lang.match(v))||null,h)):h=g[0]||null,a(h)}},[g,m]),{speak:p,isSpeaking:t,cancelSpeak:u,enabled:df&&!!l}}const c_=({textLanguage:m,text:g,className:t})=>{const{language:r}=Io(),{isSpeaking:l,cancelSpeak:a,speak:u,enabled:p}=u_(m);return De.useEffect(()=>()=>{a()},[]),p?ie.jsxs("button",{className:ps("btn",t),onClick:()=>{l?a():u(g)},children:[l?ie.jsx(S0,{className:"me-4"}):ie.jsx(E0,{className:"me-4"}),Si({en:"Read opinion outloud",da:"Ls meningen hjt"},r)]}):null},hg=({bot:m})=>{const{topic:g}=tp(),{language:t}=Io(),r=m==="critic"?"primary":"light-blue",l=m==="critic"?"light-blue":"primary",a=Si(g.bots[m],t),u=g.bots[m][t]?t:Ag(t);return De.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[g.id]),ie.jsxs("main",{className:`d-flex flex-column text-${r} bg-${l}`,children:[ie.jsx(Ef,{colorClassNameSuffix:r,children:ie.jsxs("a",{href:`#/topic/${g.id}`,className:`btn align-baseline p-0 pt-1 border-0 text-${r}`,children:[ie.jsx(Mg,{className:"me-2"})," ",Si({en:"Back",da:"Tilbage"},t)]})}),ie.jsxs("section",{className:"m-4 pb-0 d-flex flex-row align-items-end justify-content-between mb-3",children:[ie.jsxs("div",{className:"flex-shrink-1 pt-1",style:{flexBasis:"65%"},children:[ie.jsx("div",{className:"mb-3",children:ie.jsxs("small",{className:`px-2 py-1 border border-${r} font-monospace`,children:["#",g.number]})}),ie.jsx("h1",{className:"fw-bolder mb-0 hyphens",children:Si(g.headline,t)})]}),ie.jsx("img",{src:"/web-application/bot.png",alt:"The advocate bot",className:"img-fluid flex-shrink-0",style:{width:"35%"}})]}),a&&ie.jsx("section",{className:"p-4",children:ie.jsx(c_,{text:a,textLanguage:u,className:`btn-${r} w-100`})}),ie.jsx("section",{className:"p-4 pt-0 flex-grow-1",children:a?ie.jsxs("p",{className:"content mb-5",children:[ie.jsx(o_,{})," ",a," ",ie.jsx(a_,{})]}):ie.jsx("p",{className:"content mb-5 text-center",children:Si({en:"Oh, it seems this robot doesn't have an opinion on that matter...",da:"Oh, det ser ud til, at denne robot ikke har nogen mening om det emne..."},t)})}),ie.jsx("div",{className:"p-4 pt-0 font-monospace",children:ie.jsx(ep,{inputClassName:m==="critic"?"bg-light-purple border-light-purple":"bg-light-blue border-light-blue"})})]})};function h_(m,g){let t=m,r=g,l;for(;r;)l=t%r,t=r,r=l;return[m/t,g/t]}const f_=({points:m,className:g})=>{const t=De.useMemo(()=>{const[r,l]=h_(Wd,Vd);return`${r} / ${l}`},[]);return ie.jsxs("div",{className:ps("position-relative",g),children:[ie.jsx("img",{src:"/web-application/map.jpg",alt:"The map with all topics",className:"w-100",style:{aspectRatio:t}}),ie.jsx("svg",{className:"points position-absolute inset-0 w-100 h-100",children:m==null?void 0:m.map(r=>{const{id:l,x:a,y:u,size:p,color:h}={...i_,...r};return ie.jsx("circle",{cx:a/Wd*100+"%",cy:u/Vd*100+"%",r:p/2,fill:h},l)})})]})},Ad=Gg(async({params:{topicID:m}})=>{if(!m)throw new Error("Required topic ID is missing from URL");return{topic:await Q0(m)}}),d_=()=>{const{topic:m}=tp(),{language:g,topicsDict:t}=Io(),r=t[m.id];return De.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[m.id]),ie.jsxs("main",{className:"bg-secondary text-white d-flex flex-column",children:[ie.jsx(Ef,{colorClassNameSuffix:"light",children:ie.jsxs("a",{href:"#/map",className:"btn align-baseline p-0 pt-1 border-0 text-white",children:[ie.jsx(Mg,{className:"me-2"})," Back"]})}),ie.jsxs("section",{className:"p-4",children:[ie.jsx("div",{className:"mb-3",children:ie.jsxs("small",{className:"px-2 py-1 border border-light-blue color-light-blue font-monospace",children:["#",m.number]})}),ie.jsx("h1",{className:"fw-bolder mb-3 hyphens",children:Si(m.headline,g)}),ie.jsx(f_,{className:"w-100 mb-3",points:[r]}),ie.jsx("p",{className:"content mb-5",children:Si(m.content,g)}),ie.jsx("hr",{className:"border-1 border-white opacity-100"}),ie.jsx("h2",{className:"fw-bolder",children:"Get some synthetic opinions on this topic"}),ie.jsxs("section",{className:"d-flex flex-row justify-content-between my-4",children:[ie.jsxs("a",{href:`#/topic/${m.id}/bot/critic`,className:"border-0 bg-light-blue text-primary rounded me-3 text-decoration-none",children:[ie.jsx("div",{className:"text-uppercase font-monospace text-center fw-bolder m-2",children:"The skeptic bot"}),ie.jsx("img",{src:"/web-application/bot.png",alt:"The skeptic bot",className:"img-fluid w-100",style:{transform:"scale(-1,1)"}})]}),ie.jsxs("a",{href:`#/topic/${m.id}/bot/potential`,className:"border-0 bg-primary text-light-blue rounded text-decoration-none",children:[ie.jsx("div",{className:"text-uppercase font-monospace text-center fw-bolder m-2",children:"The advocate bot"}),ie.jsx("img",{src:"/web-application/bot.png",alt:"The advocate bot",className:"img-fluid w-100"})]})]}),ie.jsx("div",{className:"font-monospace mt-5",children:ie.jsx(ep,{inputClassName:"bg-light-blue border-light-blue"})})]})]})};function p_(){return Uw([{path:"/",errorElement:ie.jsx(cf,{}),element:ie.jsx(s_,{}),loader:r_,children:[{path:"/",element:ie.jsx(L0,{})},{path:"/map",element:ie.jsx(q0,{})},{path:"/about",element:ie.jsx(b0,{})},{path:"/topic/:topicID",element:ie.jsx(d_,{}),errorElement:ie.jsx(cf,{}),loader:Ad},{path:"/topic/:topicID/bot/critic",element:ie.jsx(hg,{bot:"critic"}),errorElement:ie.jsx(cf,{}),loader:Ad},{path:"/topic/:topicID/bot/potential",element:ie.jsx(hg,{bot:"potential"}),errorElement:ie.jsx(cf,{}),loader:Ad}]}])}const g_=()=>{const m=De.useMemo(()=>p_(),[]);return ie.jsx(Yw,{router:m})};Ey.createRoot(document.getElementById("root")).render(ie.jsx(De.StrictMode,{children:ie.jsx(g_,{})}));
